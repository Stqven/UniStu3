function Bg(o,r){for(var s=0;s<r.length;s++){const a=r[s];if(typeof a!="string"&&!Array.isArray(a)){for(const l in a)if(l!=="default"&&!(l in o)){const u=Object.getOwnPropertyDescriptor(a,l);u&&Object.defineProperty(o,l,u.get?u:{enumerable:!0,get:()=>a[l]})}}}return Object.freeze(Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}))}(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))a(l);new MutationObserver(l=>{for(const u of l)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function s(l){const u={};return l.integrity&&(u.integrity=l.integrity),l.referrerPolicy&&(u.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?u.credentials="include":l.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function a(l){if(l.ep)return;l.ep=!0;const u=s(l);fetch(l.href,u)}})();function Mg(o){return o&&o.__esModule&&Object.prototype.hasOwnProperty.call(o,"default")?o.default:o}function gs(o){if(Object.prototype.hasOwnProperty.call(o,"__esModule"))return o;var r=o.default;if(typeof r=="function"){var s=function a(){return this instanceof a?Reflect.construct(r,arguments,this.constructor):r.apply(this,arguments)};s.prototype=r.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(o).forEach(function(a){var l=Object.getOwnPropertyDescriptor(o,a);Object.defineProperty(s,a,l.get?l:{enumerable:!0,get:function(){return o[a]}})}),s}var Ja={exports:{}},ls={},Qa={exports:{}},ie={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pd;function zg(){if(Pd)return ie;Pd=1;var o=Symbol.for("react.element"),r=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),d=Symbol.for("react.context"),f=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),w=Symbol.iterator;function E(b){return b===null||typeof b!="object"?null:(b=w&&b[w]||b["@@iterator"],typeof b=="function"?b:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,R={};function j(b,N,se){this.props=b,this.context=N,this.refs=R,this.updater=se||x}j.prototype.isReactComponent={},j.prototype.setState=function(b,N){if(typeof b!="object"&&typeof b!="function"&&b!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,b,N,"setState")},j.prototype.forceUpdate=function(b){this.updater.enqueueForceUpdate(this,b,"forceUpdate")};function U(){}U.prototype=j.prototype;function B(b,N,se){this.props=b,this.context=N,this.refs=R,this.updater=se||x}var $=B.prototype=new U;$.constructor=B,C($,j.prototype),$.isPureReactComponent=!0;var F=Array.isArray,ne=Object.prototype.hasOwnProperty,re={current:null},Q={key:!0,ref:!0,__self:!0,__source:!0};function ae(b,N,se){var oe,ue={},ce=null,pe=null;if(N!=null)for(oe in N.ref!==void 0&&(pe=N.ref),N.key!==void 0&&(ce=""+N.key),N)ne.call(N,oe)&&!Q.hasOwnProperty(oe)&&(ue[oe]=N[oe]);var he=arguments.length-2;if(he===1)ue.children=se;else if(1<he){for(var we=Array(he),it=0;it<he;it++)we[it]=arguments[it+2];ue.children=we}if(b&&b.defaultProps)for(oe in he=b.defaultProps,he)ue[oe]===void 0&&(ue[oe]=he[oe]);return{$$typeof:o,type:b,key:ce,ref:pe,props:ue,_owner:re.current}}function Oe(b,N){return{$$typeof:o,type:b.type,key:N,ref:b.ref,props:b.props,_owner:b._owner}}function Ut(b){return typeof b=="object"&&b!==null&&b.$$typeof===o}function mr(b){var N={"=":"=0",":":"=2"};return"$"+b.replace(/[=:]/g,function(se){return N[se]})}var jt=/\/+/g;function st(b,N){return typeof b=="object"&&b!==null&&b.key!=null?mr(""+b.key):N.toString(36)}function yt(b,N,se,oe,ue){var ce=typeof b;(ce==="undefined"||ce==="boolean")&&(b=null);var pe=!1;if(b===null)pe=!0;else switch(ce){case"string":case"number":pe=!0;break;case"object":switch(b.$$typeof){case o:case r:pe=!0}}if(pe)return pe=b,ue=ue(pe),b=oe===""?"."+st(pe,0):oe,F(ue)?(se="",b!=null&&(se=b.replace(jt,"$&/")+"/"),yt(ue,N,se,"",function(it){return it})):ue!=null&&(Ut(ue)&&(ue=Oe(ue,se+(!ue.key||pe&&pe.key===ue.key?"":(""+ue.key).replace(jt,"$&/")+"/")+b)),N.push(ue)),1;if(pe=0,oe=oe===""?".":oe+":",F(b))for(var he=0;he<b.length;he++){ce=b[he];var we=oe+st(ce,he);pe+=yt(ce,N,se,we,ue)}else if(we=E(b),typeof we=="function")for(b=we.call(b),he=0;!(ce=b.next()).done;)ce=ce.value,we=oe+st(ce,he++),pe+=yt(ce,N,se,we,ue);else if(ce==="object")throw N=String(b),Error("Objects are not valid as a React child (found: "+(N==="[object Object]"?"object with keys {"+Object.keys(b).join(", ")+"}":N)+"). If you meant to render a collection of children, use an array instead.");return pe}function Pt(b,N,se){if(b==null)return b;var oe=[],ue=0;return yt(b,oe,"","",function(ce){return N.call(se,ce,ue++)}),oe}function Je(b){if(b._status===-1){var N=b._result;N=N(),N.then(function(se){(b._status===0||b._status===-1)&&(b._status=1,b._result=se)},function(se){(b._status===0||b._status===-1)&&(b._status=2,b._result=se)}),b._status===-1&&(b._status=0,b._result=N)}if(b._status===1)return b._result.default;throw b._result}var be={current:null},M={transition:null},ee={ReactCurrentDispatcher:be,ReactCurrentBatchConfig:M,ReactCurrentOwner:re};function W(){throw Error("act(...) is not supported in production builds of React.")}return ie.Children={map:Pt,forEach:function(b,N,se){Pt(b,function(){N.apply(this,arguments)},se)},count:function(b){var N=0;return Pt(b,function(){N++}),N},toArray:function(b){return Pt(b,function(N){return N})||[]},only:function(b){if(!Ut(b))throw Error("React.Children.only expected to receive a single React element child.");return b}},ie.Component=j,ie.Fragment=s,ie.Profiler=l,ie.PureComponent=B,ie.StrictMode=a,ie.Suspense=g,ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ee,ie.act=W,ie.cloneElement=function(b,N,se){if(b==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+b+".");var oe=C({},b.props),ue=b.key,ce=b.ref,pe=b._owner;if(N!=null){if(N.ref!==void 0&&(ce=N.ref,pe=re.current),N.key!==void 0&&(ue=""+N.key),b.type&&b.type.defaultProps)var he=b.type.defaultProps;for(we in N)ne.call(N,we)&&!Q.hasOwnProperty(we)&&(oe[we]=N[we]===void 0&&he!==void 0?he[we]:N[we])}var we=arguments.length-2;if(we===1)oe.children=se;else if(1<we){he=Array(we);for(var it=0;it<we;it++)he[it]=arguments[it+2];oe.children=he}return{$$typeof:o,type:b.type,key:ue,ref:ce,props:oe,_owner:pe}},ie.createContext=function(b){return b={$$typeof:d,_currentValue:b,_currentValue2:b,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},b.Provider={$$typeof:u,_context:b},b.Consumer=b},ie.createElement=ae,ie.createFactory=function(b){var N=ae.bind(null,b);return N.type=b,N},ie.createRef=function(){return{current:null}},ie.forwardRef=function(b){return{$$typeof:f,render:b}},ie.isValidElement=Ut,ie.lazy=function(b){return{$$typeof:y,_payload:{_status:-1,_result:b},_init:Je}},ie.memo=function(b,N){return{$$typeof:m,type:b,compare:N===void 0?null:N}},ie.startTransition=function(b){var N=M.transition;M.transition={};try{b()}finally{M.transition=N}},ie.unstable_act=W,ie.useCallback=function(b,N){return be.current.useCallback(b,N)},ie.useContext=function(b){return be.current.useContext(b)},ie.useDebugValue=function(){},ie.useDeferredValue=function(b){return be.current.useDeferredValue(b)},ie.useEffect=function(b,N){return be.current.useEffect(b,N)},ie.useId=function(){return be.current.useId()},ie.useImperativeHandle=function(b,N,se){return be.current.useImperativeHandle(b,N,se)},ie.useInsertionEffect=function(b,N){return be.current.useInsertionEffect(b,N)},ie.useLayoutEffect=function(b,N){return be.current.useLayoutEffect(b,N)},ie.useMemo=function(b,N){return be.current.useMemo(b,N)},ie.useReducer=function(b,N,se){return be.current.useReducer(b,N,se)},ie.useRef=function(b){return be.current.useRef(b)},ie.useState=function(b){return be.current.useState(b)},ie.useSyncExternalStore=function(b,N,se){return be.current.useSyncExternalStore(b,N,se)},ie.useTransition=function(){return be.current.useTransition()},ie.version="18.3.1",ie}var Rd;function Tl(){return Rd||(Rd=1,Qa.exports=zg()),Qa.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ad;function Fg(){if(Ad)return ls;Ad=1;var o=Tl(),r=Symbol.for("react.element"),s=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,l=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function d(f,g,m){var y,w={},E=null,x=null;m!==void 0&&(E=""+m),g.key!==void 0&&(E=""+g.key),g.ref!==void 0&&(x=g.ref);for(y in g)a.call(g,y)&&!u.hasOwnProperty(y)&&(w[y]=g[y]);if(f&&f.defaultProps)for(y in g=f.defaultProps,g)w[y]===void 0&&(w[y]=g[y]);return{$$typeof:r,type:f,key:E,ref:x,props:w,_owner:l.current}}return ls.Fragment=s,ls.jsx=d,ls.jsxs=d,ls}var Nd;function Vg(){return Nd||(Nd=1,Ja.exports=Fg()),Ja.exports}var k=Vg(),Ci={},Ya={exports:{}},tt={},Xa={exports:{}},Za={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Id;function Wg(){return Id||(Id=1,(function(o){function r(M,ee){var W=M.length;M.push(ee);e:for(;0<W;){var b=W-1>>>1,N=M[b];if(0<l(N,ee))M[b]=ee,M[W]=N,W=b;else break e}}function s(M){return M.length===0?null:M[0]}function a(M){if(M.length===0)return null;var ee=M[0],W=M.pop();if(W!==ee){M[0]=W;e:for(var b=0,N=M.length,se=N>>>1;b<se;){var oe=2*(b+1)-1,ue=M[oe],ce=oe+1,pe=M[ce];if(0>l(ue,W))ce<N&&0>l(pe,ue)?(M[b]=pe,M[ce]=W,b=ce):(M[b]=ue,M[oe]=W,b=oe);else if(ce<N&&0>l(pe,W))M[b]=pe,M[ce]=W,b=ce;else break e}}return ee}function l(M,ee){var W=M.sortIndex-ee.sortIndex;return W!==0?W:M.id-ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;o.unstable_now=function(){return u.now()}}else{var d=Date,f=d.now();o.unstable_now=function(){return d.now()-f}}var g=[],m=[],y=1,w=null,E=3,x=!1,C=!1,R=!1,j=typeof setTimeout=="function"?setTimeout:null,U=typeof clearTimeout=="function"?clearTimeout:null,B=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function $(M){for(var ee=s(m);ee!==null;){if(ee.callback===null)a(m);else if(ee.startTime<=M)a(m),ee.sortIndex=ee.expirationTime,r(g,ee);else break;ee=s(m)}}function F(M){if(R=!1,$(M),!C)if(s(g)!==null)C=!0,Je(ne);else{var ee=s(m);ee!==null&&be(F,ee.startTime-M)}}function ne(M,ee){C=!1,R&&(R=!1,U(ae),ae=-1),x=!0;var W=E;try{for($(ee),w=s(g);w!==null&&(!(w.expirationTime>ee)||M&&!mr());){var b=w.callback;if(typeof b=="function"){w.callback=null,E=w.priorityLevel;var N=b(w.expirationTime<=ee);ee=o.unstable_now(),typeof N=="function"?w.callback=N:w===s(g)&&a(g),$(ee)}else a(g);w=s(g)}if(w!==null)var se=!0;else{var oe=s(m);oe!==null&&be(F,oe.startTime-ee),se=!1}return se}finally{w=null,E=W,x=!1}}var re=!1,Q=null,ae=-1,Oe=5,Ut=-1;function mr(){return!(o.unstable_now()-Ut<Oe)}function jt(){if(Q!==null){var M=o.unstable_now();Ut=M;var ee=!0;try{ee=Q(!0,M)}finally{ee?st():(re=!1,Q=null)}}else re=!1}var st;if(typeof B=="function")st=function(){B(jt)};else if(typeof MessageChannel<"u"){var yt=new MessageChannel,Pt=yt.port2;yt.port1.onmessage=jt,st=function(){Pt.postMessage(null)}}else st=function(){j(jt,0)};function Je(M){Q=M,re||(re=!0,st())}function be(M,ee){ae=j(function(){M(o.unstable_now())},ee)}o.unstable_IdlePriority=5,o.unstable_ImmediatePriority=1,o.unstable_LowPriority=4,o.unstable_NormalPriority=3,o.unstable_Profiling=null,o.unstable_UserBlockingPriority=2,o.unstable_cancelCallback=function(M){M.callback=null},o.unstable_continueExecution=function(){C||x||(C=!0,Je(ne))},o.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Oe=0<M?Math.floor(1e3/M):5},o.unstable_getCurrentPriorityLevel=function(){return E},o.unstable_getFirstCallbackNode=function(){return s(g)},o.unstable_next=function(M){switch(E){case 1:case 2:case 3:var ee=3;break;default:ee=E}var W=E;E=ee;try{return M()}finally{E=W}},o.unstable_pauseExecution=function(){},o.unstable_requestPaint=function(){},o.unstable_runWithPriority=function(M,ee){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var W=E;E=M;try{return ee()}finally{E=W}},o.unstable_scheduleCallback=function(M,ee,W){var b=o.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?b+W:b):W=b,M){case 1:var N=-1;break;case 2:N=250;break;case 5:N=1073741823;break;case 4:N=1e4;break;default:N=5e3}return N=W+N,M={id:y++,callback:ee,priorityLevel:M,startTime:W,expirationTime:N,sortIndex:-1},W>b?(M.sortIndex=W,r(m,M),s(g)===null&&M===s(m)&&(R?(U(ae),ae=-1):R=!0,be(F,W-b))):(M.sortIndex=N,r(g,M),C||x||(C=!0,Je(ne))),M},o.unstable_shouldYield=mr,o.unstable_wrapCallback=function(M){var ee=E;return function(){var W=E;E=ee;try{return M.apply(this,arguments)}finally{E=W}}}})(Za)),Za}var $d;function qg(){return $d||($d=1,Xa.exports=Wg()),Xa.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ld;function Hg(){if(Ld)return tt;Ld=1;var o=Tl(),r=qg();function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,l={};function u(e,t){d(e,t),d(e+"Capture",t)}function d(e,t){for(l[e]=t,e=0;e<t.length;e++)a.add(t[e])}var f=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,y={},w={};function E(e){return g.call(w,e)?!0:g.call(y,e)?!1:m.test(e)?w[e]=!0:(y[e]=!0,!1)}function x(e,t,n,i){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return i?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function C(e,t,n,i){if(t===null||typeof t>"u"||x(e,t,n,i))return!0;if(i)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function R(e,t,n,i,c,h,p){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=i,this.attributeNamespace=c,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=h,this.removeEmptyString=p}var j={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){j[e]=new R(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];j[t]=new R(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){j[e]=new R(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){j[e]=new R(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){j[e]=new R(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){j[e]=new R(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){j[e]=new R(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){j[e]=new R(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){j[e]=new R(e,5,!1,e.toLowerCase(),null,!1,!1)});var U=/[\-:]([a-z])/g;function B(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(U,B);j[t]=new R(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(U,B);j[t]=new R(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(U,B);j[t]=new R(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){j[e]=new R(e,1,!1,e.toLowerCase(),null,!1,!1)}),j.xlinkHref=new R("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){j[e]=new R(e,1,!1,e.toLowerCase(),null,!0,!0)});function $(e,t,n,i){var c=j.hasOwnProperty(t)?j[t]:null;(c!==null?c.type!==0:i||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(C(t,n,c,i)&&(n=null),i||c===null?E(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):c.mustUseProperty?e[c.propertyName]=n===null?c.type===3?!1:"":n:(t=c.attributeName,i=c.attributeNamespace,n===null?e.removeAttribute(t):(c=c.type,n=c===3||c===4&&n===!0?"":""+n,i?e.setAttributeNS(i,t,n):e.setAttribute(t,n))))}var F=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ne=Symbol.for("react.element"),re=Symbol.for("react.portal"),Q=Symbol.for("react.fragment"),ae=Symbol.for("react.strict_mode"),Oe=Symbol.for("react.profiler"),Ut=Symbol.for("react.provider"),mr=Symbol.for("react.context"),jt=Symbol.for("react.forward_ref"),st=Symbol.for("react.suspense"),yt=Symbol.for("react.suspense_list"),Pt=Symbol.for("react.memo"),Je=Symbol.for("react.lazy"),be=Symbol.for("react.offscreen"),M=Symbol.iterator;function ee(e){return e===null||typeof e!="object"?null:(e=M&&e[M]||e["@@iterator"],typeof e=="function"?e:null)}var W=Object.assign,b;function N(e){if(b===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);b=t&&t[1]||""}return`
`+b+e}var se=!1;function oe(e,t){if(!e||se)return"";se=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(P){var i=P}Reflect.construct(e,[],t)}else{try{t.call()}catch(P){i=P}e.call(t.prototype)}else{try{throw Error()}catch(P){i=P}e()}}catch(P){if(P&&i&&typeof P.stack=="string"){for(var c=P.stack.split(`
`),h=i.stack.split(`
`),p=c.length-1,v=h.length-1;1<=p&&0<=v&&c[p]!==h[v];)v--;for(;1<=p&&0<=v;p--,v--)if(c[p]!==h[v]){if(p!==1||v!==1)do if(p--,v--,0>v||c[p]!==h[v]){var _=`
`+c[p].replace(" at new "," at ");return e.displayName&&_.includes("<anonymous>")&&(_=_.replace("<anonymous>",e.displayName)),_}while(1<=p&&0<=v);break}}}finally{se=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?N(e):""}function ue(e){switch(e.tag){case 5:return N(e.type);case 16:return N("Lazy");case 13:return N("Suspense");case 19:return N("SuspenseList");case 0:case 2:case 15:return e=oe(e.type,!1),e;case 11:return e=oe(e.type.render,!1),e;case 1:return e=oe(e.type,!0),e;default:return""}}function ce(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Q:return"Fragment";case re:return"Portal";case Oe:return"Profiler";case ae:return"StrictMode";case st:return"Suspense";case yt:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case mr:return(e.displayName||"Context")+".Consumer";case Ut:return(e._context.displayName||"Context")+".Provider";case jt:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Pt:return t=e.displayName||null,t!==null?t:ce(e.type)||"Memo";case Je:t=e._payload,e=e._init;try{return ce(e(t))}catch{}}return null}function pe(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ce(t);case 8:return t===ae?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function he(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function we(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function it(e){var t=we(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),i=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var c=n.get,h=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return c.call(this)},set:function(p){i=""+p,h.call(this,p)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return i},setValue:function(p){i=""+p},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function ys(e){e._valueTracker||(e._valueTracker=it(e))}function Ll(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),i="";return e&&(i=we(e)?e.checked?"true":"false":e.value),e=i,e!==n?(t.setValue(e),!0):!1}function ws(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function to(e,t){var n=t.checked;return W({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Ul(e,t){var n=t.defaultValue==null?"":t.defaultValue,i=t.checked!=null?t.checked:t.defaultChecked;n=he(t.value!=null?t.value:n),e._wrapperState={initialChecked:i,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Dl(e,t){t=t.checked,t!=null&&$(e,"checked",t,!1)}function ro(e,t){Dl(e,t);var n=he(t.value),i=t.type;if(n!=null)i==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(i==="submit"||i==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?no(e,t.type,n):t.hasOwnProperty("defaultValue")&&no(e,t.type,he(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Bl(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var i=t.type;if(!(i!=="submit"&&i!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function no(e,t,n){(t!=="number"||ws(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var kn=Array.isArray;function Dr(e,t,n,i){if(e=e.options,t){t={};for(var c=0;c<n.length;c++)t["$"+n[c]]=!0;for(n=0;n<e.length;n++)c=t.hasOwnProperty("$"+e[n].value),e[n].selected!==c&&(e[n].selected=c),c&&i&&(e[n].defaultSelected=!0)}else{for(n=""+he(n),t=null,c=0;c<e.length;c++){if(e[c].value===n){e[c].selected=!0,i&&(e[c].defaultSelected=!0);return}t!==null||e[c].disabled||(t=e[c])}t!==null&&(t.selected=!0)}}function so(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(s(91));return W({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Ml(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(s(92));if(kn(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:he(n)}}function zl(e,t){var n=he(t.value),i=he(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),i!=null&&(e.defaultValue=""+i)}function Fl(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Vl(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function io(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Vl(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var _s,Wl=(function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,i,c){MSApp.execUnsafeLocalFunction(function(){return e(t,n,i,c)})}:e})(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(_s=_s||document.createElement("div"),_s.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=_s.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function xn(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var bn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Vf=["Webkit","ms","Moz","O"];Object.keys(bn).forEach(function(e){Vf.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),bn[t]=bn[e]})});function ql(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||bn.hasOwnProperty(e)&&bn[e]?(""+t).trim():t+"px"}function Hl(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var i=n.indexOf("--")===0,c=ql(n,t[n],i);n==="float"&&(n="cssFloat"),i?e.setProperty(n,c):e[n]=c}}var Wf=W({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function oo(e,t){if(t){if(Wf[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(s(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(s(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(t.style!=null&&typeof t.style!="object")throw Error(s(62))}}function ao(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lo=null;function uo(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var co=null,Br=null,Mr=null;function Kl(e){if(e=Kn(e)){if(typeof co!="function")throw Error(s(280));var t=e.stateNode;t&&(t=Vs(t),co(e.stateNode,e.type,t))}}function Gl(e){Br?Mr?Mr.push(e):Mr=[e]:Br=e}function Jl(){if(Br){var e=Br,t=Mr;if(Mr=Br=null,Kl(e),t)for(e=0;e<t.length;e++)Kl(t[e])}}function Ql(e,t){return e(t)}function Yl(){}var ho=!1;function Xl(e,t,n){if(ho)return e(t,n);ho=!0;try{return Ql(e,t,n)}finally{ho=!1,(Br!==null||Mr!==null)&&(Yl(),Jl())}}function Tn(e,t){var n=e.stateNode;if(n===null)return null;var i=Vs(n);if(i===null)return null;n=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(s(231,t,typeof n));return n}var fo=!1;if(f)try{var On={};Object.defineProperty(On,"passive",{get:function(){fo=!0}}),window.addEventListener("test",On,On),window.removeEventListener("test",On,On)}catch{fo=!1}function qf(e,t,n,i,c,h,p,v,_){var P=Array.prototype.slice.call(arguments,3);try{t.apply(n,P)}catch(I){this.onError(I)}}var Cn=!1,Ss=null,Es=!1,po=null,Hf={onError:function(e){Cn=!0,Ss=e}};function Kf(e,t,n,i,c,h,p,v,_){Cn=!1,Ss=null,qf.apply(Hf,arguments)}function Gf(e,t,n,i,c,h,p,v,_){if(Kf.apply(this,arguments),Cn){if(Cn){var P=Ss;Cn=!1,Ss=null}else throw Error(s(198));Es||(Es=!0,po=P)}}function vr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Zl(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function eu(e){if(vr(e)!==e)throw Error(s(188))}function Jf(e){var t=e.alternate;if(!t){if(t=vr(e),t===null)throw Error(s(188));return t!==e?null:e}for(var n=e,i=t;;){var c=n.return;if(c===null)break;var h=c.alternate;if(h===null){if(i=c.return,i!==null){n=i;continue}break}if(c.child===h.child){for(h=c.child;h;){if(h===n)return eu(c),e;if(h===i)return eu(c),t;h=h.sibling}throw Error(s(188))}if(n.return!==i.return)n=c,i=h;else{for(var p=!1,v=c.child;v;){if(v===n){p=!0,n=c,i=h;break}if(v===i){p=!0,i=c,n=h;break}v=v.sibling}if(!p){for(v=h.child;v;){if(v===n){p=!0,n=h,i=c;break}if(v===i){p=!0,i=h,n=c;break}v=v.sibling}if(!p)throw Error(s(189))}}if(n.alternate!==i)throw Error(s(190))}if(n.tag!==3)throw Error(s(188));return n.stateNode.current===n?e:t}function tu(e){return e=Jf(e),e!==null?ru(e):null}function ru(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=ru(e);if(t!==null)return t;e=e.sibling}return null}var nu=r.unstable_scheduleCallback,su=r.unstable_cancelCallback,Qf=r.unstable_shouldYield,Yf=r.unstable_requestPaint,Ce=r.unstable_now,Xf=r.unstable_getCurrentPriorityLevel,go=r.unstable_ImmediatePriority,iu=r.unstable_UserBlockingPriority,ks=r.unstable_NormalPriority,Zf=r.unstable_LowPriority,ou=r.unstable_IdlePriority,xs=null,Rt=null;function ep(e){if(Rt&&typeof Rt.onCommitFiberRoot=="function")try{Rt.onCommitFiberRoot(xs,e,void 0,(e.current.flags&128)===128)}catch{}}var wt=Math.clz32?Math.clz32:np,tp=Math.log,rp=Math.LN2;function np(e){return e>>>=0,e===0?32:31-(tp(e)/rp|0)|0}var bs=64,Ts=4194304;function jn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Os(e,t){var n=e.pendingLanes;if(n===0)return 0;var i=0,c=e.suspendedLanes,h=e.pingedLanes,p=n&268435455;if(p!==0){var v=p&~c;v!==0?i=jn(v):(h&=p,h!==0&&(i=jn(h)))}else p=n&~c,p!==0?i=jn(p):h!==0&&(i=jn(h));if(i===0)return 0;if(t!==0&&t!==i&&(t&c)===0&&(c=i&-i,h=t&-t,c>=h||c===16&&(h&4194240)!==0))return t;if((i&4)!==0&&(i|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=i;0<t;)n=31-wt(t),c=1<<n,i|=e[n],t&=~c;return i}function sp(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ip(e,t){for(var n=e.suspendedLanes,i=e.pingedLanes,c=e.expirationTimes,h=e.pendingLanes;0<h;){var p=31-wt(h),v=1<<p,_=c[p];_===-1?((v&n)===0||(v&i)!==0)&&(c[p]=sp(v,t)):_<=t&&(e.expiredLanes|=v),h&=~v}}function mo(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function au(){var e=bs;return bs<<=1,(bs&4194240)===0&&(bs=64),e}function vo(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Pn(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-wt(t),e[t]=n}function op(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var i=e.eventTimes;for(e=e.expirationTimes;0<n;){var c=31-wt(n),h=1<<c;t[c]=0,i[c]=-1,e[c]=-1,n&=~h}}function yo(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var i=31-wt(n),c=1<<i;c&t|e[i]&t&&(e[i]|=t),n&=~c}}var fe=0;function lu(e){return e&=-e,1<e?4<e?(e&268435455)!==0?16:536870912:4:1}var uu,wo,cu,du,hu,_o=!1,Cs=[],Jt=null,Qt=null,Yt=null,Rn=new Map,An=new Map,Xt=[],ap="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function fu(e,t){switch(e){case"focusin":case"focusout":Jt=null;break;case"dragenter":case"dragleave":Qt=null;break;case"mouseover":case"mouseout":Yt=null;break;case"pointerover":case"pointerout":Rn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":An.delete(t.pointerId)}}function Nn(e,t,n,i,c,h){return e===null||e.nativeEvent!==h?(e={blockedOn:t,domEventName:n,eventSystemFlags:i,nativeEvent:h,targetContainers:[c]},t!==null&&(t=Kn(t),t!==null&&wo(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,c!==null&&t.indexOf(c)===-1&&t.push(c),e)}function lp(e,t,n,i,c){switch(t){case"focusin":return Jt=Nn(Jt,e,t,n,i,c),!0;case"dragenter":return Qt=Nn(Qt,e,t,n,i,c),!0;case"mouseover":return Yt=Nn(Yt,e,t,n,i,c),!0;case"pointerover":var h=c.pointerId;return Rn.set(h,Nn(Rn.get(h)||null,e,t,n,i,c)),!0;case"gotpointercapture":return h=c.pointerId,An.set(h,Nn(An.get(h)||null,e,t,n,i,c)),!0}return!1}function pu(e){var t=yr(e.target);if(t!==null){var n=vr(t);if(n!==null){if(t=n.tag,t===13){if(t=Zl(n),t!==null){e.blockedOn=t,hu(e.priority,function(){cu(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function js(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Eo(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var i=new n.constructor(n.type,n);lo=i,n.target.dispatchEvent(i),lo=null}else return t=Kn(n),t!==null&&wo(t),e.blockedOn=n,!1;t.shift()}return!0}function gu(e,t,n){js(e)&&n.delete(t)}function up(){_o=!1,Jt!==null&&js(Jt)&&(Jt=null),Qt!==null&&js(Qt)&&(Qt=null),Yt!==null&&js(Yt)&&(Yt=null),Rn.forEach(gu),An.forEach(gu)}function In(e,t){e.blockedOn===t&&(e.blockedOn=null,_o||(_o=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,up)))}function $n(e){function t(c){return In(c,e)}if(0<Cs.length){In(Cs[0],e);for(var n=1;n<Cs.length;n++){var i=Cs[n];i.blockedOn===e&&(i.blockedOn=null)}}for(Jt!==null&&In(Jt,e),Qt!==null&&In(Qt,e),Yt!==null&&In(Yt,e),Rn.forEach(t),An.forEach(t),n=0;n<Xt.length;n++)i=Xt[n],i.blockedOn===e&&(i.blockedOn=null);for(;0<Xt.length&&(n=Xt[0],n.blockedOn===null);)pu(n),n.blockedOn===null&&Xt.shift()}var zr=F.ReactCurrentBatchConfig,Ps=!0;function cp(e,t,n,i){var c=fe,h=zr.transition;zr.transition=null;try{fe=1,So(e,t,n,i)}finally{fe=c,zr.transition=h}}function dp(e,t,n,i){var c=fe,h=zr.transition;zr.transition=null;try{fe=4,So(e,t,n,i)}finally{fe=c,zr.transition=h}}function So(e,t,n,i){if(Ps){var c=Eo(e,t,n,i);if(c===null)Bo(e,t,i,Rs,n),fu(e,i);else if(lp(c,e,t,n,i))i.stopPropagation();else if(fu(e,i),t&4&&-1<ap.indexOf(e)){for(;c!==null;){var h=Kn(c);if(h!==null&&uu(h),h=Eo(e,t,n,i),h===null&&Bo(e,t,i,Rs,n),h===c)break;c=h}c!==null&&i.stopPropagation()}else Bo(e,t,i,null,n)}}var Rs=null;function Eo(e,t,n,i){if(Rs=null,e=uo(i),e=yr(e),e!==null)if(t=vr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Zl(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Rs=e,null}function mu(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xf()){case go:return 1;case iu:return 4;case ks:case Zf:return 16;case ou:return 536870912;default:return 16}default:return 16}}var Zt=null,ko=null,As=null;function vu(){if(As)return As;var e,t=ko,n=t.length,i,c="value"in Zt?Zt.value:Zt.textContent,h=c.length;for(e=0;e<n&&t[e]===c[e];e++);var p=n-e;for(i=1;i<=p&&t[n-i]===c[h-i];i++);return As=c.slice(e,1<i?1-i:void 0)}function Ns(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Is(){return!0}function yu(){return!1}function ot(e){function t(n,i,c,h,p){this._reactName=n,this._targetInst=c,this.type=i,this.nativeEvent=h,this.target=p,this.currentTarget=null;for(var v in e)e.hasOwnProperty(v)&&(n=e[v],this[v]=n?n(h):h[v]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?Is:yu,this.isPropagationStopped=yu,this}return W(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Is)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Is)},persist:function(){},isPersistent:Is}),t}var Fr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xo=ot(Fr),Ln=W({},Fr,{view:0,detail:0}),hp=ot(Ln),bo,To,Un,$s=W({},Ln,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Co,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Un&&(Un&&e.type==="mousemove"?(bo=e.screenX-Un.screenX,To=e.screenY-Un.screenY):To=bo=0,Un=e),bo)},movementY:function(e){return"movementY"in e?e.movementY:To}}),wu=ot($s),fp=W({},$s,{dataTransfer:0}),pp=ot(fp),gp=W({},Ln,{relatedTarget:0}),Oo=ot(gp),mp=W({},Fr,{animationName:0,elapsedTime:0,pseudoElement:0}),vp=ot(mp),yp=W({},Fr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wp=ot(yp),_p=W({},Fr,{data:0}),_u=ot(_p),Sp={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ep={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},kp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=kp[e])?!!t[e]:!1}function Co(){return xp}var bp=W({},Ln,{key:function(e){if(e.key){var t=Sp[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ns(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ep[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Co,charCode:function(e){return e.type==="keypress"?Ns(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ns(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Tp=ot(bp),Op=W({},$s,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Su=ot(Op),Cp=W({},Ln,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Co}),jp=ot(Cp),Pp=W({},Fr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Rp=ot(Pp),Ap=W({},$s,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Np=ot(Ap),Ip=[9,13,27,32],jo=f&&"CompositionEvent"in window,Dn=null;f&&"documentMode"in document&&(Dn=document.documentMode);var $p=f&&"TextEvent"in window&&!Dn,Eu=f&&(!jo||Dn&&8<Dn&&11>=Dn),ku=" ",xu=!1;function bu(e,t){switch(e){case"keyup":return Ip.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Tu(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Vr=!1;function Lp(e,t){switch(e){case"compositionend":return Tu(t);case"keypress":return t.which!==32?null:(xu=!0,ku);case"textInput":return e=t.data,e===ku&&xu?null:e;default:return null}}function Up(e,t){if(Vr)return e==="compositionend"||!jo&&bu(e,t)?(e=vu(),As=ko=Zt=null,Vr=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Eu&&t.locale!=="ko"?null:t.data;default:return null}}var Dp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ou(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Dp[e.type]:t==="textarea"}function Cu(e,t,n,i){Gl(i),t=Ms(t,"onChange"),0<t.length&&(n=new xo("onChange","change",null,n,i),e.push({event:n,listeners:t}))}var Bn=null,Mn=null;function Bp(e){Hu(e,0)}function Ls(e){var t=Gr(e);if(Ll(t))return e}function Mp(e,t){if(e==="change")return t}var ju=!1;if(f){var Po;if(f){var Ro="oninput"in document;if(!Ro){var Pu=document.createElement("div");Pu.setAttribute("oninput","return;"),Ro=typeof Pu.oninput=="function"}Po=Ro}else Po=!1;ju=Po&&(!document.documentMode||9<document.documentMode)}function Ru(){Bn&&(Bn.detachEvent("onpropertychange",Au),Mn=Bn=null)}function Au(e){if(e.propertyName==="value"&&Ls(Mn)){var t=[];Cu(t,Mn,e,uo(e)),Xl(Bp,t)}}function zp(e,t,n){e==="focusin"?(Ru(),Bn=t,Mn=n,Bn.attachEvent("onpropertychange",Au)):e==="focusout"&&Ru()}function Fp(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ls(Mn)}function Vp(e,t){if(e==="click")return Ls(t)}function Wp(e,t){if(e==="input"||e==="change")return Ls(t)}function qp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var _t=typeof Object.is=="function"?Object.is:qp;function zn(e,t){if(_t(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(i=0;i<n.length;i++){var c=n[i];if(!g.call(t,c)||!_t(e[c],t[c]))return!1}return!0}function Nu(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Iu(e,t){var n=Nu(e);e=0;for(var i;n;){if(n.nodeType===3){if(i=e+n.textContent.length,e<=t&&i>=t)return{node:n,offset:t-e};e=i}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Nu(n)}}function $u(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?$u(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Lu(){for(var e=window,t=ws();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ws(e.document)}return t}function Ao(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Hp(e){var t=Lu(),n=e.focusedElem,i=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&$u(n.ownerDocument.documentElement,n)){if(i!==null&&Ao(n)){if(t=i.start,e=i.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var c=n.textContent.length,h=Math.min(i.start,c);i=i.end===void 0?h:Math.min(i.end,c),!e.extend&&h>i&&(c=i,i=h,h=c),c=Iu(n,h);var p=Iu(n,i);c&&p&&(e.rangeCount!==1||e.anchorNode!==c.node||e.anchorOffset!==c.offset||e.focusNode!==p.node||e.focusOffset!==p.offset)&&(t=t.createRange(),t.setStart(c.node,c.offset),e.removeAllRanges(),h>i?(e.addRange(t),e.extend(p.node,p.offset)):(t.setEnd(p.node,p.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Kp=f&&"documentMode"in document&&11>=document.documentMode,Wr=null,No=null,Fn=null,Io=!1;function Uu(e,t,n){var i=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Io||Wr==null||Wr!==ws(i)||(i=Wr,"selectionStart"in i&&Ao(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),Fn&&zn(Fn,i)||(Fn=i,i=Ms(No,"onSelect"),0<i.length&&(t=new xo("onSelect","select",null,t,n),e.push({event:t,listeners:i}),t.target=Wr)))}function Us(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var qr={animationend:Us("Animation","AnimationEnd"),animationiteration:Us("Animation","AnimationIteration"),animationstart:Us("Animation","AnimationStart"),transitionend:Us("Transition","TransitionEnd")},$o={},Du={};f&&(Du=document.createElement("div").style,"AnimationEvent"in window||(delete qr.animationend.animation,delete qr.animationiteration.animation,delete qr.animationstart.animation),"TransitionEvent"in window||delete qr.transitionend.transition);function Ds(e){if($o[e])return $o[e];if(!qr[e])return e;var t=qr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Du)return $o[e]=t[n];return e}var Bu=Ds("animationend"),Mu=Ds("animationiteration"),zu=Ds("animationstart"),Fu=Ds("transitionend"),Vu=new Map,Wu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function er(e,t){Vu.set(e,t),u(t,[e])}for(var Lo=0;Lo<Wu.length;Lo++){var Uo=Wu[Lo],Gp=Uo.toLowerCase(),Jp=Uo[0].toUpperCase()+Uo.slice(1);er(Gp,"on"+Jp)}er(Bu,"onAnimationEnd"),er(Mu,"onAnimationIteration"),er(zu,"onAnimationStart"),er("dblclick","onDoubleClick"),er("focusin","onFocus"),er("focusout","onBlur"),er(Fu,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Qp=new Set("cancel close invalid load scroll toggle".split(" ").concat(Vn));function qu(e,t,n){var i=e.type||"unknown-event";e.currentTarget=n,Gf(i,t,void 0,e),e.currentTarget=null}function Hu(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var i=e[n],c=i.event;i=i.listeners;e:{var h=void 0;if(t)for(var p=i.length-1;0<=p;p--){var v=i[p],_=v.instance,P=v.currentTarget;if(v=v.listener,_!==h&&c.isPropagationStopped())break e;qu(c,v,P),h=_}else for(p=0;p<i.length;p++){if(v=i[p],_=v.instance,P=v.currentTarget,v=v.listener,_!==h&&c.isPropagationStopped())break e;qu(c,v,P),h=_}}}if(Es)throw e=po,Es=!1,po=null,e}function ve(e,t){var n=t[qo];n===void 0&&(n=t[qo]=new Set);var i=e+"__bubble";n.has(i)||(Ku(t,e,2,!1),n.add(i))}function Do(e,t,n){var i=0;t&&(i|=4),Ku(n,e,i,t)}var Bs="_reactListening"+Math.random().toString(36).slice(2);function Wn(e){if(!e[Bs]){e[Bs]=!0,a.forEach(function(n){n!=="selectionchange"&&(Qp.has(n)||Do(n,!1,e),Do(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Bs]||(t[Bs]=!0,Do("selectionchange",!1,t))}}function Ku(e,t,n,i){switch(mu(t)){case 1:var c=cp;break;case 4:c=dp;break;default:c=So}n=c.bind(null,t,n,e),c=void 0,!fo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(c=!0),i?c!==void 0?e.addEventListener(t,n,{capture:!0,passive:c}):e.addEventListener(t,n,!0):c!==void 0?e.addEventListener(t,n,{passive:c}):e.addEventListener(t,n,!1)}function Bo(e,t,n,i,c){var h=i;if((t&1)===0&&(t&2)===0&&i!==null)e:for(;;){if(i===null)return;var p=i.tag;if(p===3||p===4){var v=i.stateNode.containerInfo;if(v===c||v.nodeType===8&&v.parentNode===c)break;if(p===4)for(p=i.return;p!==null;){var _=p.tag;if((_===3||_===4)&&(_=p.stateNode.containerInfo,_===c||_.nodeType===8&&_.parentNode===c))return;p=p.return}for(;v!==null;){if(p=yr(v),p===null)return;if(_=p.tag,_===5||_===6){i=h=p;continue e}v=v.parentNode}}i=i.return}Xl(function(){var P=h,I=uo(n),L=[];e:{var A=Vu.get(e);if(A!==void 0){var z=xo,H=e;switch(e){case"keypress":if(Ns(n)===0)break e;case"keydown":case"keyup":z=Tp;break;case"focusin":H="focus",z=Oo;break;case"focusout":H="blur",z=Oo;break;case"beforeblur":case"afterblur":z=Oo;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":z=wu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":z=pp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":z=jp;break;case Bu:case Mu:case zu:z=vp;break;case Fu:z=Rp;break;case"scroll":z=hp;break;case"wheel":z=Np;break;case"copy":case"cut":case"paste":z=wp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":z=Su}var K=(t&4)!==0,je=!K&&e==="scroll",T=K?A!==null?A+"Capture":null:A;K=[];for(var S=P,O;S!==null;){O=S;var D=O.stateNode;if(O.tag===5&&D!==null&&(O=D,T!==null&&(D=Tn(S,T),D!=null&&K.push(qn(S,D,O)))),je)break;S=S.return}0<K.length&&(A=new z(A,H,null,n,I),L.push({event:A,listeners:K}))}}if((t&7)===0){e:{if(A=e==="mouseover"||e==="pointerover",z=e==="mouseout"||e==="pointerout",A&&n!==lo&&(H=n.relatedTarget||n.fromElement)&&(yr(H)||H[Dt]))break e;if((z||A)&&(A=I.window===I?I:(A=I.ownerDocument)?A.defaultView||A.parentWindow:window,z?(H=n.relatedTarget||n.toElement,z=P,H=H?yr(H):null,H!==null&&(je=vr(H),H!==je||H.tag!==5&&H.tag!==6)&&(H=null)):(z=null,H=P),z!==H)){if(K=wu,D="onMouseLeave",T="onMouseEnter",S="mouse",(e==="pointerout"||e==="pointerover")&&(K=Su,D="onPointerLeave",T="onPointerEnter",S="pointer"),je=z==null?A:Gr(z),O=H==null?A:Gr(H),A=new K(D,S+"leave",z,n,I),A.target=je,A.relatedTarget=O,D=null,yr(I)===P&&(K=new K(T,S+"enter",H,n,I),K.target=O,K.relatedTarget=je,D=K),je=D,z&&H)t:{for(K=z,T=H,S=0,O=K;O;O=Hr(O))S++;for(O=0,D=T;D;D=Hr(D))O++;for(;0<S-O;)K=Hr(K),S--;for(;0<O-S;)T=Hr(T),O--;for(;S--;){if(K===T||T!==null&&K===T.alternate)break t;K=Hr(K),T=Hr(T)}K=null}else K=null;z!==null&&Gu(L,A,z,K,!1),H!==null&&je!==null&&Gu(L,je,H,K,!0)}}e:{if(A=P?Gr(P):window,z=A.nodeName&&A.nodeName.toLowerCase(),z==="select"||z==="input"&&A.type==="file")var G=Mp;else if(Ou(A))if(ju)G=Wp;else{G=Fp;var Y=zp}else(z=A.nodeName)&&z.toLowerCase()==="input"&&(A.type==="checkbox"||A.type==="radio")&&(G=Vp);if(G&&(G=G(e,P))){Cu(L,G,n,I);break e}Y&&Y(e,A,P),e==="focusout"&&(Y=A._wrapperState)&&Y.controlled&&A.type==="number"&&no(A,"number",A.value)}switch(Y=P?Gr(P):window,e){case"focusin":(Ou(Y)||Y.contentEditable==="true")&&(Wr=Y,No=P,Fn=null);break;case"focusout":Fn=No=Wr=null;break;case"mousedown":Io=!0;break;case"contextmenu":case"mouseup":case"dragend":Io=!1,Uu(L,n,I);break;case"selectionchange":if(Kp)break;case"keydown":case"keyup":Uu(L,n,I)}var X;if(jo)e:{switch(e){case"compositionstart":var te="onCompositionStart";break e;case"compositionend":te="onCompositionEnd";break e;case"compositionupdate":te="onCompositionUpdate";break e}te=void 0}else Vr?bu(e,n)&&(te="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(te="onCompositionStart");te&&(Eu&&n.locale!=="ko"&&(Vr||te!=="onCompositionStart"?te==="onCompositionEnd"&&Vr&&(X=vu()):(Zt=I,ko="value"in Zt?Zt.value:Zt.textContent,Vr=!0)),Y=Ms(P,te),0<Y.length&&(te=new _u(te,e,null,n,I),L.push({event:te,listeners:Y}),X?te.data=X:(X=Tu(n),X!==null&&(te.data=X)))),(X=$p?Lp(e,n):Up(e,n))&&(P=Ms(P,"onBeforeInput"),0<P.length&&(I=new _u("onBeforeInput","beforeinput",null,n,I),L.push({event:I,listeners:P}),I.data=X))}Hu(L,t)})}function qn(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Ms(e,t){for(var n=t+"Capture",i=[];e!==null;){var c=e,h=c.stateNode;c.tag===5&&h!==null&&(c=h,h=Tn(e,n),h!=null&&i.unshift(qn(e,h,c)),h=Tn(e,t),h!=null&&i.push(qn(e,h,c))),e=e.return}return i}function Hr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Gu(e,t,n,i,c){for(var h=t._reactName,p=[];n!==null&&n!==i;){var v=n,_=v.alternate,P=v.stateNode;if(_!==null&&_===i)break;v.tag===5&&P!==null&&(v=P,c?(_=Tn(n,h),_!=null&&p.unshift(qn(n,_,v))):c||(_=Tn(n,h),_!=null&&p.push(qn(n,_,v)))),n=n.return}p.length!==0&&e.push({event:t,listeners:p})}var Yp=/\r\n?/g,Xp=/\u0000|\uFFFD/g;function Ju(e){return(typeof e=="string"?e:""+e).replace(Yp,`
`).replace(Xp,"")}function zs(e,t,n){if(t=Ju(t),Ju(e)!==t&&n)throw Error(s(425))}function Fs(){}var Mo=null,zo=null;function Fo(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Vo=typeof setTimeout=="function"?setTimeout:void 0,Zp=typeof clearTimeout=="function"?clearTimeout:void 0,Qu=typeof Promise=="function"?Promise:void 0,eg=typeof queueMicrotask=="function"?queueMicrotask:typeof Qu<"u"?function(e){return Qu.resolve(null).then(e).catch(tg)}:Vo;function tg(e){setTimeout(function(){throw e})}function Wo(e,t){var n=t,i=0;do{var c=n.nextSibling;if(e.removeChild(n),c&&c.nodeType===8)if(n=c.data,n==="/$"){if(i===0){e.removeChild(c),$n(t);return}i--}else n!=="$"&&n!=="$?"&&n!=="$!"||i++;n=c}while(n);$n(t)}function tr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Yu(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Kr=Math.random().toString(36).slice(2),At="__reactFiber$"+Kr,Hn="__reactProps$"+Kr,Dt="__reactContainer$"+Kr,qo="__reactEvents$"+Kr,rg="__reactListeners$"+Kr,ng="__reactHandles$"+Kr;function yr(e){var t=e[At];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Dt]||n[At]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Yu(e);e!==null;){if(n=e[At])return n;e=Yu(e)}return t}e=n,n=e.parentNode}return null}function Kn(e){return e=e[At]||e[Dt],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Gr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(s(33))}function Vs(e){return e[Hn]||null}var Ho=[],Jr=-1;function rr(e){return{current:e}}function ye(e){0>Jr||(e.current=Ho[Jr],Ho[Jr]=null,Jr--)}function ge(e,t){Jr++,Ho[Jr]=e.current,e.current=t}var nr={},Fe=rr(nr),Qe=rr(!1),wr=nr;function Qr(e,t){var n=e.type.contextTypes;if(!n)return nr;var i=e.stateNode;if(i&&i.__reactInternalMemoizedUnmaskedChildContext===t)return i.__reactInternalMemoizedMaskedChildContext;var c={},h;for(h in n)c[h]=t[h];return i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=c),c}function Ye(e){return e=e.childContextTypes,e!=null}function Ws(){ye(Qe),ye(Fe)}function Xu(e,t,n){if(Fe.current!==nr)throw Error(s(168));ge(Fe,t),ge(Qe,n)}function Zu(e,t,n){var i=e.stateNode;if(t=t.childContextTypes,typeof i.getChildContext!="function")return n;i=i.getChildContext();for(var c in i)if(!(c in t))throw Error(s(108,pe(e)||"Unknown",c));return W({},n,i)}function qs(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||nr,wr=Fe.current,ge(Fe,e),ge(Qe,Qe.current),!0}function ec(e,t,n){var i=e.stateNode;if(!i)throw Error(s(169));n?(e=Zu(e,t,wr),i.__reactInternalMemoizedMergedChildContext=e,ye(Qe),ye(Fe),ge(Fe,e)):ye(Qe),ge(Qe,n)}var Bt=null,Hs=!1,Ko=!1;function tc(e){Bt===null?Bt=[e]:Bt.push(e)}function sg(e){Hs=!0,tc(e)}function sr(){if(!Ko&&Bt!==null){Ko=!0;var e=0,t=fe;try{var n=Bt;for(fe=1;e<n.length;e++){var i=n[e];do i=i(!0);while(i!==null)}Bt=null,Hs=!1}catch(c){throw Bt!==null&&(Bt=Bt.slice(e+1)),nu(go,sr),c}finally{fe=t,Ko=!1}}return null}var Yr=[],Xr=0,Ks=null,Gs=0,ht=[],ft=0,_r=null,Mt=1,zt="";function Sr(e,t){Yr[Xr++]=Gs,Yr[Xr++]=Ks,Ks=e,Gs=t}function rc(e,t,n){ht[ft++]=Mt,ht[ft++]=zt,ht[ft++]=_r,_r=e;var i=Mt;e=zt;var c=32-wt(i)-1;i&=~(1<<c),n+=1;var h=32-wt(t)+c;if(30<h){var p=c-c%5;h=(i&(1<<p)-1).toString(32),i>>=p,c-=p,Mt=1<<32-wt(t)+c|n<<c|i,zt=h+e}else Mt=1<<h|n<<c|i,zt=e}function Go(e){e.return!==null&&(Sr(e,1),rc(e,1,0))}function Jo(e){for(;e===Ks;)Ks=Yr[--Xr],Yr[Xr]=null,Gs=Yr[--Xr],Yr[Xr]=null;for(;e===_r;)_r=ht[--ft],ht[ft]=null,zt=ht[--ft],ht[ft]=null,Mt=ht[--ft],ht[ft]=null}var at=null,lt=null,_e=!1,St=null;function nc(e,t){var n=vt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function sc(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,at=e,lt=tr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,at=e,lt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=_r!==null?{id:Mt,overflow:zt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=vt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,at=e,lt=null,!0):!1;default:return!1}}function Qo(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Yo(e){if(_e){var t=lt;if(t){var n=t;if(!sc(e,t)){if(Qo(e))throw Error(s(418));t=tr(n.nextSibling);var i=at;t&&sc(e,t)?nc(i,n):(e.flags=e.flags&-4097|2,_e=!1,at=e)}}else{if(Qo(e))throw Error(s(418));e.flags=e.flags&-4097|2,_e=!1,at=e}}}function ic(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;at=e}function Js(e){if(e!==at)return!1;if(!_e)return ic(e),_e=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Fo(e.type,e.memoizedProps)),t&&(t=lt)){if(Qo(e))throw oc(),Error(s(418));for(;t;)nc(e,t),t=tr(t.nextSibling)}if(ic(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){lt=tr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}lt=null}}else lt=at?tr(e.stateNode.nextSibling):null;return!0}function oc(){for(var e=lt;e;)e=tr(e.nextSibling)}function Zr(){lt=at=null,_e=!1}function Xo(e){St===null?St=[e]:St.push(e)}var ig=F.ReactCurrentBatchConfig;function Gn(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(s(309));var i=n.stateNode}if(!i)throw Error(s(147,e));var c=i,h=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===h?t.ref:(t=function(p){var v=c.refs;p===null?delete v[h]:v[h]=p},t._stringRef=h,t)}if(typeof e!="string")throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function Qs(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ac(e){var t=e._init;return t(e._payload)}function lc(e){function t(T,S){if(e){var O=T.deletions;O===null?(T.deletions=[S],T.flags|=16):O.push(S)}}function n(T,S){if(!e)return null;for(;S!==null;)t(T,S),S=S.sibling;return null}function i(T,S){for(T=new Map;S!==null;)S.key!==null?T.set(S.key,S):T.set(S.index,S),S=S.sibling;return T}function c(T,S){return T=hr(T,S),T.index=0,T.sibling=null,T}function h(T,S,O){return T.index=O,e?(O=T.alternate,O!==null?(O=O.index,O<S?(T.flags|=2,S):O):(T.flags|=2,S)):(T.flags|=1048576,S)}function p(T){return e&&T.alternate===null&&(T.flags|=2),T}function v(T,S,O,D){return S===null||S.tag!==6?(S=Va(O,T.mode,D),S.return=T,S):(S=c(S,O),S.return=T,S)}function _(T,S,O,D){var G=O.type;return G===Q?I(T,S,O.props.children,D,O.key):S!==null&&(S.elementType===G||typeof G=="object"&&G!==null&&G.$$typeof===Je&&ac(G)===S.type)?(D=c(S,O.props),D.ref=Gn(T,S,O),D.return=T,D):(D=_i(O.type,O.key,O.props,null,T.mode,D),D.ref=Gn(T,S,O),D.return=T,D)}function P(T,S,O,D){return S===null||S.tag!==4||S.stateNode.containerInfo!==O.containerInfo||S.stateNode.implementation!==O.implementation?(S=Wa(O,T.mode,D),S.return=T,S):(S=c(S,O.children||[]),S.return=T,S)}function I(T,S,O,D,G){return S===null||S.tag!==7?(S=jr(O,T.mode,D,G),S.return=T,S):(S=c(S,O),S.return=T,S)}function L(T,S,O){if(typeof S=="string"&&S!==""||typeof S=="number")return S=Va(""+S,T.mode,O),S.return=T,S;if(typeof S=="object"&&S!==null){switch(S.$$typeof){case ne:return O=_i(S.type,S.key,S.props,null,T.mode,O),O.ref=Gn(T,null,S),O.return=T,O;case re:return S=Wa(S,T.mode,O),S.return=T,S;case Je:var D=S._init;return L(T,D(S._payload),O)}if(kn(S)||ee(S))return S=jr(S,T.mode,O,null),S.return=T,S;Qs(T,S)}return null}function A(T,S,O,D){var G=S!==null?S.key:null;if(typeof O=="string"&&O!==""||typeof O=="number")return G!==null?null:v(T,S,""+O,D);if(typeof O=="object"&&O!==null){switch(O.$$typeof){case ne:return O.key===G?_(T,S,O,D):null;case re:return O.key===G?P(T,S,O,D):null;case Je:return G=O._init,A(T,S,G(O._payload),D)}if(kn(O)||ee(O))return G!==null?null:I(T,S,O,D,null);Qs(T,O)}return null}function z(T,S,O,D,G){if(typeof D=="string"&&D!==""||typeof D=="number")return T=T.get(O)||null,v(S,T,""+D,G);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case ne:return T=T.get(D.key===null?O:D.key)||null,_(S,T,D,G);case re:return T=T.get(D.key===null?O:D.key)||null,P(S,T,D,G);case Je:var Y=D._init;return z(T,S,O,Y(D._payload),G)}if(kn(D)||ee(D))return T=T.get(O)||null,I(S,T,D,G,null);Qs(S,D)}return null}function H(T,S,O,D){for(var G=null,Y=null,X=S,te=S=0,Ue=null;X!==null&&te<O.length;te++){X.index>te?(Ue=X,X=null):Ue=X.sibling;var de=A(T,X,O[te],D);if(de===null){X===null&&(X=Ue);break}e&&X&&de.alternate===null&&t(T,X),S=h(de,S,te),Y===null?G=de:Y.sibling=de,Y=de,X=Ue}if(te===O.length)return n(T,X),_e&&Sr(T,te),G;if(X===null){for(;te<O.length;te++)X=L(T,O[te],D),X!==null&&(S=h(X,S,te),Y===null?G=X:Y.sibling=X,Y=X);return _e&&Sr(T,te),G}for(X=i(T,X);te<O.length;te++)Ue=z(X,T,te,O[te],D),Ue!==null&&(e&&Ue.alternate!==null&&X.delete(Ue.key===null?te:Ue.key),S=h(Ue,S,te),Y===null?G=Ue:Y.sibling=Ue,Y=Ue);return e&&X.forEach(function(fr){return t(T,fr)}),_e&&Sr(T,te),G}function K(T,S,O,D){var G=ee(O);if(typeof G!="function")throw Error(s(150));if(O=G.call(O),O==null)throw Error(s(151));for(var Y=G=null,X=S,te=S=0,Ue=null,de=O.next();X!==null&&!de.done;te++,de=O.next()){X.index>te?(Ue=X,X=null):Ue=X.sibling;var fr=A(T,X,de.value,D);if(fr===null){X===null&&(X=Ue);break}e&&X&&fr.alternate===null&&t(T,X),S=h(fr,S,te),Y===null?G=fr:Y.sibling=fr,Y=fr,X=Ue}if(de.done)return n(T,X),_e&&Sr(T,te),G;if(X===null){for(;!de.done;te++,de=O.next())de=L(T,de.value,D),de!==null&&(S=h(de,S,te),Y===null?G=de:Y.sibling=de,Y=de);return _e&&Sr(T,te),G}for(X=i(T,X);!de.done;te++,de=O.next())de=z(X,T,te,de.value,D),de!==null&&(e&&de.alternate!==null&&X.delete(de.key===null?te:de.key),S=h(de,S,te),Y===null?G=de:Y.sibling=de,Y=de);return e&&X.forEach(function(Dg){return t(T,Dg)}),_e&&Sr(T,te),G}function je(T,S,O,D){if(typeof O=="object"&&O!==null&&O.type===Q&&O.key===null&&(O=O.props.children),typeof O=="object"&&O!==null){switch(O.$$typeof){case ne:e:{for(var G=O.key,Y=S;Y!==null;){if(Y.key===G){if(G=O.type,G===Q){if(Y.tag===7){n(T,Y.sibling),S=c(Y,O.props.children),S.return=T,T=S;break e}}else if(Y.elementType===G||typeof G=="object"&&G!==null&&G.$$typeof===Je&&ac(G)===Y.type){n(T,Y.sibling),S=c(Y,O.props),S.ref=Gn(T,Y,O),S.return=T,T=S;break e}n(T,Y);break}else t(T,Y);Y=Y.sibling}O.type===Q?(S=jr(O.props.children,T.mode,D,O.key),S.return=T,T=S):(D=_i(O.type,O.key,O.props,null,T.mode,D),D.ref=Gn(T,S,O),D.return=T,T=D)}return p(T);case re:e:{for(Y=O.key;S!==null;){if(S.key===Y)if(S.tag===4&&S.stateNode.containerInfo===O.containerInfo&&S.stateNode.implementation===O.implementation){n(T,S.sibling),S=c(S,O.children||[]),S.return=T,T=S;break e}else{n(T,S);break}else t(T,S);S=S.sibling}S=Wa(O,T.mode,D),S.return=T,T=S}return p(T);case Je:return Y=O._init,je(T,S,Y(O._payload),D)}if(kn(O))return H(T,S,O,D);if(ee(O))return K(T,S,O,D);Qs(T,O)}return typeof O=="string"&&O!==""||typeof O=="number"?(O=""+O,S!==null&&S.tag===6?(n(T,S.sibling),S=c(S,O),S.return=T,T=S):(n(T,S),S=Va(O,T.mode,D),S.return=T,T=S),p(T)):n(T,S)}return je}var en=lc(!0),uc=lc(!1),Ys=rr(null),Xs=null,tn=null,Zo=null;function ea(){Zo=tn=Xs=null}function ta(e){var t=Ys.current;ye(Ys),e._currentValue=t}function ra(e,t,n){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===n)break;e=e.return}}function rn(e,t){Xs=e,Zo=tn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&((e.lanes&t)!==0&&(Xe=!0),e.firstContext=null)}function pt(e){var t=e._currentValue;if(Zo!==e)if(e={context:e,memoizedValue:t,next:null},tn===null){if(Xs===null)throw Error(s(308));tn=e,Xs.dependencies={lanes:0,firstContext:e}}else tn=tn.next=e;return t}var Er=null;function na(e){Er===null?Er=[e]:Er.push(e)}function cc(e,t,n,i){var c=t.interleaved;return c===null?(n.next=n,na(t)):(n.next=c.next,c.next=n),t.interleaved=n,Ft(e,i)}function Ft(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var ir=!1;function sa(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function dc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Vt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function or(e,t,n){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,(le&2)!==0){var c=i.pending;return c===null?t.next=t:(t.next=c.next,c.next=t),i.pending=t,Ft(e,n)}return c=i.interleaved,c===null?(t.next=t,na(i)):(t.next=c.next,c.next=t),i.interleaved=t,Ft(e,n)}function Zs(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,yo(e,n)}}function hc(e,t){var n=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,n===i)){var c=null,h=null;if(n=n.firstBaseUpdate,n!==null){do{var p={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};h===null?c=h=p:h=h.next=p,n=n.next}while(n!==null);h===null?c=h=t:h=h.next=t}else c=h=t;n={baseState:i.baseState,firstBaseUpdate:c,lastBaseUpdate:h,shared:i.shared,effects:i.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ei(e,t,n,i){var c=e.updateQueue;ir=!1;var h=c.firstBaseUpdate,p=c.lastBaseUpdate,v=c.shared.pending;if(v!==null){c.shared.pending=null;var _=v,P=_.next;_.next=null,p===null?h=P:p.next=P,p=_;var I=e.alternate;I!==null&&(I=I.updateQueue,v=I.lastBaseUpdate,v!==p&&(v===null?I.firstBaseUpdate=P:v.next=P,I.lastBaseUpdate=_))}if(h!==null){var L=c.baseState;p=0,I=P=_=null,v=h;do{var A=v.lane,z=v.eventTime;if((i&A)===A){I!==null&&(I=I.next={eventTime:z,lane:0,tag:v.tag,payload:v.payload,callback:v.callback,next:null});e:{var H=e,K=v;switch(A=t,z=n,K.tag){case 1:if(H=K.payload,typeof H=="function"){L=H.call(z,L,A);break e}L=H;break e;case 3:H.flags=H.flags&-65537|128;case 0:if(H=K.payload,A=typeof H=="function"?H.call(z,L,A):H,A==null)break e;L=W({},L,A);break e;case 2:ir=!0}}v.callback!==null&&v.lane!==0&&(e.flags|=64,A=c.effects,A===null?c.effects=[v]:A.push(v))}else z={eventTime:z,lane:A,tag:v.tag,payload:v.payload,callback:v.callback,next:null},I===null?(P=I=z,_=L):I=I.next=z,p|=A;if(v=v.next,v===null){if(v=c.shared.pending,v===null)break;A=v,v=A.next,A.next=null,c.lastBaseUpdate=A,c.shared.pending=null}}while(!0);if(I===null&&(_=L),c.baseState=_,c.firstBaseUpdate=P,c.lastBaseUpdate=I,t=c.shared.interleaved,t!==null){c=t;do p|=c.lane,c=c.next;while(c!==t)}else h===null&&(c.shared.lanes=0);br|=p,e.lanes=p,e.memoizedState=L}}function fc(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var i=e[t],c=i.callback;if(c!==null){if(i.callback=null,i=n,typeof c!="function")throw Error(s(191,c));c.call(i)}}}var Jn={},Nt=rr(Jn),Qn=rr(Jn),Yn=rr(Jn);function kr(e){if(e===Jn)throw Error(s(174));return e}function ia(e,t){switch(ge(Yn,t),ge(Qn,e),ge(Nt,Jn),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:io(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=io(t,e)}ye(Nt),ge(Nt,t)}function nn(){ye(Nt),ye(Qn),ye(Yn)}function pc(e){kr(Yn.current);var t=kr(Nt.current),n=io(t,e.type);t!==n&&(ge(Qn,e),ge(Nt,n))}function oa(e){Qn.current===e&&(ye(Nt),ye(Qn))}var Ee=rr(0);function ti(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var aa=[];function la(){for(var e=0;e<aa.length;e++)aa[e]._workInProgressVersionPrimary=null;aa.length=0}var ri=F.ReactCurrentDispatcher,ua=F.ReactCurrentBatchConfig,xr=0,ke=null,Ne=null,$e=null,ni=!1,Xn=!1,Zn=0,og=0;function Ve(){throw Error(s(321))}function ca(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!_t(e[n],t[n]))return!1;return!0}function da(e,t,n,i,c,h){if(xr=h,ke=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ri.current=e===null||e.memoizedState===null?cg:dg,e=n(i,c),Xn){h=0;do{if(Xn=!1,Zn=0,25<=h)throw Error(s(301));h+=1,$e=Ne=null,t.updateQueue=null,ri.current=hg,e=n(i,c)}while(Xn)}if(ri.current=oi,t=Ne!==null&&Ne.next!==null,xr=0,$e=Ne=ke=null,ni=!1,t)throw Error(s(300));return e}function ha(){var e=Zn!==0;return Zn=0,e}function It(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $e===null?ke.memoizedState=$e=e:$e=$e.next=e,$e}function gt(){if(Ne===null){var e=ke.alternate;e=e!==null?e.memoizedState:null}else e=Ne.next;var t=$e===null?ke.memoizedState:$e.next;if(t!==null)$e=t,Ne=e;else{if(e===null)throw Error(s(310));Ne=e,e={memoizedState:Ne.memoizedState,baseState:Ne.baseState,baseQueue:Ne.baseQueue,queue:Ne.queue,next:null},$e===null?ke.memoizedState=$e=e:$e=$e.next=e}return $e}function es(e,t){return typeof t=="function"?t(e):t}function fa(e){var t=gt(),n=t.queue;if(n===null)throw Error(s(311));n.lastRenderedReducer=e;var i=Ne,c=i.baseQueue,h=n.pending;if(h!==null){if(c!==null){var p=c.next;c.next=h.next,h.next=p}i.baseQueue=c=h,n.pending=null}if(c!==null){h=c.next,i=i.baseState;var v=p=null,_=null,P=h;do{var I=P.lane;if((xr&I)===I)_!==null&&(_=_.next={lane:0,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null}),i=P.hasEagerState?P.eagerState:e(i,P.action);else{var L={lane:I,action:P.action,hasEagerState:P.hasEagerState,eagerState:P.eagerState,next:null};_===null?(v=_=L,p=i):_=_.next=L,ke.lanes|=I,br|=I}P=P.next}while(P!==null&&P!==h);_===null?p=i:_.next=v,_t(i,t.memoizedState)||(Xe=!0),t.memoizedState=i,t.baseState=p,t.baseQueue=_,n.lastRenderedState=i}if(e=n.interleaved,e!==null){c=e;do h=c.lane,ke.lanes|=h,br|=h,c=c.next;while(c!==e)}else c===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function pa(e){var t=gt(),n=t.queue;if(n===null)throw Error(s(311));n.lastRenderedReducer=e;var i=n.dispatch,c=n.pending,h=t.memoizedState;if(c!==null){n.pending=null;var p=c=c.next;do h=e(h,p.action),p=p.next;while(p!==c);_t(h,t.memoizedState)||(Xe=!0),t.memoizedState=h,t.baseQueue===null&&(t.baseState=h),n.lastRenderedState=h}return[h,i]}function gc(){}function mc(e,t){var n=ke,i=gt(),c=t(),h=!_t(i.memoizedState,c);if(h&&(i.memoizedState=c,Xe=!0),i=i.queue,ga(wc.bind(null,n,i,e),[e]),i.getSnapshot!==t||h||$e!==null&&$e.memoizedState.tag&1){if(n.flags|=2048,ts(9,yc.bind(null,n,i,c,t),void 0,null),Le===null)throw Error(s(349));(xr&30)!==0||vc(n,t,c)}return c}function vc(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=ke.updateQueue,t===null?(t={lastEffect:null,stores:null},ke.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function yc(e,t,n,i){t.value=n,t.getSnapshot=i,_c(t)&&Sc(e)}function wc(e,t,n){return n(function(){_c(t)&&Sc(e)})}function _c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!_t(e,n)}catch{return!0}}function Sc(e){var t=Ft(e,1);t!==null&&bt(t,e,1,-1)}function Ec(e){var t=It();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:es,lastRenderedState:e},t.queue=e,e=e.dispatch=ug.bind(null,ke,e),[t.memoizedState,e]}function ts(e,t,n,i){return e={tag:e,create:t,destroy:n,deps:i,next:null},t=ke.updateQueue,t===null?(t={lastEffect:null,stores:null},ke.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(i=n.next,n.next=e,e.next=i,t.lastEffect=e)),e}function kc(){return gt().memoizedState}function si(e,t,n,i){var c=It();ke.flags|=e,c.memoizedState=ts(1|t,n,void 0,i===void 0?null:i)}function ii(e,t,n,i){var c=gt();i=i===void 0?null:i;var h=void 0;if(Ne!==null){var p=Ne.memoizedState;if(h=p.destroy,i!==null&&ca(i,p.deps)){c.memoizedState=ts(t,n,h,i);return}}ke.flags|=e,c.memoizedState=ts(1|t,n,h,i)}function xc(e,t){return si(8390656,8,e,t)}function ga(e,t){return ii(2048,8,e,t)}function bc(e,t){return ii(4,2,e,t)}function Tc(e,t){return ii(4,4,e,t)}function Oc(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Cc(e,t,n){return n=n!=null?n.concat([e]):null,ii(4,4,Oc.bind(null,t,e),n)}function ma(){}function jc(e,t){var n=gt();t=t===void 0?null:t;var i=n.memoizedState;return i!==null&&t!==null&&ca(t,i[1])?i[0]:(n.memoizedState=[e,t],e)}function Pc(e,t){var n=gt();t=t===void 0?null:t;var i=n.memoizedState;return i!==null&&t!==null&&ca(t,i[1])?i[0]:(e=e(),n.memoizedState=[e,t],e)}function Rc(e,t,n){return(xr&21)===0?(e.baseState&&(e.baseState=!1,Xe=!0),e.memoizedState=n):(_t(n,t)||(n=au(),ke.lanes|=n,br|=n,e.baseState=!0),t)}function ag(e,t){var n=fe;fe=n!==0&&4>n?n:4,e(!0);var i=ua.transition;ua.transition={};try{e(!1),t()}finally{fe=n,ua.transition=i}}function Ac(){return gt().memoizedState}function lg(e,t,n){var i=cr(e);if(n={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null},Nc(e))Ic(t,n);else if(n=cc(e,t,n,i),n!==null){var c=Ge();bt(n,e,i,c),$c(n,t,i)}}function ug(e,t,n){var i=cr(e),c={lane:i,action:n,hasEagerState:!1,eagerState:null,next:null};if(Nc(e))Ic(t,c);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=t.lastRenderedReducer,h!==null))try{var p=t.lastRenderedState,v=h(p,n);if(c.hasEagerState=!0,c.eagerState=v,_t(v,p)){var _=t.interleaved;_===null?(c.next=c,na(t)):(c.next=_.next,_.next=c),t.interleaved=c;return}}catch{}finally{}n=cc(e,t,c,i),n!==null&&(c=Ge(),bt(n,e,i,c),$c(n,t,i))}}function Nc(e){var t=e.alternate;return e===ke||t!==null&&t===ke}function Ic(e,t){Xn=ni=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function $c(e,t,n){if((n&4194240)!==0){var i=t.lanes;i&=e.pendingLanes,n|=i,t.lanes=n,yo(e,n)}}var oi={readContext:pt,useCallback:Ve,useContext:Ve,useEffect:Ve,useImperativeHandle:Ve,useInsertionEffect:Ve,useLayoutEffect:Ve,useMemo:Ve,useReducer:Ve,useRef:Ve,useState:Ve,useDebugValue:Ve,useDeferredValue:Ve,useTransition:Ve,useMutableSource:Ve,useSyncExternalStore:Ve,useId:Ve,unstable_isNewReconciler:!1},cg={readContext:pt,useCallback:function(e,t){return It().memoizedState=[e,t===void 0?null:t],e},useContext:pt,useEffect:xc,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,si(4194308,4,Oc.bind(null,t,e),n)},useLayoutEffect:function(e,t){return si(4194308,4,e,t)},useInsertionEffect:function(e,t){return si(4,2,e,t)},useMemo:function(e,t){var n=It();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var i=It();return t=n!==void 0?n(t):t,i.memoizedState=i.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},i.queue=e,e=e.dispatch=lg.bind(null,ke,e),[i.memoizedState,e]},useRef:function(e){var t=It();return e={current:e},t.memoizedState=e},useState:Ec,useDebugValue:ma,useDeferredValue:function(e){return It().memoizedState=e},useTransition:function(){var e=Ec(!1),t=e[0];return e=ag.bind(null,e[1]),It().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var i=ke,c=It();if(_e){if(n===void 0)throw Error(s(407));n=n()}else{if(n=t(),Le===null)throw Error(s(349));(xr&30)!==0||vc(i,t,n)}c.memoizedState=n;var h={value:n,getSnapshot:t};return c.queue=h,xc(wc.bind(null,i,h,e),[e]),i.flags|=2048,ts(9,yc.bind(null,i,h,n,t),void 0,null),n},useId:function(){var e=It(),t=Le.identifierPrefix;if(_e){var n=zt,i=Mt;n=(i&~(1<<32-wt(i)-1)).toString(32)+n,t=":"+t+"R"+n,n=Zn++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=og++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},dg={readContext:pt,useCallback:jc,useContext:pt,useEffect:ga,useImperativeHandle:Cc,useInsertionEffect:bc,useLayoutEffect:Tc,useMemo:Pc,useReducer:fa,useRef:kc,useState:function(){return fa(es)},useDebugValue:ma,useDeferredValue:function(e){var t=gt();return Rc(t,Ne.memoizedState,e)},useTransition:function(){var e=fa(es)[0],t=gt().memoizedState;return[e,t]},useMutableSource:gc,useSyncExternalStore:mc,useId:Ac,unstable_isNewReconciler:!1},hg={readContext:pt,useCallback:jc,useContext:pt,useEffect:ga,useImperativeHandle:Cc,useInsertionEffect:bc,useLayoutEffect:Tc,useMemo:Pc,useReducer:pa,useRef:kc,useState:function(){return pa(es)},useDebugValue:ma,useDeferredValue:function(e){var t=gt();return Ne===null?t.memoizedState=e:Rc(t,Ne.memoizedState,e)},useTransition:function(){var e=pa(es)[0],t=gt().memoizedState;return[e,t]},useMutableSource:gc,useSyncExternalStore:mc,useId:Ac,unstable_isNewReconciler:!1};function Et(e,t){if(e&&e.defaultProps){t=W({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function va(e,t,n,i){t=e.memoizedState,n=n(i,t),n=n==null?t:W({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ai={isMounted:function(e){return(e=e._reactInternals)?vr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var i=Ge(),c=cr(e),h=Vt(i,c);h.payload=t,n!=null&&(h.callback=n),t=or(e,h,c),t!==null&&(bt(t,e,c,i),Zs(t,e,c))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var i=Ge(),c=cr(e),h=Vt(i,c);h.tag=1,h.payload=t,n!=null&&(h.callback=n),t=or(e,h,c),t!==null&&(bt(t,e,c,i),Zs(t,e,c))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Ge(),i=cr(e),c=Vt(n,i);c.tag=2,t!=null&&(c.callback=t),t=or(e,c,i),t!==null&&(bt(t,e,i,n),Zs(t,e,i))}};function Lc(e,t,n,i,c,h,p){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,h,p):t.prototype&&t.prototype.isPureReactComponent?!zn(n,i)||!zn(c,h):!0}function Uc(e,t,n){var i=!1,c=nr,h=t.contextType;return typeof h=="object"&&h!==null?h=pt(h):(c=Ye(t)?wr:Fe.current,i=t.contextTypes,h=(i=i!=null)?Qr(e,c):nr),t=new t(n,h),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ai,e.stateNode=t,t._reactInternals=e,i&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=c,e.__reactInternalMemoizedMaskedChildContext=h),t}function Dc(e,t,n,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,i),t.state!==e&&ai.enqueueReplaceState(t,t.state,null)}function ya(e,t,n,i){var c=e.stateNode;c.props=n,c.state=e.memoizedState,c.refs={},sa(e);var h=t.contextType;typeof h=="object"&&h!==null?c.context=pt(h):(h=Ye(t)?wr:Fe.current,c.context=Qr(e,h)),c.state=e.memoizedState,h=t.getDerivedStateFromProps,typeof h=="function"&&(va(e,t,h,n),c.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof c.getSnapshotBeforeUpdate=="function"||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(t=c.state,typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount(),t!==c.state&&ai.enqueueReplaceState(c,c.state,null),ei(e,n,c,i),c.state=e.memoizedState),typeof c.componentDidMount=="function"&&(e.flags|=4194308)}function sn(e,t){try{var n="",i=t;do n+=ue(i),i=i.return;while(i);var c=n}catch(h){c=`
Error generating stack: `+h.message+`
`+h.stack}return{value:e,source:t,stack:c,digest:null}}function wa(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function _a(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var fg=typeof WeakMap=="function"?WeakMap:Map;function Bc(e,t,n){n=Vt(-1,n),n.tag=3,n.payload={element:null};var i=t.value;return n.callback=function(){pi||(pi=!0,$a=i),_a(e,t)},n}function Mc(e,t,n){n=Vt(-1,n),n.tag=3;var i=e.type.getDerivedStateFromError;if(typeof i=="function"){var c=t.value;n.payload=function(){return i(c)},n.callback=function(){_a(e,t)}}var h=e.stateNode;return h!==null&&typeof h.componentDidCatch=="function"&&(n.callback=function(){_a(e,t),typeof i!="function"&&(lr===null?lr=new Set([this]):lr.add(this));var p=t.stack;this.componentDidCatch(t.value,{componentStack:p!==null?p:""})}),n}function zc(e,t,n){var i=e.pingCache;if(i===null){i=e.pingCache=new fg;var c=new Set;i.set(t,c)}else c=i.get(t),c===void 0&&(c=new Set,i.set(t,c));c.has(n)||(c.add(n),e=Og.bind(null,e,t,n),t.then(e,e))}function Fc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Vc(e,t,n,i,c){return(e.mode&1)===0?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Vt(-1,1),t.tag=2,or(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=c,e)}var pg=F.ReactCurrentOwner,Xe=!1;function Ke(e,t,n,i){t.child=e===null?uc(t,null,n,i):en(t,e.child,n,i)}function Wc(e,t,n,i,c){n=n.render;var h=t.ref;return rn(t,c),i=da(e,t,n,i,h,c),n=ha(),e!==null&&!Xe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~c,Wt(e,t,c)):(_e&&n&&Go(t),t.flags|=1,Ke(e,t,i,c),t.child)}function qc(e,t,n,i,c){if(e===null){var h=n.type;return typeof h=="function"&&!Fa(h)&&h.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=h,Hc(e,t,h,i,c)):(e=_i(n.type,null,i,t,t.mode,c),e.ref=t.ref,e.return=t,t.child=e)}if(h=e.child,(e.lanes&c)===0){var p=h.memoizedProps;if(n=n.compare,n=n!==null?n:zn,n(p,i)&&e.ref===t.ref)return Wt(e,t,c)}return t.flags|=1,e=hr(h,i),e.ref=t.ref,e.return=t,t.child=e}function Hc(e,t,n,i,c){if(e!==null){var h=e.memoizedProps;if(zn(h,i)&&e.ref===t.ref)if(Xe=!1,t.pendingProps=i=h,(e.lanes&c)!==0)(e.flags&131072)!==0&&(Xe=!0);else return t.lanes=e.lanes,Wt(e,t,c)}return Sa(e,t,n,i,c)}function Kc(e,t,n){var i=t.pendingProps,c=i.children,h=e!==null?e.memoizedState:null;if(i.mode==="hidden")if((t.mode&1)===0)t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ge(an,ut),ut|=n;else{if((n&1073741824)===0)return e=h!==null?h.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ge(an,ut),ut|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},i=h!==null?h.baseLanes:n,ge(an,ut),ut|=i}else h!==null?(i=h.baseLanes|n,t.memoizedState=null):i=n,ge(an,ut),ut|=i;return Ke(e,t,c,n),t.child}function Gc(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Sa(e,t,n,i,c){var h=Ye(n)?wr:Fe.current;return h=Qr(t,h),rn(t,c),n=da(e,t,n,i,h,c),i=ha(),e!==null&&!Xe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~c,Wt(e,t,c)):(_e&&i&&Go(t),t.flags|=1,Ke(e,t,n,c),t.child)}function Jc(e,t,n,i,c){if(Ye(n)){var h=!0;qs(t)}else h=!1;if(rn(t,c),t.stateNode===null)ui(e,t),Uc(t,n,i),ya(t,n,i,c),i=!0;else if(e===null){var p=t.stateNode,v=t.memoizedProps;p.props=v;var _=p.context,P=n.contextType;typeof P=="object"&&P!==null?P=pt(P):(P=Ye(n)?wr:Fe.current,P=Qr(t,P));var I=n.getDerivedStateFromProps,L=typeof I=="function"||typeof p.getSnapshotBeforeUpdate=="function";L||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(v!==i||_!==P)&&Dc(t,p,i,P),ir=!1;var A=t.memoizedState;p.state=A,ei(t,i,p,c),_=t.memoizedState,v!==i||A!==_||Qe.current||ir?(typeof I=="function"&&(va(t,n,I,i),_=t.memoizedState),(v=ir||Lc(t,n,v,i,A,_,P))?(L||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(t.flags|=4194308)):(typeof p.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=_),p.props=i,p.state=_,p.context=P,i=v):(typeof p.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{p=t.stateNode,dc(e,t),v=t.memoizedProps,P=t.type===t.elementType?v:Et(t.type,v),p.props=P,L=t.pendingProps,A=p.context,_=n.contextType,typeof _=="object"&&_!==null?_=pt(_):(_=Ye(n)?wr:Fe.current,_=Qr(t,_));var z=n.getDerivedStateFromProps;(I=typeof z=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(v!==L||A!==_)&&Dc(t,p,i,_),ir=!1,A=t.memoizedState,p.state=A,ei(t,i,p,c);var H=t.memoizedState;v!==L||A!==H||Qe.current||ir?(typeof z=="function"&&(va(t,n,z,i),H=t.memoizedState),(P=ir||Lc(t,n,P,i,A,H,_)||!1)?(I||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(i,H,_),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(i,H,_)),typeof p.componentDidUpdate=="function"&&(t.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof p.componentDidUpdate!="function"||v===e.memoizedProps&&A===e.memoizedState||(t.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&A===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=H),p.props=i,p.state=H,p.context=_,i=P):(typeof p.componentDidUpdate!="function"||v===e.memoizedProps&&A===e.memoizedState||(t.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||v===e.memoizedProps&&A===e.memoizedState||(t.flags|=1024),i=!1)}return Ea(e,t,n,i,h,c)}function Ea(e,t,n,i,c,h){Gc(e,t);var p=(t.flags&128)!==0;if(!i&&!p)return c&&ec(t,n,!1),Wt(e,t,h);i=t.stateNode,pg.current=t;var v=p&&typeof n.getDerivedStateFromError!="function"?null:i.render();return t.flags|=1,e!==null&&p?(t.child=en(t,e.child,null,h),t.child=en(t,null,v,h)):Ke(e,t,v,h),t.memoizedState=i.state,c&&ec(t,n,!0),t.child}function Qc(e){var t=e.stateNode;t.pendingContext?Xu(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Xu(e,t.context,!1),ia(e,t.containerInfo)}function Yc(e,t,n,i,c){return Zr(),Xo(c),t.flags|=256,Ke(e,t,n,i),t.child}var ka={dehydrated:null,treeContext:null,retryLane:0};function xa(e){return{baseLanes:e,cachePool:null,transitions:null}}function Xc(e,t,n){var i=t.pendingProps,c=Ee.current,h=!1,p=(t.flags&128)!==0,v;if((v=p)||(v=e!==null&&e.memoizedState===null?!1:(c&2)!==0),v?(h=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(c|=1),ge(Ee,c&1),e===null)return Yo(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?((t.mode&1)===0?t.lanes=1:e.data==="$!"?t.lanes=8:t.lanes=1073741824,null):(p=i.children,e=i.fallback,h?(i=t.mode,h=t.child,p={mode:"hidden",children:p},(i&1)===0&&h!==null?(h.childLanes=0,h.pendingProps=p):h=Si(p,i,0,null),e=jr(e,i,n,null),h.return=t,e.return=t,h.sibling=e,t.child=h,t.child.memoizedState=xa(n),t.memoizedState=ka,e):ba(t,p));if(c=e.memoizedState,c!==null&&(v=c.dehydrated,v!==null))return gg(e,t,p,i,v,c,n);if(h){h=i.fallback,p=t.mode,c=e.child,v=c.sibling;var _={mode:"hidden",children:i.children};return(p&1)===0&&t.child!==c?(i=t.child,i.childLanes=0,i.pendingProps=_,t.deletions=null):(i=hr(c,_),i.subtreeFlags=c.subtreeFlags&14680064),v!==null?h=hr(v,h):(h=jr(h,p,n,null),h.flags|=2),h.return=t,i.return=t,i.sibling=h,t.child=i,i=h,h=t.child,p=e.child.memoizedState,p=p===null?xa(n):{baseLanes:p.baseLanes|n,cachePool:null,transitions:p.transitions},h.memoizedState=p,h.childLanes=e.childLanes&~n,t.memoizedState=ka,i}return h=e.child,e=h.sibling,i=hr(h,{mode:"visible",children:i.children}),(t.mode&1)===0&&(i.lanes=n),i.return=t,i.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function ba(e,t){return t=Si({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function li(e,t,n,i){return i!==null&&Xo(i),en(t,e.child,null,n),e=ba(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function gg(e,t,n,i,c,h,p){if(n)return t.flags&256?(t.flags&=-257,i=wa(Error(s(422))),li(e,t,p,i)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(h=i.fallback,c=t.mode,i=Si({mode:"visible",children:i.children},c,0,null),h=jr(h,c,p,null),h.flags|=2,i.return=t,h.return=t,i.sibling=h,t.child=i,(t.mode&1)!==0&&en(t,e.child,null,p),t.child.memoizedState=xa(p),t.memoizedState=ka,h);if((t.mode&1)===0)return li(e,t,p,null);if(c.data==="$!"){if(i=c.nextSibling&&c.nextSibling.dataset,i)var v=i.dgst;return i=v,h=Error(s(419)),i=wa(h,i,void 0),li(e,t,p,i)}if(v=(p&e.childLanes)!==0,Xe||v){if(i=Le,i!==null){switch(p&-p){case 4:c=2;break;case 16:c=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:c=32;break;case 536870912:c=268435456;break;default:c=0}c=(c&(i.suspendedLanes|p))!==0?0:c,c!==0&&c!==h.retryLane&&(h.retryLane=c,Ft(e,c),bt(i,e,c,-1))}return za(),i=wa(Error(s(421))),li(e,t,p,i)}return c.data==="$?"?(t.flags|=128,t.child=e.child,t=Cg.bind(null,e),c._reactRetry=t,null):(e=h.treeContext,lt=tr(c.nextSibling),at=t,_e=!0,St=null,e!==null&&(ht[ft++]=Mt,ht[ft++]=zt,ht[ft++]=_r,Mt=e.id,zt=e.overflow,_r=t),t=ba(t,i.children),t.flags|=4096,t)}function Zc(e,t,n){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),ra(e.return,t,n)}function Ta(e,t,n,i,c){var h=e.memoizedState;h===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:n,tailMode:c}:(h.isBackwards=t,h.rendering=null,h.renderingStartTime=0,h.last=i,h.tail=n,h.tailMode=c)}function ed(e,t,n){var i=t.pendingProps,c=i.revealOrder,h=i.tail;if(Ke(e,t,i.children,n),i=Ee.current,(i&2)!==0)i=i&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Zc(e,n,t);else if(e.tag===19)Zc(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}i&=1}if(ge(Ee,i),(t.mode&1)===0)t.memoizedState=null;else switch(c){case"forwards":for(n=t.child,c=null;n!==null;)e=n.alternate,e!==null&&ti(e)===null&&(c=n),n=n.sibling;n=c,n===null?(c=t.child,t.child=null):(c=n.sibling,n.sibling=null),Ta(t,!1,c,n,h);break;case"backwards":for(n=null,c=t.child,t.child=null;c!==null;){if(e=c.alternate,e!==null&&ti(e)===null){t.child=c;break}e=c.sibling,c.sibling=n,n=c,c=e}Ta(t,!0,n,null,h);break;case"together":Ta(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ui(e,t){(t.mode&1)===0&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),br|=t.lanes,(n&t.childLanes)===0)return null;if(e!==null&&t.child!==e.child)throw Error(s(153));if(t.child!==null){for(e=t.child,n=hr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=hr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function mg(e,t,n){switch(t.tag){case 3:Qc(t),Zr();break;case 5:pc(t);break;case 1:Ye(t.type)&&qs(t);break;case 4:ia(t,t.stateNode.containerInfo);break;case 10:var i=t.type._context,c=t.memoizedProps.value;ge(Ys,i._currentValue),i._currentValue=c;break;case 13:if(i=t.memoizedState,i!==null)return i.dehydrated!==null?(ge(Ee,Ee.current&1),t.flags|=128,null):(n&t.child.childLanes)!==0?Xc(e,t,n):(ge(Ee,Ee.current&1),e=Wt(e,t,n),e!==null?e.sibling:null);ge(Ee,Ee.current&1);break;case 19:if(i=(n&t.childLanes)!==0,(e.flags&128)!==0){if(i)return ed(e,t,n);t.flags|=128}if(c=t.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),ge(Ee,Ee.current),i)break;return null;case 22:case 23:return t.lanes=0,Kc(e,t,n)}return Wt(e,t,n)}var td,Oa,rd,nd;td=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Oa=function(){},rd=function(e,t,n,i){var c=e.memoizedProps;if(c!==i){e=t.stateNode,kr(Nt.current);var h=null;switch(n){case"input":c=to(e,c),i=to(e,i),h=[];break;case"select":c=W({},c,{value:void 0}),i=W({},i,{value:void 0}),h=[];break;case"textarea":c=so(e,c),i=so(e,i),h=[];break;default:typeof c.onClick!="function"&&typeof i.onClick=="function"&&(e.onclick=Fs)}oo(n,i);var p;n=null;for(P in c)if(!i.hasOwnProperty(P)&&c.hasOwnProperty(P)&&c[P]!=null)if(P==="style"){var v=c[P];for(p in v)v.hasOwnProperty(p)&&(n||(n={}),n[p]="")}else P!=="dangerouslySetInnerHTML"&&P!=="children"&&P!=="suppressContentEditableWarning"&&P!=="suppressHydrationWarning"&&P!=="autoFocus"&&(l.hasOwnProperty(P)?h||(h=[]):(h=h||[]).push(P,null));for(P in i){var _=i[P];if(v=c?.[P],i.hasOwnProperty(P)&&_!==v&&(_!=null||v!=null))if(P==="style")if(v){for(p in v)!v.hasOwnProperty(p)||_&&_.hasOwnProperty(p)||(n||(n={}),n[p]="");for(p in _)_.hasOwnProperty(p)&&v[p]!==_[p]&&(n||(n={}),n[p]=_[p])}else n||(h||(h=[]),h.push(P,n)),n=_;else P==="dangerouslySetInnerHTML"?(_=_?_.__html:void 0,v=v?v.__html:void 0,_!=null&&v!==_&&(h=h||[]).push(P,_)):P==="children"?typeof _!="string"&&typeof _!="number"||(h=h||[]).push(P,""+_):P!=="suppressContentEditableWarning"&&P!=="suppressHydrationWarning"&&(l.hasOwnProperty(P)?(_!=null&&P==="onScroll"&&ve("scroll",e),h||v===_||(h=[])):(h=h||[]).push(P,_))}n&&(h=h||[]).push("style",n);var P=h;(t.updateQueue=P)&&(t.flags|=4)}},nd=function(e,t,n,i){n!==i&&(t.flags|=4)};function rs(e,t){if(!_e)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var i=null;n!==null;)n.alternate!==null&&(i=n),n=n.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function We(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,i=0;if(t)for(var c=e.child;c!==null;)n|=c.lanes|c.childLanes,i|=c.subtreeFlags&14680064,i|=c.flags&14680064,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)n|=c.lanes|c.childLanes,i|=c.subtreeFlags,i|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=i,e.childLanes=n,t}function vg(e,t,n){var i=t.pendingProps;switch(Jo(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return We(t),null;case 1:return Ye(t.type)&&Ws(),We(t),null;case 3:return i=t.stateNode,nn(),ye(Qe),ye(Fe),la(),i.pendingContext&&(i.context=i.pendingContext,i.pendingContext=null),(e===null||e.child===null)&&(Js(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,St!==null&&(Da(St),St=null))),Oa(e,t),We(t),null;case 5:oa(t);var c=kr(Yn.current);if(n=t.type,e!==null&&t.stateNode!=null)rd(e,t,n,i,c),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!i){if(t.stateNode===null)throw Error(s(166));return We(t),null}if(e=kr(Nt.current),Js(t)){i=t.stateNode,n=t.type;var h=t.memoizedProps;switch(i[At]=t,i[Hn]=h,e=(t.mode&1)!==0,n){case"dialog":ve("cancel",i),ve("close",i);break;case"iframe":case"object":case"embed":ve("load",i);break;case"video":case"audio":for(c=0;c<Vn.length;c++)ve(Vn[c],i);break;case"source":ve("error",i);break;case"img":case"image":case"link":ve("error",i),ve("load",i);break;case"details":ve("toggle",i);break;case"input":Ul(i,h),ve("invalid",i);break;case"select":i._wrapperState={wasMultiple:!!h.multiple},ve("invalid",i);break;case"textarea":Ml(i,h),ve("invalid",i)}oo(n,h),c=null;for(var p in h)if(h.hasOwnProperty(p)){var v=h[p];p==="children"?typeof v=="string"?i.textContent!==v&&(h.suppressHydrationWarning!==!0&&zs(i.textContent,v,e),c=["children",v]):typeof v=="number"&&i.textContent!==""+v&&(h.suppressHydrationWarning!==!0&&zs(i.textContent,v,e),c=["children",""+v]):l.hasOwnProperty(p)&&v!=null&&p==="onScroll"&&ve("scroll",i)}switch(n){case"input":ys(i),Bl(i,h,!0);break;case"textarea":ys(i),Fl(i);break;case"select":case"option":break;default:typeof h.onClick=="function"&&(i.onclick=Fs)}i=c,t.updateQueue=i,i!==null&&(t.flags|=4)}else{p=c.nodeType===9?c:c.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Vl(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=p.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof i.is=="string"?e=p.createElement(n,{is:i.is}):(e=p.createElement(n),n==="select"&&(p=e,i.multiple?p.multiple=!0:i.size&&(p.size=i.size))):e=p.createElementNS(e,n),e[At]=t,e[Hn]=i,td(e,t,!1,!1),t.stateNode=e;e:{switch(p=ao(n,i),n){case"dialog":ve("cancel",e),ve("close",e),c=i;break;case"iframe":case"object":case"embed":ve("load",e),c=i;break;case"video":case"audio":for(c=0;c<Vn.length;c++)ve(Vn[c],e);c=i;break;case"source":ve("error",e),c=i;break;case"img":case"image":case"link":ve("error",e),ve("load",e),c=i;break;case"details":ve("toggle",e),c=i;break;case"input":Ul(e,i),c=to(e,i),ve("invalid",e);break;case"option":c=i;break;case"select":e._wrapperState={wasMultiple:!!i.multiple},c=W({},i,{value:void 0}),ve("invalid",e);break;case"textarea":Ml(e,i),c=so(e,i),ve("invalid",e);break;default:c=i}oo(n,c),v=c;for(h in v)if(v.hasOwnProperty(h)){var _=v[h];h==="style"?Hl(e,_):h==="dangerouslySetInnerHTML"?(_=_?_.__html:void 0,_!=null&&Wl(e,_)):h==="children"?typeof _=="string"?(n!=="textarea"||_!=="")&&xn(e,_):typeof _=="number"&&xn(e,""+_):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(l.hasOwnProperty(h)?_!=null&&h==="onScroll"&&ve("scroll",e):_!=null&&$(e,h,_,p))}switch(n){case"input":ys(e),Bl(e,i,!1);break;case"textarea":ys(e),Fl(e);break;case"option":i.value!=null&&e.setAttribute("value",""+he(i.value));break;case"select":e.multiple=!!i.multiple,h=i.value,h!=null?Dr(e,!!i.multiple,h,!1):i.defaultValue!=null&&Dr(e,!!i.multiple,i.defaultValue,!0);break;default:typeof c.onClick=="function"&&(e.onclick=Fs)}switch(n){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}}i&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return We(t),null;case 6:if(e&&t.stateNode!=null)nd(e,t,e.memoizedProps,i);else{if(typeof i!="string"&&t.stateNode===null)throw Error(s(166));if(n=kr(Yn.current),kr(Nt.current),Js(t)){if(i=t.stateNode,n=t.memoizedProps,i[At]=t,(h=i.nodeValue!==n)&&(e=at,e!==null))switch(e.tag){case 3:zs(i.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&zs(i.nodeValue,n,(e.mode&1)!==0)}h&&(t.flags|=4)}else i=(n.nodeType===9?n:n.ownerDocument).createTextNode(i),i[At]=t,t.stateNode=i}return We(t),null;case 13:if(ye(Ee),i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(_e&&lt!==null&&(t.mode&1)!==0&&(t.flags&128)===0)oc(),Zr(),t.flags|=98560,h=!1;else if(h=Js(t),i!==null&&i.dehydrated!==null){if(e===null){if(!h)throw Error(s(318));if(h=t.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[At]=t}else Zr(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;We(t),h=!1}else St!==null&&(Da(St),St=null),h=!0;if(!h)return t.flags&65536?t:null}return(t.flags&128)!==0?(t.lanes=n,t):(i=i!==null,i!==(e!==null&&e.memoizedState!==null)&&i&&(t.child.flags|=8192,(t.mode&1)!==0&&(e===null||(Ee.current&1)!==0?Ie===0&&(Ie=3):za())),t.updateQueue!==null&&(t.flags|=4),We(t),null);case 4:return nn(),Oa(e,t),e===null&&Wn(t.stateNode.containerInfo),We(t),null;case 10:return ta(t.type._context),We(t),null;case 17:return Ye(t.type)&&Ws(),We(t),null;case 19:if(ye(Ee),h=t.memoizedState,h===null)return We(t),null;if(i=(t.flags&128)!==0,p=h.rendering,p===null)if(i)rs(h,!1);else{if(Ie!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(p=ti(e),p!==null){for(t.flags|=128,rs(h,!1),i=p.updateQueue,i!==null&&(t.updateQueue=i,t.flags|=4),t.subtreeFlags=0,i=n,n=t.child;n!==null;)h=n,e=i,h.flags&=14680066,p=h.alternate,p===null?(h.childLanes=0,h.lanes=e,h.child=null,h.subtreeFlags=0,h.memoizedProps=null,h.memoizedState=null,h.updateQueue=null,h.dependencies=null,h.stateNode=null):(h.childLanes=p.childLanes,h.lanes=p.lanes,h.child=p.child,h.subtreeFlags=0,h.deletions=null,h.memoizedProps=p.memoizedProps,h.memoizedState=p.memoizedState,h.updateQueue=p.updateQueue,h.type=p.type,e=p.dependencies,h.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ge(Ee,Ee.current&1|2),t.child}e=e.sibling}h.tail!==null&&Ce()>ln&&(t.flags|=128,i=!0,rs(h,!1),t.lanes=4194304)}else{if(!i)if(e=ti(p),e!==null){if(t.flags|=128,i=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),rs(h,!0),h.tail===null&&h.tailMode==="hidden"&&!p.alternate&&!_e)return We(t),null}else 2*Ce()-h.renderingStartTime>ln&&n!==1073741824&&(t.flags|=128,i=!0,rs(h,!1),t.lanes=4194304);h.isBackwards?(p.sibling=t.child,t.child=p):(n=h.last,n!==null?n.sibling=p:t.child=p,h.last=p)}return h.tail!==null?(t=h.tail,h.rendering=t,h.tail=t.sibling,h.renderingStartTime=Ce(),t.sibling=null,n=Ee.current,ge(Ee,i?n&1|2:n&1),t):(We(t),null);case 22:case 23:return Ma(),i=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==i&&(t.flags|=8192),i&&(t.mode&1)!==0?(ut&1073741824)!==0&&(We(t),t.subtreeFlags&6&&(t.flags|=8192)):We(t),null;case 24:return null;case 25:return null}throw Error(s(156,t.tag))}function yg(e,t){switch(Jo(t),t.tag){case 1:return Ye(t.type)&&Ws(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return nn(),ye(Qe),ye(Fe),la(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 5:return oa(t),null;case 13:if(ye(Ee),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(s(340));Zr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return ye(Ee),null;case 4:return nn(),null;case 10:return ta(t.type._context),null;case 22:case 23:return Ma(),null;case 24:return null;default:return null}}var ci=!1,qe=!1,wg=typeof WeakSet=="function"?WeakSet:Set,V=null;function on(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(i){Te(e,t,i)}else n.current=null}function Ca(e,t,n){try{n()}catch(i){Te(e,t,i)}}var sd=!1;function _g(e,t){if(Mo=Ps,e=Lu(),Ao(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var i=n.getSelection&&n.getSelection();if(i&&i.rangeCount!==0){n=i.anchorNode;var c=i.anchorOffset,h=i.focusNode;i=i.focusOffset;try{n.nodeType,h.nodeType}catch{n=null;break e}var p=0,v=-1,_=-1,P=0,I=0,L=e,A=null;t:for(;;){for(var z;L!==n||c!==0&&L.nodeType!==3||(v=p+c),L!==h||i!==0&&L.nodeType!==3||(_=p+i),L.nodeType===3&&(p+=L.nodeValue.length),(z=L.firstChild)!==null;)A=L,L=z;for(;;){if(L===e)break t;if(A===n&&++P===c&&(v=p),A===h&&++I===i&&(_=p),(z=L.nextSibling)!==null)break;L=A,A=L.parentNode}L=z}n=v===-1||_===-1?null:{start:v,end:_}}else n=null}n=n||{start:0,end:0}}else n=null;for(zo={focusedElem:e,selectionRange:n},Ps=!1,V=t;V!==null;)if(t=V,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,V=e;else for(;V!==null;){t=V;try{var H=t.alternate;if((t.flags&1024)!==0)switch(t.tag){case 0:case 11:case 15:break;case 1:if(H!==null){var K=H.memoizedProps,je=H.memoizedState,T=t.stateNode,S=T.getSnapshotBeforeUpdate(t.elementType===t.type?K:Et(t.type,K),je);T.__reactInternalSnapshotBeforeUpdate=S}break;case 3:var O=t.stateNode.containerInfo;O.nodeType===1?O.textContent="":O.nodeType===9&&O.documentElement&&O.removeChild(O.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(D){Te(t,t.return,D)}if(e=t.sibling,e!==null){e.return=t.return,V=e;break}V=t.return}return H=sd,sd=!1,H}function ns(e,t,n){var i=t.updateQueue;if(i=i!==null?i.lastEffect:null,i!==null){var c=i=i.next;do{if((c.tag&e)===e){var h=c.destroy;c.destroy=void 0,h!==void 0&&Ca(t,n,h)}c=c.next}while(c!==i)}}function di(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var i=n.create;n.destroy=i()}n=n.next}while(n!==t)}}function ja(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function id(e){var t=e.alternate;t!==null&&(e.alternate=null,id(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[At],delete t[Hn],delete t[qo],delete t[rg],delete t[ng])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function od(e){return e.tag===5||e.tag===3||e.tag===4}function ad(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||od(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Pa(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Fs));else if(i!==4&&(e=e.child,e!==null))for(Pa(e,t,n),e=e.sibling;e!==null;)Pa(e,t,n),e=e.sibling}function Ra(e,t,n){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(i!==4&&(e=e.child,e!==null))for(Ra(e,t,n),e=e.sibling;e!==null;)Ra(e,t,n),e=e.sibling}var De=null,kt=!1;function ar(e,t,n){for(n=n.child;n!==null;)ld(e,t,n),n=n.sibling}function ld(e,t,n){if(Rt&&typeof Rt.onCommitFiberUnmount=="function")try{Rt.onCommitFiberUnmount(xs,n)}catch{}switch(n.tag){case 5:qe||on(n,t);case 6:var i=De,c=kt;De=null,ar(e,t,n),De=i,kt=c,De!==null&&(kt?(e=De,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):De.removeChild(n.stateNode));break;case 18:De!==null&&(kt?(e=De,n=n.stateNode,e.nodeType===8?Wo(e.parentNode,n):e.nodeType===1&&Wo(e,n),$n(e)):Wo(De,n.stateNode));break;case 4:i=De,c=kt,De=n.stateNode.containerInfo,kt=!0,ar(e,t,n),De=i,kt=c;break;case 0:case 11:case 14:case 15:if(!qe&&(i=n.updateQueue,i!==null&&(i=i.lastEffect,i!==null))){c=i=i.next;do{var h=c,p=h.destroy;h=h.tag,p!==void 0&&((h&2)!==0||(h&4)!==0)&&Ca(n,t,p),c=c.next}while(c!==i)}ar(e,t,n);break;case 1:if(!qe&&(on(n,t),i=n.stateNode,typeof i.componentWillUnmount=="function"))try{i.props=n.memoizedProps,i.state=n.memoizedState,i.componentWillUnmount()}catch(v){Te(n,t,v)}ar(e,t,n);break;case 21:ar(e,t,n);break;case 22:n.mode&1?(qe=(i=qe)||n.memoizedState!==null,ar(e,t,n),qe=i):ar(e,t,n);break;default:ar(e,t,n)}}function ud(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new wg),t.forEach(function(i){var c=jg.bind(null,e,i);n.has(i)||(n.add(i),i.then(c,c))})}}function xt(e,t){var n=t.deletions;if(n!==null)for(var i=0;i<n.length;i++){var c=n[i];try{var h=e,p=t,v=p;e:for(;v!==null;){switch(v.tag){case 5:De=v.stateNode,kt=!1;break e;case 3:De=v.stateNode.containerInfo,kt=!0;break e;case 4:De=v.stateNode.containerInfo,kt=!0;break e}v=v.return}if(De===null)throw Error(s(160));ld(h,p,c),De=null,kt=!1;var _=c.alternate;_!==null&&(_.return=null),c.return=null}catch(P){Te(c,t,P)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)cd(t,e),t=t.sibling}function cd(e,t){var n=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(xt(t,e),$t(e),i&4){try{ns(3,e,e.return),di(3,e)}catch(K){Te(e,e.return,K)}try{ns(5,e,e.return)}catch(K){Te(e,e.return,K)}}break;case 1:xt(t,e),$t(e),i&512&&n!==null&&on(n,n.return);break;case 5:if(xt(t,e),$t(e),i&512&&n!==null&&on(n,n.return),e.flags&32){var c=e.stateNode;try{xn(c,"")}catch(K){Te(e,e.return,K)}}if(i&4&&(c=e.stateNode,c!=null)){var h=e.memoizedProps,p=n!==null?n.memoizedProps:h,v=e.type,_=e.updateQueue;if(e.updateQueue=null,_!==null)try{v==="input"&&h.type==="radio"&&h.name!=null&&Dl(c,h),ao(v,p);var P=ao(v,h);for(p=0;p<_.length;p+=2){var I=_[p],L=_[p+1];I==="style"?Hl(c,L):I==="dangerouslySetInnerHTML"?Wl(c,L):I==="children"?xn(c,L):$(c,I,L,P)}switch(v){case"input":ro(c,h);break;case"textarea":zl(c,h);break;case"select":var A=c._wrapperState.wasMultiple;c._wrapperState.wasMultiple=!!h.multiple;var z=h.value;z!=null?Dr(c,!!h.multiple,z,!1):A!==!!h.multiple&&(h.defaultValue!=null?Dr(c,!!h.multiple,h.defaultValue,!0):Dr(c,!!h.multiple,h.multiple?[]:"",!1))}c[Hn]=h}catch(K){Te(e,e.return,K)}}break;case 6:if(xt(t,e),$t(e),i&4){if(e.stateNode===null)throw Error(s(162));c=e.stateNode,h=e.memoizedProps;try{c.nodeValue=h}catch(K){Te(e,e.return,K)}}break;case 3:if(xt(t,e),$t(e),i&4&&n!==null&&n.memoizedState.isDehydrated)try{$n(t.containerInfo)}catch(K){Te(e,e.return,K)}break;case 4:xt(t,e),$t(e);break;case 13:xt(t,e),$t(e),c=e.child,c.flags&8192&&(h=c.memoizedState!==null,c.stateNode.isHidden=h,!h||c.alternate!==null&&c.alternate.memoizedState!==null||(Ia=Ce())),i&4&&ud(e);break;case 22:if(I=n!==null&&n.memoizedState!==null,e.mode&1?(qe=(P=qe)||I,xt(t,e),qe=P):xt(t,e),$t(e),i&8192){if(P=e.memoizedState!==null,(e.stateNode.isHidden=P)&&!I&&(e.mode&1)!==0)for(V=e,I=e.child;I!==null;){for(L=V=I;V!==null;){switch(A=V,z=A.child,A.tag){case 0:case 11:case 14:case 15:ns(4,A,A.return);break;case 1:on(A,A.return);var H=A.stateNode;if(typeof H.componentWillUnmount=="function"){i=A,n=A.return;try{t=i,H.props=t.memoizedProps,H.state=t.memoizedState,H.componentWillUnmount()}catch(K){Te(i,n,K)}}break;case 5:on(A,A.return);break;case 22:if(A.memoizedState!==null){fd(L);continue}}z!==null?(z.return=A,V=z):fd(L)}I=I.sibling}e:for(I=null,L=e;;){if(L.tag===5){if(I===null){I=L;try{c=L.stateNode,P?(h=c.style,typeof h.setProperty=="function"?h.setProperty("display","none","important"):h.display="none"):(v=L.stateNode,_=L.memoizedProps.style,p=_!=null&&_.hasOwnProperty("display")?_.display:null,v.style.display=ql("display",p))}catch(K){Te(e,e.return,K)}}}else if(L.tag===6){if(I===null)try{L.stateNode.nodeValue=P?"":L.memoizedProps}catch(K){Te(e,e.return,K)}}else if((L.tag!==22&&L.tag!==23||L.memoizedState===null||L===e)&&L.child!==null){L.child.return=L,L=L.child;continue}if(L===e)break e;for(;L.sibling===null;){if(L.return===null||L.return===e)break e;I===L&&(I=null),L=L.return}I===L&&(I=null),L.sibling.return=L.return,L=L.sibling}}break;case 19:xt(t,e),$t(e),i&4&&ud(e);break;case 21:break;default:xt(t,e),$t(e)}}function $t(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(od(n)){var i=n;break e}n=n.return}throw Error(s(160))}switch(i.tag){case 5:var c=i.stateNode;i.flags&32&&(xn(c,""),i.flags&=-33);var h=ad(e);Ra(e,h,c);break;case 3:case 4:var p=i.stateNode.containerInfo,v=ad(e);Pa(e,v,p);break;default:throw Error(s(161))}}catch(_){Te(e,e.return,_)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Sg(e,t,n){V=e,dd(e)}function dd(e,t,n){for(var i=(e.mode&1)!==0;V!==null;){var c=V,h=c.child;if(c.tag===22&&i){var p=c.memoizedState!==null||ci;if(!p){var v=c.alternate,_=v!==null&&v.memoizedState!==null||qe;v=ci;var P=qe;if(ci=p,(qe=_)&&!P)for(V=c;V!==null;)p=V,_=p.child,p.tag===22&&p.memoizedState!==null?pd(c):_!==null?(_.return=p,V=_):pd(c);for(;h!==null;)V=h,dd(h),h=h.sibling;V=c,ci=v,qe=P}hd(e)}else(c.subtreeFlags&8772)!==0&&h!==null?(h.return=c,V=h):hd(e)}}function hd(e){for(;V!==null;){var t=V;if((t.flags&8772)!==0){var n=t.alternate;try{if((t.flags&8772)!==0)switch(t.tag){case 0:case 11:case 15:qe||di(5,t);break;case 1:var i=t.stateNode;if(t.flags&4&&!qe)if(n===null)i.componentDidMount();else{var c=t.elementType===t.type?n.memoizedProps:Et(t.type,n.memoizedProps);i.componentDidUpdate(c,n.memoizedState,i.__reactInternalSnapshotBeforeUpdate)}var h=t.updateQueue;h!==null&&fc(t,h,i);break;case 3:var p=t.updateQueue;if(p!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}fc(t,p,n)}break;case 5:var v=t.stateNode;if(n===null&&t.flags&4){n=v;var _=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":_.autoFocus&&n.focus();break;case"img":_.src&&(n.src=_.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var P=t.alternate;if(P!==null){var I=P.memoizedState;if(I!==null){var L=I.dehydrated;L!==null&&$n(L)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(s(163))}qe||t.flags&512&&ja(t)}catch(A){Te(t,t.return,A)}}if(t===e){V=null;break}if(n=t.sibling,n!==null){n.return=t.return,V=n;break}V=t.return}}function fd(e){for(;V!==null;){var t=V;if(t===e){V=null;break}var n=t.sibling;if(n!==null){n.return=t.return,V=n;break}V=t.return}}function pd(e){for(;V!==null;){var t=V;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{di(4,t)}catch(_){Te(t,n,_)}break;case 1:var i=t.stateNode;if(typeof i.componentDidMount=="function"){var c=t.return;try{i.componentDidMount()}catch(_){Te(t,c,_)}}var h=t.return;try{ja(t)}catch(_){Te(t,h,_)}break;case 5:var p=t.return;try{ja(t)}catch(_){Te(t,p,_)}}}catch(_){Te(t,t.return,_)}if(t===e){V=null;break}var v=t.sibling;if(v!==null){v.return=t.return,V=v;break}V=t.return}}var Eg=Math.ceil,hi=F.ReactCurrentDispatcher,Aa=F.ReactCurrentOwner,mt=F.ReactCurrentBatchConfig,le=0,Le=null,Pe=null,Be=0,ut=0,an=rr(0),Ie=0,ss=null,br=0,fi=0,Na=0,is=null,Ze=null,Ia=0,ln=1/0,qt=null,pi=!1,$a=null,lr=null,gi=!1,ur=null,mi=0,os=0,La=null,vi=-1,yi=0;function Ge(){return(le&6)!==0?Ce():vi!==-1?vi:vi=Ce()}function cr(e){return(e.mode&1)===0?1:(le&2)!==0&&Be!==0?Be&-Be:ig.transition!==null?(yi===0&&(yi=au()),yi):(e=fe,e!==0||(e=window.event,e=e===void 0?16:mu(e.type)),e)}function bt(e,t,n,i){if(50<os)throw os=0,La=null,Error(s(185));Pn(e,n,i),((le&2)===0||e!==Le)&&(e===Le&&((le&2)===0&&(fi|=n),Ie===4&&dr(e,Be)),et(e,i),n===1&&le===0&&(t.mode&1)===0&&(ln=Ce()+500,Hs&&sr()))}function et(e,t){var n=e.callbackNode;ip(e,t);var i=Os(e,e===Le?Be:0);if(i===0)n!==null&&su(n),e.callbackNode=null,e.callbackPriority=0;else if(t=i&-i,e.callbackPriority!==t){if(n!=null&&su(n),t===1)e.tag===0?sg(md.bind(null,e)):tc(md.bind(null,e)),eg(function(){(le&6)===0&&sr()}),n=null;else{switch(lu(i)){case 1:n=go;break;case 4:n=iu;break;case 16:n=ks;break;case 536870912:n=ou;break;default:n=ks}n=xd(n,gd.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function gd(e,t){if(vi=-1,yi=0,(le&6)!==0)throw Error(s(327));var n=e.callbackNode;if(un()&&e.callbackNode!==n)return null;var i=Os(e,e===Le?Be:0);if(i===0)return null;if((i&30)!==0||(i&e.expiredLanes)!==0||t)t=wi(e,i);else{t=i;var c=le;le|=2;var h=yd();(Le!==e||Be!==t)&&(qt=null,ln=Ce()+500,Or(e,t));do try{bg();break}catch(v){vd(e,v)}while(!0);ea(),hi.current=h,le=c,Pe!==null?t=0:(Le=null,Be=0,t=Ie)}if(t!==0){if(t===2&&(c=mo(e),c!==0&&(i=c,t=Ua(e,c))),t===1)throw n=ss,Or(e,0),dr(e,i),et(e,Ce()),n;if(t===6)dr(e,i);else{if(c=e.current.alternate,(i&30)===0&&!kg(c)&&(t=wi(e,i),t===2&&(h=mo(e),h!==0&&(i=h,t=Ua(e,h))),t===1))throw n=ss,Or(e,0),dr(e,i),et(e,Ce()),n;switch(e.finishedWork=c,e.finishedLanes=i,t){case 0:case 1:throw Error(s(345));case 2:Cr(e,Ze,qt);break;case 3:if(dr(e,i),(i&130023424)===i&&(t=Ia+500-Ce(),10<t)){if(Os(e,0)!==0)break;if(c=e.suspendedLanes,(c&i)!==i){Ge(),e.pingedLanes|=e.suspendedLanes&c;break}e.timeoutHandle=Vo(Cr.bind(null,e,Ze,qt),t);break}Cr(e,Ze,qt);break;case 4:if(dr(e,i),(i&4194240)===i)break;for(t=e.eventTimes,c=-1;0<i;){var p=31-wt(i);h=1<<p,p=t[p],p>c&&(c=p),i&=~h}if(i=c,i=Ce()-i,i=(120>i?120:480>i?480:1080>i?1080:1920>i?1920:3e3>i?3e3:4320>i?4320:1960*Eg(i/1960))-i,10<i){e.timeoutHandle=Vo(Cr.bind(null,e,Ze,qt),i);break}Cr(e,Ze,qt);break;case 5:Cr(e,Ze,qt);break;default:throw Error(s(329))}}}return et(e,Ce()),e.callbackNode===n?gd.bind(null,e):null}function Ua(e,t){var n=is;return e.current.memoizedState.isDehydrated&&(Or(e,t).flags|=256),e=wi(e,t),e!==2&&(t=Ze,Ze=n,t!==null&&Da(t)),e}function Da(e){Ze===null?Ze=e:Ze.push.apply(Ze,e)}function kg(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var i=0;i<n.length;i++){var c=n[i],h=c.getSnapshot;c=c.value;try{if(!_t(h(),c))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function dr(e,t){for(t&=~Na,t&=~fi,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-wt(t),i=1<<n;e[n]=-1,t&=~i}}function md(e){if((le&6)!==0)throw Error(s(327));un();var t=Os(e,0);if((t&1)===0)return et(e,Ce()),null;var n=wi(e,t);if(e.tag!==0&&n===2){var i=mo(e);i!==0&&(t=i,n=Ua(e,i))}if(n===1)throw n=ss,Or(e,0),dr(e,t),et(e,Ce()),n;if(n===6)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Cr(e,Ze,qt),et(e,Ce()),null}function Ba(e,t){var n=le;le|=1;try{return e(t)}finally{le=n,le===0&&(ln=Ce()+500,Hs&&sr())}}function Tr(e){ur!==null&&ur.tag===0&&(le&6)===0&&un();var t=le;le|=1;var n=mt.transition,i=fe;try{if(mt.transition=null,fe=1,e)return e()}finally{fe=i,mt.transition=n,le=t,(le&6)===0&&sr()}}function Ma(){ut=an.current,ye(an)}function Or(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Zp(n)),Pe!==null)for(n=Pe.return;n!==null;){var i=n;switch(Jo(i),i.tag){case 1:i=i.type.childContextTypes,i!=null&&Ws();break;case 3:nn(),ye(Qe),ye(Fe),la();break;case 5:oa(i);break;case 4:nn();break;case 13:ye(Ee);break;case 19:ye(Ee);break;case 10:ta(i.type._context);break;case 22:case 23:Ma()}n=n.return}if(Le=e,Pe=e=hr(e.current,null),Be=ut=t,Ie=0,ss=null,Na=fi=br=0,Ze=is=null,Er!==null){for(t=0;t<Er.length;t++)if(n=Er[t],i=n.interleaved,i!==null){n.interleaved=null;var c=i.next,h=n.pending;if(h!==null){var p=h.next;h.next=c,i.next=p}n.pending=i}Er=null}return e}function vd(e,t){do{var n=Pe;try{if(ea(),ri.current=oi,ni){for(var i=ke.memoizedState;i!==null;){var c=i.queue;c!==null&&(c.pending=null),i=i.next}ni=!1}if(xr=0,$e=Ne=ke=null,Xn=!1,Zn=0,Aa.current=null,n===null||n.return===null){Ie=1,ss=t,Pe=null;break}e:{var h=e,p=n.return,v=n,_=t;if(t=Be,v.flags|=32768,_!==null&&typeof _=="object"&&typeof _.then=="function"){var P=_,I=v,L=I.tag;if((I.mode&1)===0&&(L===0||L===11||L===15)){var A=I.alternate;A?(I.updateQueue=A.updateQueue,I.memoizedState=A.memoizedState,I.lanes=A.lanes):(I.updateQueue=null,I.memoizedState=null)}var z=Fc(p);if(z!==null){z.flags&=-257,Vc(z,p,v,h,t),z.mode&1&&zc(h,P,t),t=z,_=P;var H=t.updateQueue;if(H===null){var K=new Set;K.add(_),t.updateQueue=K}else H.add(_);break e}else{if((t&1)===0){zc(h,P,t),za();break e}_=Error(s(426))}}else if(_e&&v.mode&1){var je=Fc(p);if(je!==null){(je.flags&65536)===0&&(je.flags|=256),Vc(je,p,v,h,t),Xo(sn(_,v));break e}}h=_=sn(_,v),Ie!==4&&(Ie=2),is===null?is=[h]:is.push(h),h=p;do{switch(h.tag){case 3:h.flags|=65536,t&=-t,h.lanes|=t;var T=Bc(h,_,t);hc(h,T);break e;case 1:v=_;var S=h.type,O=h.stateNode;if((h.flags&128)===0&&(typeof S.getDerivedStateFromError=="function"||O!==null&&typeof O.componentDidCatch=="function"&&(lr===null||!lr.has(O)))){h.flags|=65536,t&=-t,h.lanes|=t;var D=Mc(h,v,t);hc(h,D);break e}}h=h.return}while(h!==null)}_d(n)}catch(G){t=G,Pe===n&&n!==null&&(Pe=n=n.return);continue}break}while(!0)}function yd(){var e=hi.current;return hi.current=oi,e===null?oi:e}function za(){(Ie===0||Ie===3||Ie===2)&&(Ie=4),Le===null||(br&268435455)===0&&(fi&268435455)===0||dr(Le,Be)}function wi(e,t){var n=le;le|=2;var i=yd();(Le!==e||Be!==t)&&(qt=null,Or(e,t));do try{xg();break}catch(c){vd(e,c)}while(!0);if(ea(),le=n,hi.current=i,Pe!==null)throw Error(s(261));return Le=null,Be=0,Ie}function xg(){for(;Pe!==null;)wd(Pe)}function bg(){for(;Pe!==null&&!Qf();)wd(Pe)}function wd(e){var t=kd(e.alternate,e,ut);e.memoizedProps=e.pendingProps,t===null?_d(e):Pe=t,Aa.current=null}function _d(e){var t=e;do{var n=t.alternate;if(e=t.return,(t.flags&32768)===0){if(n=vg(n,t,ut),n!==null){Pe=n;return}}else{if(n=yg(n,t),n!==null){n.flags&=32767,Pe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ie=6,Pe=null;return}}if(t=t.sibling,t!==null){Pe=t;return}Pe=t=e}while(t!==null);Ie===0&&(Ie=5)}function Cr(e,t,n){var i=fe,c=mt.transition;try{mt.transition=null,fe=1,Tg(e,t,n,i)}finally{mt.transition=c,fe=i}return null}function Tg(e,t,n,i){do un();while(ur!==null);if((le&6)!==0)throw Error(s(327));n=e.finishedWork;var c=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var h=n.lanes|n.childLanes;if(op(e,h),e===Le&&(Pe=Le=null,Be=0),(n.subtreeFlags&2064)===0&&(n.flags&2064)===0||gi||(gi=!0,xd(ks,function(){return un(),null})),h=(n.flags&15990)!==0,(n.subtreeFlags&15990)!==0||h){h=mt.transition,mt.transition=null;var p=fe;fe=1;var v=le;le|=4,Aa.current=null,_g(e,n),cd(n,e),Hp(zo),Ps=!!Mo,zo=Mo=null,e.current=n,Sg(n),Yf(),le=v,fe=p,mt.transition=h}else e.current=n;if(gi&&(gi=!1,ur=e,mi=c),h=e.pendingLanes,h===0&&(lr=null),ep(n.stateNode),et(e,Ce()),t!==null)for(i=e.onRecoverableError,n=0;n<t.length;n++)c=t[n],i(c.value,{componentStack:c.stack,digest:c.digest});if(pi)throw pi=!1,e=$a,$a=null,e;return(mi&1)!==0&&e.tag!==0&&un(),h=e.pendingLanes,(h&1)!==0?e===La?os++:(os=0,La=e):os=0,sr(),null}function un(){if(ur!==null){var e=lu(mi),t=mt.transition,n=fe;try{if(mt.transition=null,fe=16>e?16:e,ur===null)var i=!1;else{if(e=ur,ur=null,mi=0,(le&6)!==0)throw Error(s(331));var c=le;for(le|=4,V=e.current;V!==null;){var h=V,p=h.child;if((V.flags&16)!==0){var v=h.deletions;if(v!==null){for(var _=0;_<v.length;_++){var P=v[_];for(V=P;V!==null;){var I=V;switch(I.tag){case 0:case 11:case 15:ns(8,I,h)}var L=I.child;if(L!==null)L.return=I,V=L;else for(;V!==null;){I=V;var A=I.sibling,z=I.return;if(id(I),I===P){V=null;break}if(A!==null){A.return=z,V=A;break}V=z}}}var H=h.alternate;if(H!==null){var K=H.child;if(K!==null){H.child=null;do{var je=K.sibling;K.sibling=null,K=je}while(K!==null)}}V=h}}if((h.subtreeFlags&2064)!==0&&p!==null)p.return=h,V=p;else e:for(;V!==null;){if(h=V,(h.flags&2048)!==0)switch(h.tag){case 0:case 11:case 15:ns(9,h,h.return)}var T=h.sibling;if(T!==null){T.return=h.return,V=T;break e}V=h.return}}var S=e.current;for(V=S;V!==null;){p=V;var O=p.child;if((p.subtreeFlags&2064)!==0&&O!==null)O.return=p,V=O;else e:for(p=S;V!==null;){if(v=V,(v.flags&2048)!==0)try{switch(v.tag){case 0:case 11:case 15:di(9,v)}}catch(G){Te(v,v.return,G)}if(v===p){V=null;break e}var D=v.sibling;if(D!==null){D.return=v.return,V=D;break e}V=v.return}}if(le=c,sr(),Rt&&typeof Rt.onPostCommitFiberRoot=="function")try{Rt.onPostCommitFiberRoot(xs,e)}catch{}i=!0}return i}finally{fe=n,mt.transition=t}}return!1}function Sd(e,t,n){t=sn(n,t),t=Bc(e,t,1),e=or(e,t,1),t=Ge(),e!==null&&(Pn(e,1,t),et(e,t))}function Te(e,t,n){if(e.tag===3)Sd(e,e,n);else for(;t!==null;){if(t.tag===3){Sd(t,e,n);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(lr===null||!lr.has(i))){e=sn(n,e),e=Mc(t,e,1),t=or(t,e,1),e=Ge(),t!==null&&(Pn(t,1,e),et(t,e));break}}t=t.return}}function Og(e,t,n){var i=e.pingCache;i!==null&&i.delete(t),t=Ge(),e.pingedLanes|=e.suspendedLanes&n,Le===e&&(Be&n)===n&&(Ie===4||Ie===3&&(Be&130023424)===Be&&500>Ce()-Ia?Or(e,0):Na|=n),et(e,t)}function Ed(e,t){t===0&&((e.mode&1)===0?t=1:(t=Ts,Ts<<=1,(Ts&130023424)===0&&(Ts=4194304)));var n=Ge();e=Ft(e,t),e!==null&&(Pn(e,t,n),et(e,n))}function Cg(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Ed(e,n)}function jg(e,t){var n=0;switch(e.tag){case 13:var i=e.stateNode,c=e.memoizedState;c!==null&&(n=c.retryLane);break;case 19:i=e.stateNode;break;default:throw Error(s(314))}i!==null&&i.delete(t),Ed(e,n)}var kd;kd=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Qe.current)Xe=!0;else{if((e.lanes&n)===0&&(t.flags&128)===0)return Xe=!1,mg(e,t,n);Xe=(e.flags&131072)!==0}else Xe=!1,_e&&(t.flags&1048576)!==0&&rc(t,Gs,t.index);switch(t.lanes=0,t.tag){case 2:var i=t.type;ui(e,t),e=t.pendingProps;var c=Qr(t,Fe.current);rn(t,n),c=da(null,t,i,e,c,n);var h=ha();return t.flags|=1,typeof c=="object"&&c!==null&&typeof c.render=="function"&&c.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ye(i)?(h=!0,qs(t)):h=!1,t.memoizedState=c.state!==null&&c.state!==void 0?c.state:null,sa(t),c.updater=ai,t.stateNode=c,c._reactInternals=t,ya(t,i,e,n),t=Ea(null,t,i,!0,h,n)):(t.tag=0,_e&&h&&Go(t),Ke(null,t,c,n),t=t.child),t;case 16:i=t.elementType;e:{switch(ui(e,t),e=t.pendingProps,c=i._init,i=c(i._payload),t.type=i,c=t.tag=Rg(i),e=Et(i,e),c){case 0:t=Sa(null,t,i,e,n);break e;case 1:t=Jc(null,t,i,e,n);break e;case 11:t=Wc(null,t,i,e,n);break e;case 14:t=qc(null,t,i,Et(i.type,e),n);break e}throw Error(s(306,i,""))}return t;case 0:return i=t.type,c=t.pendingProps,c=t.elementType===i?c:Et(i,c),Sa(e,t,i,c,n);case 1:return i=t.type,c=t.pendingProps,c=t.elementType===i?c:Et(i,c),Jc(e,t,i,c,n);case 3:e:{if(Qc(t),e===null)throw Error(s(387));i=t.pendingProps,h=t.memoizedState,c=h.element,dc(e,t),ei(t,i,null,n);var p=t.memoizedState;if(i=p.element,h.isDehydrated)if(h={element:i,isDehydrated:!1,cache:p.cache,pendingSuspenseBoundaries:p.pendingSuspenseBoundaries,transitions:p.transitions},t.updateQueue.baseState=h,t.memoizedState=h,t.flags&256){c=sn(Error(s(423)),t),t=Yc(e,t,i,n,c);break e}else if(i!==c){c=sn(Error(s(424)),t),t=Yc(e,t,i,n,c);break e}else for(lt=tr(t.stateNode.containerInfo.firstChild),at=t,_e=!0,St=null,n=uc(t,null,i,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Zr(),i===c){t=Wt(e,t,n);break e}Ke(e,t,i,n)}t=t.child}return t;case 5:return pc(t),e===null&&Yo(t),i=t.type,c=t.pendingProps,h=e!==null?e.memoizedProps:null,p=c.children,Fo(i,c)?p=null:h!==null&&Fo(i,h)&&(t.flags|=32),Gc(e,t),Ke(e,t,p,n),t.child;case 6:return e===null&&Yo(t),null;case 13:return Xc(e,t,n);case 4:return ia(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=en(t,null,i,n):Ke(e,t,i,n),t.child;case 11:return i=t.type,c=t.pendingProps,c=t.elementType===i?c:Et(i,c),Wc(e,t,i,c,n);case 7:return Ke(e,t,t.pendingProps,n),t.child;case 8:return Ke(e,t,t.pendingProps.children,n),t.child;case 12:return Ke(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(i=t.type._context,c=t.pendingProps,h=t.memoizedProps,p=c.value,ge(Ys,i._currentValue),i._currentValue=p,h!==null)if(_t(h.value,p)){if(h.children===c.children&&!Qe.current){t=Wt(e,t,n);break e}}else for(h=t.child,h!==null&&(h.return=t);h!==null;){var v=h.dependencies;if(v!==null){p=h.child;for(var _=v.firstContext;_!==null;){if(_.context===i){if(h.tag===1){_=Vt(-1,n&-n),_.tag=2;var P=h.updateQueue;if(P!==null){P=P.shared;var I=P.pending;I===null?_.next=_:(_.next=I.next,I.next=_),P.pending=_}}h.lanes|=n,_=h.alternate,_!==null&&(_.lanes|=n),ra(h.return,n,t),v.lanes|=n;break}_=_.next}}else if(h.tag===10)p=h.type===t.type?null:h.child;else if(h.tag===18){if(p=h.return,p===null)throw Error(s(341));p.lanes|=n,v=p.alternate,v!==null&&(v.lanes|=n),ra(p,n,t),p=h.sibling}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===t){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}Ke(e,t,c.children,n),t=t.child}return t;case 9:return c=t.type,i=t.pendingProps.children,rn(t,n),c=pt(c),i=i(c),t.flags|=1,Ke(e,t,i,n),t.child;case 14:return i=t.type,c=Et(i,t.pendingProps),c=Et(i.type,c),qc(e,t,i,c,n);case 15:return Hc(e,t,t.type,t.pendingProps,n);case 17:return i=t.type,c=t.pendingProps,c=t.elementType===i?c:Et(i,c),ui(e,t),t.tag=1,Ye(i)?(e=!0,qs(t)):e=!1,rn(t,n),Uc(t,i,c),ya(t,i,c,n),Ea(null,t,i,!0,e,n);case 19:return ed(e,t,n);case 22:return Kc(e,t,n)}throw Error(s(156,t.tag))};function xd(e,t){return nu(e,t)}function Pg(e,t,n,i){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vt(e,t,n,i){return new Pg(e,t,n,i)}function Fa(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Rg(e){if(typeof e=="function")return Fa(e)?1:0;if(e!=null){if(e=e.$$typeof,e===jt)return 11;if(e===Pt)return 14}return 2}function hr(e,t){var n=e.alternate;return n===null?(n=vt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function _i(e,t,n,i,c,h){var p=2;if(i=e,typeof e=="function")Fa(e)&&(p=1);else if(typeof e=="string")p=5;else e:switch(e){case Q:return jr(n.children,c,h,t);case ae:p=8,c|=8;break;case Oe:return e=vt(12,n,t,c|2),e.elementType=Oe,e.lanes=h,e;case st:return e=vt(13,n,t,c),e.elementType=st,e.lanes=h,e;case yt:return e=vt(19,n,t,c),e.elementType=yt,e.lanes=h,e;case be:return Si(n,c,h,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Ut:p=10;break e;case mr:p=9;break e;case jt:p=11;break e;case Pt:p=14;break e;case Je:p=16,i=null;break e}throw Error(s(130,e==null?e:typeof e,""))}return t=vt(p,n,t,c),t.elementType=e,t.type=i,t.lanes=h,t}function jr(e,t,n,i){return e=vt(7,e,i,t),e.lanes=n,e}function Si(e,t,n,i){return e=vt(22,e,i,t),e.elementType=be,e.lanes=n,e.stateNode={isHidden:!1},e}function Va(e,t,n){return e=vt(6,e,null,t),e.lanes=n,e}function Wa(e,t,n){return t=vt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Ag(e,t,n,i,c){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vo(0),this.expirationTimes=vo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vo(0),this.identifierPrefix=i,this.onRecoverableError=c,this.mutableSourceEagerHydrationData=null}function qa(e,t,n,i,c,h,p,v,_){return e=new Ag(e,t,n,v,_),t===1?(t=1,h===!0&&(t|=8)):t=0,h=vt(3,null,null,t),e.current=h,h.stateNode=e,h.memoizedState={element:i,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},sa(h),e}function Ng(e,t,n){var i=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:re,key:i==null?null:""+i,children:e,containerInfo:t,implementation:n}}function bd(e){if(!e)return nr;e=e._reactInternals;e:{if(vr(e)!==e||e.tag!==1)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ye(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(s(171))}if(e.tag===1){var n=e.type;if(Ye(n))return Zu(e,n,t)}return t}function Td(e,t,n,i,c,h,p,v,_){return e=qa(n,i,!0,e,c,h,p,v,_),e.context=bd(null),n=e.current,i=Ge(),c=cr(n),h=Vt(i,c),h.callback=t??null,or(n,h,c),e.current.lanes=c,Pn(e,c,i),et(e,i),e}function Ei(e,t,n,i){var c=t.current,h=Ge(),p=cr(c);return n=bd(n),t.context===null?t.context=n:t.pendingContext=n,t=Vt(h,p),t.payload={element:e},i=i===void 0?null:i,i!==null&&(t.callback=i),e=or(c,t,p),e!==null&&(bt(e,c,p,h),Zs(e,c,p)),p}function ki(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Od(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Ha(e,t){Od(e,t),(e=e.alternate)&&Od(e,t)}function Ig(){return null}var Cd=typeof reportError=="function"?reportError:function(e){console.error(e)};function Ka(e){this._internalRoot=e}xi.prototype.render=Ka.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(s(409));Ei(e,t,null,null)},xi.prototype.unmount=Ka.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Tr(function(){Ei(null,e,null,null)}),t[Dt]=null}};function xi(e){this._internalRoot=e}xi.prototype.unstable_scheduleHydration=function(e){if(e){var t=du();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Xt.length&&t!==0&&t<Xt[n].priority;n++);Xt.splice(n,0,e),n===0&&pu(e)}};function Ga(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function bi(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function jd(){}function $g(e,t,n,i,c){if(c){if(typeof i=="function"){var h=i;i=function(){var P=ki(p);h.call(P)}}var p=Td(t,i,e,0,null,!1,!1,"",jd);return e._reactRootContainer=p,e[Dt]=p.current,Wn(e.nodeType===8?e.parentNode:e),Tr(),p}for(;c=e.lastChild;)e.removeChild(c);if(typeof i=="function"){var v=i;i=function(){var P=ki(_);v.call(P)}}var _=qa(e,0,!1,null,null,!1,!1,"",jd);return e._reactRootContainer=_,e[Dt]=_.current,Wn(e.nodeType===8?e.parentNode:e),Tr(function(){Ei(t,_,n,i)}),_}function Ti(e,t,n,i,c){var h=n._reactRootContainer;if(h){var p=h;if(typeof c=="function"){var v=c;c=function(){var _=ki(p);v.call(_)}}Ei(t,p,e,c)}else p=$g(n,t,e,c,i);return ki(p)}uu=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=jn(t.pendingLanes);n!==0&&(yo(t,n|1),et(t,Ce()),(le&6)===0&&(ln=Ce()+500,sr()))}break;case 13:Tr(function(){var i=Ft(e,1);if(i!==null){var c=Ge();bt(i,e,1,c)}}),Ha(e,1)}},wo=function(e){if(e.tag===13){var t=Ft(e,134217728);if(t!==null){var n=Ge();bt(t,e,134217728,n)}Ha(e,134217728)}},cu=function(e){if(e.tag===13){var t=cr(e),n=Ft(e,t);if(n!==null){var i=Ge();bt(n,e,t,i)}Ha(e,t)}},du=function(){return fe},hu=function(e,t){var n=fe;try{return fe=e,t()}finally{fe=n}},co=function(e,t,n){switch(t){case"input":if(ro(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var i=n[t];if(i!==e&&i.form===e.form){var c=Vs(i);if(!c)throw Error(s(90));Ll(i),ro(i,c)}}}break;case"textarea":zl(e,n);break;case"select":t=n.value,t!=null&&Dr(e,!!n.multiple,t,!1)}},Ql=Ba,Yl=Tr;var Lg={usingClientEntryPoint:!1,Events:[Kn,Gr,Vs,Gl,Jl,Ba]},as={findFiberByHostInstance:yr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ug={bundleType:as.bundleType,version:as.version,rendererPackageName:as.rendererPackageName,rendererConfig:as.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:F.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=tu(e),e===null?null:e.stateNode},findFiberByHostInstance:as.findFiberByHostInstance||Ig,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Oi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Oi.isDisabled&&Oi.supportsFiber)try{xs=Oi.inject(Ug),Rt=Oi}catch{}}return tt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Lg,tt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ga(t))throw Error(s(200));return Ng(e,t,null,n)},tt.createRoot=function(e,t){if(!Ga(e))throw Error(s(299));var n=!1,i="",c=Cd;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onRecoverableError!==void 0&&(c=t.onRecoverableError)),t=qa(e,1,!1,null,null,n,!1,i,c),e[Dt]=t.current,Wn(e.nodeType===8?e.parentNode:e),new Ka(t)},tt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=tu(t),e=e===null?null:e.stateNode,e},tt.flushSync=function(e){return Tr(e)},tt.hydrate=function(e,t,n){if(!bi(t))throw Error(s(200));return Ti(null,e,t,!0,n)},tt.hydrateRoot=function(e,t,n){if(!Ga(e))throw Error(s(405));var i=n!=null&&n.hydratedSources||null,c=!1,h="",p=Cd;if(n!=null&&(n.unstable_strictMode===!0&&(c=!0),n.identifierPrefix!==void 0&&(h=n.identifierPrefix),n.onRecoverableError!==void 0&&(p=n.onRecoverableError)),t=Td(t,null,e,1,n??null,c,!1,h,p),e[Dt]=t.current,Wn(e),i)for(e=0;e<i.length;e++)n=i[e],c=n._getVersion,c=c(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,c]:t.mutableSourceEagerHydrationData.push(n,c);return new xi(t)},tt.render=function(e,t,n){if(!bi(t))throw Error(s(200));return Ti(null,e,t,!1,n)},tt.unmountComponentAtNode=function(e){if(!bi(e))throw Error(s(40));return e._reactRootContainer?(Tr(function(){Ti(null,null,e,!1,function(){e._reactRootContainer=null,e[Dt]=null})}),!0):!1},tt.unstable_batchedUpdates=Ba,tt.unstable_renderSubtreeIntoContainer=function(e,t,n,i){if(!bi(n))throw Error(s(200));if(e==null||e._reactInternals===void 0)throw Error(s(38));return Ti(e,t,n,!1,i)},tt.version="18.3.1-next-f1338f8080-20240426",tt}var Ud;function Kg(){if(Ud)return Ya.exports;Ud=1;function o(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(o)}catch(r){console.error(r)}}return o(),Ya.exports=Hg(),Ya.exports}var Dd;function Gg(){if(Dd)return Ci;Dd=1;var o=Kg();return Ci.createRoot=o.createRoot,Ci.hydrateRoot=o.hydrateRoot,Ci}var Jg=Gg(),xe=Tl();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qg=o=>o.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Yg=o=>o.replace(/^([A-Z])|[\s-_]+(\w)/g,(r,s,a)=>a?a.toUpperCase():s.toLowerCase()),Bd=o=>{const r=Yg(o);return r.charAt(0).toUpperCase()+r.slice(1)},Sh=(...o)=>o.filter((r,s,a)=>!!r&&r.trim()!==""&&a.indexOf(r)===s).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Xg={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zg=xe.forwardRef(({color:o="currentColor",size:r=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:l="",children:u,iconNode:d,...f},g)=>xe.createElement("svg",{ref:g,...Xg,width:r,height:r,stroke:o,strokeWidth:a?Number(s)*24/Number(r):s,className:Sh("lucide",l),...f},[...d.map(([m,y])=>xe.createElement(m,y)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dt=(o,r)=>{const s=xe.forwardRef(({className:a,...l},u)=>xe.createElement(Zg,{ref:u,iconNode:r,className:Sh(`lucide-${Qg(Bd(o))}`,`lucide-${o}`,a),...l}));return s.displayName=Bd(o),s};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const em=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Md=dt("arrow-left",em);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tm=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Eh=dt("clock",tm);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rm=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],zd=dt("eye-off",rm);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nm=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Fd=dt("eye",nm);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sm=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Vd=dt("lock",sm);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const im=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],om=dt("log-out",im);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const am=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],Wd=dt("mail",am);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lm=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],kh=dt("map-pin",lm);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const um=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],cm=dt("phone",um);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dm=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],hm=dt("share-2",dm);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fm=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],xh=dt("star",fm);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pm=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],gm=dt("user",pm);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mm=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],vm=dt("x",mm);var Ht={},ji={},ul=function(o,r){return ul=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,a){s.__proto__=a}||function(s,a){for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(s[l]=a[l])},ul(o,r)};function bh(o,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");ul(o,r);function s(){this.constructor=o}o.prototype=r===null?Object.create(r):(s.prototype=r.prototype,new s)}var Fi=function(){return Fi=Object.assign||function(r){for(var s,a=1,l=arguments.length;a<l;a++){s=arguments[a];for(var u in s)Object.prototype.hasOwnProperty.call(s,u)&&(r[u]=s[u])}return r},Fi.apply(this,arguments)};function Sn(o,r){var s={};for(var a in o)Object.prototype.hasOwnProperty.call(o,a)&&r.indexOf(a)<0&&(s[a]=o[a]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,a=Object.getOwnPropertySymbols(o);l<a.length;l++)r.indexOf(a[l])<0&&Object.prototype.propertyIsEnumerable.call(o,a[l])&&(s[a[l]]=o[a[l]]);return s}function Th(o,r,s,a){var l=arguments.length,u=l<3?r:a===null?a=Object.getOwnPropertyDescriptor(r,s):a,d;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")u=Reflect.decorate(o,r,s,a);else for(var f=o.length-1;f>=0;f--)(d=o[f])&&(u=(l<3?d(u):l>3?d(r,s,u):d(r,s))||u);return l>3&&u&&Object.defineProperty(r,s,u),u}function Oh(o,r){return function(s,a){r(s,a,o)}}function Ch(o,r,s,a,l,u){function d(U){if(U!==void 0&&typeof U!="function")throw new TypeError("Function expected");return U}for(var f=a.kind,g=f==="getter"?"get":f==="setter"?"set":"value",m=!r&&o?a.static?o:o.prototype:null,y=r||(m?Object.getOwnPropertyDescriptor(m,a.name):{}),w,E=!1,x=s.length-1;x>=0;x--){var C={};for(var R in a)C[R]=R==="access"?{}:a[R];for(var R in a.access)C.access[R]=a.access[R];C.addInitializer=function(U){if(E)throw new TypeError("Cannot add initializers after decoration has completed");u.push(d(U||null))};var j=(0,s[x])(f==="accessor"?{get:y.get,set:y.set}:y[g],C);if(f==="accessor"){if(j===void 0)continue;if(j===null||typeof j!="object")throw new TypeError("Object expected");(w=d(j.get))&&(y.get=w),(w=d(j.set))&&(y.set=w),(w=d(j.init))&&l.unshift(w)}else(w=d(j))&&(f==="field"?l.unshift(w):y[g]=w)}m&&Object.defineProperty(m,a.name,y),E=!0}function jh(o,r,s){for(var a=arguments.length>2,l=0;l<r.length;l++)s=a?r[l].call(o,s):r[l].call(o);return a?s:void 0}function Ph(o){return typeof o=="symbol"?o:"".concat(o)}function Rh(o,r,s){return typeof r=="symbol"&&(r=r.description?"[".concat(r.description,"]"):""),Object.defineProperty(o,"name",{configurable:!0,value:s?"".concat(s," ",r):r})}function Ah(o,r){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(o,r)}function q(o,r,s,a){function l(u){return u instanceof s?u:new s(function(d){d(u)})}return new(s||(s=Promise))(function(u,d){function f(y){try{m(a.next(y))}catch(w){d(w)}}function g(y){try{m(a.throw(y))}catch(w){d(w)}}function m(y){y.done?u(y.value):l(y.value).then(f,g)}m((a=a.apply(o,r||[])).next())})}function Nh(o,r){var s={label:0,sent:function(){if(u[0]&1)throw u[1];return u[1]},trys:[],ops:[]},a,l,u,d=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return d.next=f(0),d.throw=f(1),d.return=f(2),typeof Symbol=="function"&&(d[Symbol.iterator]=function(){return this}),d;function f(m){return function(y){return g([m,y])}}function g(m){if(a)throw new TypeError("Generator is already executing.");for(;d&&(d=0,m[0]&&(s=0)),s;)try{if(a=1,l&&(u=m[0]&2?l.return:m[0]?l.throw||((u=l.return)&&u.call(l),0):l.next)&&!(u=u.call(l,m[1])).done)return u;switch(l=0,u&&(m=[m[0]&2,u.value]),m[0]){case 0:case 1:u=m;break;case 4:return s.label++,{value:m[1],done:!1};case 5:s.label++,l=m[1],m=[0];continue;case 7:m=s.ops.pop(),s.trys.pop();continue;default:if(u=s.trys,!(u=u.length>0&&u[u.length-1])&&(m[0]===6||m[0]===2)){s=0;continue}if(m[0]===3&&(!u||m[1]>u[0]&&m[1]<u[3])){s.label=m[1];break}if(m[0]===6&&s.label<u[1]){s.label=u[1],u=m;break}if(u&&s.label<u[2]){s.label=u[2],s.ops.push(m);break}u[2]&&s.ops.pop(),s.trys.pop();continue}m=r.call(o,s)}catch(y){m=[6,y],l=0}finally{a=u=0}if(m[0]&5)throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}}var Yi=Object.create?(function(o,r,s,a){a===void 0&&(a=s);var l=Object.getOwnPropertyDescriptor(r,s);(!l||("get"in l?!r.__esModule:l.writable||l.configurable))&&(l={enumerable:!0,get:function(){return r[s]}}),Object.defineProperty(o,a,l)}):(function(o,r,s,a){a===void 0&&(a=s),o[a]=r[s]});function Ih(o,r){for(var s in o)s!=="default"&&!Object.prototype.hasOwnProperty.call(r,s)&&Yi(r,o,s)}function Vi(o){var r=typeof Symbol=="function"&&Symbol.iterator,s=r&&o[r],a=0;if(s)return s.call(o);if(o&&typeof o.length=="number")return{next:function(){return o&&a>=o.length&&(o=void 0),{value:o&&o[a++],done:!o}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")}function Ol(o,r){var s=typeof Symbol=="function"&&o[Symbol.iterator];if(!s)return o;var a=s.call(o),l,u=[],d;try{for(;(r===void 0||r-- >0)&&!(l=a.next()).done;)u.push(l.value)}catch(f){d={error:f}}finally{try{l&&!l.done&&(s=a.return)&&s.call(a)}finally{if(d)throw d.error}}return u}function $h(){for(var o=[],r=0;r<arguments.length;r++)o=o.concat(Ol(arguments[r]));return o}function Lh(){for(var o=0,r=0,s=arguments.length;r<s;r++)o+=arguments[r].length;for(var a=Array(o),l=0,r=0;r<s;r++)for(var u=arguments[r],d=0,f=u.length;d<f;d++,l++)a[l]=u[d];return a}function Uh(o,r,s){if(s||arguments.length===2)for(var a=0,l=r.length,u;a<l;a++)(u||!(a in r))&&(u||(u=Array.prototype.slice.call(r,0,a)),u[a]=r[a]);return o.concat(u||Array.prototype.slice.call(r))}function wn(o){return this instanceof wn?(this.v=o,this):new wn(o)}function Dh(o,r,s){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=s.apply(o,r||[]),l,u=[];return l=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),f("next"),f("throw"),f("return",d),l[Symbol.asyncIterator]=function(){return this},l;function d(x){return function(C){return Promise.resolve(C).then(x,w)}}function f(x,C){a[x]&&(l[x]=function(R){return new Promise(function(j,U){u.push([x,R,j,U])>1||g(x,R)})},C&&(l[x]=C(l[x])))}function g(x,C){try{m(a[x](C))}catch(R){E(u[0][3],R)}}function m(x){x.value instanceof wn?Promise.resolve(x.value.v).then(y,w):E(u[0][2],x)}function y(x){g("next",x)}function w(x){g("throw",x)}function E(x,C){x(C),u.shift(),u.length&&g(u[0][0],u[0][1])}}function Bh(o){var r,s;return r={},a("next"),a("throw",function(l){throw l}),a("return"),r[Symbol.iterator]=function(){return this},r;function a(l,u){r[l]=o[l]?function(d){return(s=!s)?{value:wn(o[l](d)),done:!1}:u?u(d):d}:u}}function Mh(o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=o[Symbol.asyncIterator],s;return r?r.call(o):(o=typeof Vi=="function"?Vi(o):o[Symbol.iterator](),s={},a("next"),a("throw"),a("return"),s[Symbol.asyncIterator]=function(){return this},s);function a(u){s[u]=o[u]&&function(d){return new Promise(function(f,g){d=o[u](d),l(f,g,d.done,d.value)})}}function l(u,d,f,g){Promise.resolve(g).then(function(m){u({value:m,done:f})},d)}}function zh(o,r){return Object.defineProperty?Object.defineProperty(o,"raw",{value:r}):o.raw=r,o}var ym=Object.create?(function(o,r){Object.defineProperty(o,"default",{enumerable:!0,value:r})}):function(o,r){o.default=r},cl=function(o){return cl=Object.getOwnPropertyNames||function(r){var s=[];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(s[s.length]=a);return s},cl(o)};function Fh(o){if(o&&o.__esModule)return o;var r={};if(o!=null)for(var s=cl(o),a=0;a<s.length;a++)s[a]!=="default"&&Yi(r,o,s[a]);return ym(r,o),r}function Vh(o){return o&&o.__esModule?o:{default:o}}function Wh(o,r,s,a){if(s==="a"&&!a)throw new TypeError("Private accessor was defined without a getter");if(typeof r=="function"?o!==r||!a:!r.has(o))throw new TypeError("Cannot read private member from an object whose class did not declare it");return s==="m"?a:s==="a"?a.call(o):a?a.value:r.get(o)}function qh(o,r,s,a,l){if(a==="m")throw new TypeError("Private method is not writable");if(a==="a"&&!l)throw new TypeError("Private accessor was defined without a setter");if(typeof r=="function"?o!==r||!l:!r.has(o))throw new TypeError("Cannot write private member to an object whose class did not declare it");return a==="a"?l.call(o,s):l?l.value=s:r.set(o,s),s}function Hh(o,r){if(r===null||typeof r!="object"&&typeof r!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof o=="function"?r===o:o.has(r)}function Kh(o,r,s){if(r!=null){if(typeof r!="object"&&typeof r!="function")throw new TypeError("Object expected.");var a,l;if(s){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");a=r[Symbol.asyncDispose]}if(a===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");a=r[Symbol.dispose],s&&(l=a)}if(typeof a!="function")throw new TypeError("Object not disposable.");l&&(a=function(){try{l.call(this)}catch(u){return Promise.reject(u)}}),o.stack.push({value:r,dispose:a,async:s})}else s&&o.stack.push({async:!0});return r}var wm=typeof SuppressedError=="function"?SuppressedError:function(o,r,s){var a=new Error(s);return a.name="SuppressedError",a.error=o,a.suppressed=r,a};function Gh(o){function r(u){o.error=o.hasError?new wm(u,o.error,"An error was suppressed during disposal."):u,o.hasError=!0}var s,a=0;function l(){for(;s=o.stack.pop();)try{if(!s.async&&a===1)return a=0,o.stack.push(s),Promise.resolve().then(l);if(s.dispose){var u=s.dispose.call(s.value);if(s.async)return a|=2,Promise.resolve(u).then(l,function(d){return r(d),l()})}else a|=1}catch(d){r(d)}if(a===1)return o.hasError?Promise.reject(o.error):Promise.resolve();if(o.hasError)throw o.error}return l()}function Jh(o,r){return typeof o=="string"&&/^\.\.?\//.test(o)?o.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(s,a,l,u,d){return a?r?".jsx":".js":l&&(!u||!d)?s:l+u+"."+d.toLowerCase()+"js"}):o}const _m={__extends:bh,__assign:Fi,__rest:Sn,__decorate:Th,__param:Oh,__esDecorate:Ch,__runInitializers:jh,__propKey:Ph,__setFunctionName:Rh,__metadata:Ah,__awaiter:q,__generator:Nh,__createBinding:Yi,__exportStar:Ih,__values:Vi,__read:Ol,__spread:$h,__spreadArrays:Lh,__spreadArray:Uh,__await:wn,__asyncGenerator:Dh,__asyncDelegator:Bh,__asyncValues:Mh,__makeTemplateObject:zh,__importStar:Fh,__importDefault:Vh,__classPrivateFieldGet:Wh,__classPrivateFieldSet:qh,__classPrivateFieldIn:Hh,__addDisposableResource:Kh,__disposeResources:Gh,__rewriteRelativeImportExtension:Jh},Sm=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:Kh,get __assign(){return Fi},__asyncDelegator:Bh,__asyncGenerator:Dh,__asyncValues:Mh,__await:wn,__awaiter:q,__classPrivateFieldGet:Wh,__classPrivateFieldIn:Hh,__classPrivateFieldSet:qh,__createBinding:Yi,__decorate:Th,__disposeResources:Gh,__esDecorate:Ch,__exportStar:Ih,__extends:bh,__generator:Nh,__importDefault:Vh,__importStar:Fh,__makeTemplateObject:zh,__metadata:Ah,__param:Oh,__propKey:Ph,__read:Ol,__rest:Sn,__rewriteRelativeImportExtension:Jh,__runInitializers:jh,__setFunctionName:Rh,__spread:$h,__spreadArray:Uh,__spreadArrays:Lh,__values:Vi,default:_m},Symbol.toStringTag,{value:"Module"})),Em=o=>o?(...r)=>o(...r):(...r)=>fetch(...r);let Xi=class extends Error{constructor(r,s="FunctionsError",a){super(r),this.name=s,this.context=a}},Qh=class extends Xi{constructor(r){super("Failed to send a request to the Edge Function","FunctionsFetchError",r)}},dl=class extends Xi{constructor(r){super("Relay Error invoking the Edge Function","FunctionsRelayError",r)}},hl=class extends Xi{constructor(r){super("Edge Function returned a non-2xx status code","FunctionsHttpError",r)}};var Wi;(function(o){o.Any="any",o.ApNortheast1="ap-northeast-1",o.ApNortheast2="ap-northeast-2",o.ApSouth1="ap-south-1",o.ApSoutheast1="ap-southeast-1",o.ApSoutheast2="ap-southeast-2",o.CaCentral1="ca-central-1",o.EuCentral1="eu-central-1",o.EuWest1="eu-west-1",o.EuWest2="eu-west-2",o.EuWest3="eu-west-3",o.SaEast1="sa-east-1",o.UsEast1="us-east-1",o.UsWest1="us-west-1",o.UsWest2="us-west-2"})(Wi||(Wi={}));class km{constructor(r,{headers:s={},customFetch:a,region:l=Wi.Any}={}){this.url=r,this.headers=s,this.region=l,this.fetch=Em(a)}setAuth(r){this.headers.Authorization=`Bearer ${r}`}invoke(r){return q(this,arguments,void 0,function*(s,a={}){var l;let u,d;try{const{headers:f,method:g,body:m,signal:y,timeout:w}=a;let E={},{region:x}=a;x||(x=this.region);const C=new URL(`${this.url}/${s}`);x&&x!=="any"&&(E["x-region"]=x,C.searchParams.set("forceFunctionRegion",x));let R;m&&(f&&!Object.prototype.hasOwnProperty.call(f,"Content-Type")||!f)?typeof Blob<"u"&&m instanceof Blob||m instanceof ArrayBuffer?(E["Content-Type"]="application/octet-stream",R=m):typeof m=="string"?(E["Content-Type"]="text/plain",R=m):typeof FormData<"u"&&m instanceof FormData?R=m:(E["Content-Type"]="application/json",R=JSON.stringify(m)):R=m;let j=y;w&&(d=new AbortController,u=setTimeout(()=>d.abort(),w),y?(j=d.signal,y.addEventListener("abort",()=>d.abort())):j=d.signal);const U=yield this.fetch(C.toString(),{method:g||"POST",headers:Object.assign(Object.assign(Object.assign({},E),this.headers),f),body:R,signal:j}).catch(ne=>{throw new Qh(ne)}),B=U.headers.get("x-relay-error");if(B&&B==="true")throw new dl(U);if(!U.ok)throw new hl(U);let $=((l=U.headers.get("Content-Type"))!==null&&l!==void 0?l:"text/plain").split(";")[0].trim(),F;return $==="application/json"?F=yield U.json():$==="application/octet-stream"||$==="application/pdf"?F=yield U.blob():$==="text/event-stream"?F=U:$==="multipart/form-data"?F=yield U.formData():F=yield U.text(),{data:F,error:null,response:U}}catch(f){return{data:null,error:f,response:f instanceof hl||f instanceof dl?f.context:void 0}}finally{u&&clearTimeout(u)}})}}const xm=Object.freeze(Object.defineProperty({__proto__:null,get FunctionRegion(){return Wi},FunctionsClient:km,FunctionsError:Xi,FunctionsFetchError:Qh,FunctionsHttpError:hl,FunctionsRelayError:dl},Symbol.toStringTag,{value:"Module"})),Yh=gs(xm);var He={};const En=gs(Sm);var Pi={},Ri={},Ai={},Ni={},Ii={},$i={},qd;function Xh(){if(qd)return $i;qd=1,Object.defineProperty($i,"__esModule",{value:!0});class o extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}}return $i.default=o,$i}var Hd;function Zh(){if(Hd)return Ii;Hd=1,Object.defineProperty(Ii,"__esModule",{value:!0});const r=En.__importDefault(Xh());let s=class{constructor(l){var u,d;this.shouldThrowOnError=!1,this.method=l.method,this.url=l.url,this.headers=new Headers(l.headers),this.schema=l.schema,this.body=l.body,this.shouldThrowOnError=(u=l.shouldThrowOnError)!==null&&u!==void 0?u:!1,this.signal=l.signal,this.isMaybeSingle=(d=l.isMaybeSingle)!==null&&d!==void 0?d:!1,l.fetch?this.fetch=l.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(l,u){return this.headers=new Headers(this.headers),this.headers.set(l,u),this}then(l,u){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const d=this.fetch;let f=d(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async g=>{var m,y,w,E;let x=null,C=null,R=null,j=g.status,U=g.statusText;if(g.ok){if(this.method!=="HEAD"){const ne=await g.text();ne===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((m=this.headers.get("Accept"))===null||m===void 0)&&m.includes("application/vnd.pgrst.plan+text"))?C=ne:C=JSON.parse(ne))}const $=(y=this.headers.get("Prefer"))===null||y===void 0?void 0:y.match(/count=(exact|planned|estimated)/),F=(w=g.headers.get("content-range"))===null||w===void 0?void 0:w.split("/");$&&F&&F.length>1&&(R=parseInt(F[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(C)&&(C.length>1?(x={code:"PGRST116",details:`Results contain ${C.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},C=null,R=null,j=406,U="Not Acceptable"):C.length===1?C=C[0]:C=null)}else{const $=await g.text();try{x=JSON.parse($),Array.isArray(x)&&g.status===404&&(C=[],x=null,j=200,U="OK")}catch{g.status===404&&$===""?(j=204,U="No Content"):x={message:$}}if(x&&this.isMaybeSingle&&(!((E=x?.details)===null||E===void 0)&&E.includes("0 rows"))&&(x=null,j=200,U="OK"),x&&this.shouldThrowOnError)throw new r.default(x)}return{error:x,data:C,count:R,status:j,statusText:U}});return this.shouldThrowOnError||(f=f.catch(g=>{var m,y,w,E,x,C;let R="";const j=g?.cause;if(j){const U=(m=j?.message)!==null&&m!==void 0?m:"",B=(y=j?.code)!==null&&y!==void 0?y:"";R=`${(w=g?.name)!==null&&w!==void 0?w:"FetchError"}: ${g?.message}`,R+=`

Caused by: ${(E=j?.name)!==null&&E!==void 0?E:"Error"}: ${U}`,B&&(R+=` (${B})`),j?.stack&&(R+=`
${j.stack}`)}else R=(x=g?.stack)!==null&&x!==void 0?x:"";return{error:{message:`${(C=g?.name)!==null&&C!==void 0?C:"FetchError"}: ${g?.message}`,details:R,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),f.then(l,u)}returns(){return this}overrideTypes(){return this}};return Ii.default=s,Ii}var Kd;function ef(){if(Kd)return Ni;Kd=1,Object.defineProperty(Ni,"__esModule",{value:!0});const r=En.__importDefault(Zh());let s=class extends r.default{select(l){let u=!1;const d=(l??"*").split("").map(f=>/\s/.test(f)&&!u?"":(f==='"'&&(u=!u),f)).join("");return this.url.searchParams.set("select",d),this.headers.append("Prefer","return=representation"),this}order(l,{ascending:u=!0,nullsFirst:d,foreignTable:f,referencedTable:g=f}={}){const m=g?`${g}.order`:"order",y=this.url.searchParams.get(m);return this.url.searchParams.set(m,`${y?`${y},`:""}${l}.${u?"asc":"desc"}${d===void 0?"":d?".nullsfirst":".nullslast"}`),this}limit(l,{foreignTable:u,referencedTable:d=u}={}){const f=typeof d>"u"?"limit":`${d}.limit`;return this.url.searchParams.set(f,`${l}`),this}range(l,u,{foreignTable:d,referencedTable:f=d}={}){const g=typeof f>"u"?"offset":`${f}.offset`,m=typeof f>"u"?"limit":`${f}.limit`;return this.url.searchParams.set(g,`${l}`),this.url.searchParams.set(m,`${u-l+1}`),this}abortSignal(l){return this.signal=l,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:l=!1,verbose:u=!1,settings:d=!1,buffers:f=!1,wal:g=!1,format:m="text"}={}){var y;const w=[l?"analyze":null,u?"verbose":null,d?"settings":null,f?"buffers":null,g?"wal":null].filter(Boolean).join("|"),E=(y=this.headers.get("Accept"))!==null&&y!==void 0?y:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${m}; for="${E}"; options=${w};`),m==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(l){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${l}`),this}};return Ni.default=s,Ni}var Gd;function Cl(){if(Gd)return Ai;Gd=1,Object.defineProperty(Ai,"__esModule",{value:!0});const r=En.__importDefault(ef()),s=new RegExp("[,()]");let a=class extends r.default{eq(u,d){return this.url.searchParams.append(u,`eq.${d}`),this}neq(u,d){return this.url.searchParams.append(u,`neq.${d}`),this}gt(u,d){return this.url.searchParams.append(u,`gt.${d}`),this}gte(u,d){return this.url.searchParams.append(u,`gte.${d}`),this}lt(u,d){return this.url.searchParams.append(u,`lt.${d}`),this}lte(u,d){return this.url.searchParams.append(u,`lte.${d}`),this}like(u,d){return this.url.searchParams.append(u,`like.${d}`),this}likeAllOf(u,d){return this.url.searchParams.append(u,`like(all).{${d.join(",")}}`),this}likeAnyOf(u,d){return this.url.searchParams.append(u,`like(any).{${d.join(",")}}`),this}ilike(u,d){return this.url.searchParams.append(u,`ilike.${d}`),this}ilikeAllOf(u,d){return this.url.searchParams.append(u,`ilike(all).{${d.join(",")}}`),this}ilikeAnyOf(u,d){return this.url.searchParams.append(u,`ilike(any).{${d.join(",")}}`),this}regexMatch(u,d){return this.url.searchParams.append(u,`match.${d}`),this}regexIMatch(u,d){return this.url.searchParams.append(u,`imatch.${d}`),this}is(u,d){return this.url.searchParams.append(u,`is.${d}`),this}isDistinct(u,d){return this.url.searchParams.append(u,`isdistinct.${d}`),this}in(u,d){const f=Array.from(new Set(d)).map(g=>typeof g=="string"&&s.test(g)?`"${g}"`:`${g}`).join(",");return this.url.searchParams.append(u,`in.(${f})`),this}contains(u,d){return typeof d=="string"?this.url.searchParams.append(u,`cs.${d}`):Array.isArray(d)?this.url.searchParams.append(u,`cs.{${d.join(",")}}`):this.url.searchParams.append(u,`cs.${JSON.stringify(d)}`),this}containedBy(u,d){return typeof d=="string"?this.url.searchParams.append(u,`cd.${d}`):Array.isArray(d)?this.url.searchParams.append(u,`cd.{${d.join(",")}}`):this.url.searchParams.append(u,`cd.${JSON.stringify(d)}`),this}rangeGt(u,d){return this.url.searchParams.append(u,`sr.${d}`),this}rangeGte(u,d){return this.url.searchParams.append(u,`nxl.${d}`),this}rangeLt(u,d){return this.url.searchParams.append(u,`sl.${d}`),this}rangeLte(u,d){return this.url.searchParams.append(u,`nxr.${d}`),this}rangeAdjacent(u,d){return this.url.searchParams.append(u,`adj.${d}`),this}overlaps(u,d){return typeof d=="string"?this.url.searchParams.append(u,`ov.${d}`):this.url.searchParams.append(u,`ov.{${d.join(",")}}`),this}textSearch(u,d,{config:f,type:g}={}){let m="";g==="plain"?m="pl":g==="phrase"?m="ph":g==="websearch"&&(m="w");const y=f===void 0?"":`(${f})`;return this.url.searchParams.append(u,`${m}fts${y}.${d}`),this}match(u){return Object.entries(u).forEach(([d,f])=>{this.url.searchParams.append(d,`eq.${f}`)}),this}not(u,d,f){return this.url.searchParams.append(u,`not.${d}.${f}`),this}or(u,{foreignTable:d,referencedTable:f=d}={}){const g=f?`${f}.or`:"or";return this.url.searchParams.append(g,`(${u})`),this}filter(u,d,f){return this.url.searchParams.append(u,`${d}.${f}`),this}};return Ai.default=a,Ai}var Jd;function tf(){if(Jd)return Ri;Jd=1,Object.defineProperty(Ri,"__esModule",{value:!0});const r=En.__importDefault(Cl());let s=class{constructor(l,{headers:u={},schema:d,fetch:f}){this.url=l,this.headers=new Headers(u),this.schema=d,this.fetch=f}select(l,u){const{head:d=!1,count:f}=u??{},g=d?"HEAD":"GET";let m=!1;const y=(l??"*").split("").map(w=>/\s/.test(w)&&!m?"":(w==='"'&&(m=!m),w)).join("");return this.url.searchParams.set("select",y),f&&this.headers.append("Prefer",`count=${f}`),new r.default({method:g,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(l,{count:u,defaultToNull:d=!0}={}){var f;const g="POST";if(u&&this.headers.append("Prefer",`count=${u}`),d||this.headers.append("Prefer","missing=default"),Array.isArray(l)){const m=l.reduce((y,w)=>y.concat(Object.keys(w)),[]);if(m.length>0){const y=[...new Set(m)].map(w=>`"${w}"`);this.url.searchParams.set("columns",y.join(","))}}return new r.default({method:g,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}upsert(l,{onConflict:u,ignoreDuplicates:d=!1,count:f,defaultToNull:g=!0}={}){var m;const y="POST";if(this.headers.append("Prefer",`resolution=${d?"ignore":"merge"}-duplicates`),u!==void 0&&this.url.searchParams.set("on_conflict",u),f&&this.headers.append("Prefer",`count=${f}`),g||this.headers.append("Prefer","missing=default"),Array.isArray(l)){const w=l.reduce((E,x)=>E.concat(Object.keys(x)),[]);if(w.length>0){const E=[...new Set(w)].map(x=>`"${x}"`);this.url.searchParams.set("columns",E.join(","))}}return new r.default({method:y,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:(m=this.fetch)!==null&&m!==void 0?m:fetch})}update(l,{count:u}={}){var d;const f="PATCH";return u&&this.headers.append("Prefer",`count=${u}`),new r.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:l,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}delete({count:l}={}){var u;const d="DELETE";return l&&this.headers.append("Prefer",`count=${l}`),new r.default({method:d,url:this.url,headers:this.headers,schema:this.schema,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}};return Ri.default=s,Ri}var Qd;function bm(){if(Qd)return Pi;Qd=1,Object.defineProperty(Pi,"__esModule",{value:!0});const o=En,r=o.__importDefault(tf()),s=o.__importDefault(Cl());let a=class rf{constructor(u,{headers:d={},schema:f,fetch:g}={}){this.url=u,this.headers=new Headers(d),this.schemaName=f,this.fetch=g}from(u){if(!u||typeof u!="string"||u.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const d=new URL(`${this.url}/${u}`);return new r.default(d,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(u){return new rf(this.url,{headers:this.headers,schema:u,fetch:this.fetch})}rpc(u,d={},{head:f=!1,get:g=!1,count:m}={}){var y;let w;const E=new URL(`${this.url}/rpc/${u}`);let x;f||g?(w=f?"HEAD":"GET",Object.entries(d).filter(([R,j])=>j!==void 0).map(([R,j])=>[R,Array.isArray(j)?`{${j.join(",")}}`:`${j}`]).forEach(([R,j])=>{E.searchParams.append(R,j)})):(w="POST",x=d);const C=new Headers(this.headers);return m&&C.set("Prefer",`count=${m}`),new s.default({method:w,url:E,headers:C,schema:this.schemaName,body:x,fetch:(y=this.fetch)!==null&&y!==void 0?y:fetch})}};return Pi.default=a,Pi}var Yd;function nf(){if(Yd)return He;Yd=1,Object.defineProperty(He,"__esModule",{value:!0}),He.PostgrestError=He.PostgrestBuilder=He.PostgrestTransformBuilder=He.PostgrestFilterBuilder=He.PostgrestQueryBuilder=He.PostgrestClient=void 0;const o=En,r=o.__importDefault(bm());He.PostgrestClient=r.default;const s=o.__importDefault(tf());He.PostgrestQueryBuilder=s.default;const a=o.__importDefault(Cl());He.PostgrestFilterBuilder=a.default;const l=o.__importDefault(ef());He.PostgrestTransformBuilder=l.default;const u=o.__importDefault(Zh());He.PostgrestBuilder=u.default;const d=o.__importDefault(Xh());return He.PostgrestError=d.default,He.default={PostgrestClient:r.default,PostgrestQueryBuilder:s.default,PostgrestFilterBuilder:a.default,PostgrestTransformBuilder:l.default,PostgrestBuilder:u.default,PostgrestError:d.default},He}class sf{constructor(){}static detectEnvironment(){var r;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((r=navigator.userAgent)===null||r===void 0)&&r.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const s=process.versions;if(s&&s.node){const a=s.node,l=parseInt(a.replace(/^v/,"").split(".")[0]);return l>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${l} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${l} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const r=this.detectEnvironment();if(r.constructor)return r.constructor;let s=r.error||"WebSocket not supported in this environment.";throw r.workaround&&(s+=`

Suggested solution: ${r.workaround}`),new Error(s)}static createWebSocket(r,s){const a=this.getWebSocketConstructor();return new a(r,s)}static isWebSocketSupported(){try{const r=this.detectEnvironment();return r.type==="native"||r.type==="ws"}catch{return!1}}}const Tm="2.86.2",Om=`realtime-js/${Tm}`,of="1.0.0",Cm="2.0.0",Xd=of,fl=1e4,jm=1e3,Pm=100;var $r;(function(o){o[o.connecting=0]="connecting",o[o.open=1]="open",o[o.closing=2]="closing",o[o.closed=3]="closed"})($r||($r={}));var Re;(function(o){o.closed="closed",o.errored="errored",o.joined="joined",o.joining="joining",o.leaving="leaving"})(Re||(Re={}));var Ct;(function(o){o.close="phx_close",o.error="phx_error",o.join="phx_join",o.reply="phx_reply",o.leave="phx_leave",o.access_token="access_token"})(Ct||(Ct={}));var pl;(function(o){o.websocket="websocket"})(pl||(pl={}));var Lr;(function(o){o.Connecting="connecting",o.Open="open",o.Closing="closing",o.Closed="closed"})(Lr||(Lr={}));class Rm{constructor(r){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=r??[]}encode(r,s){if(r.event===this.BROADCAST_EVENT&&!(r.payload instanceof ArrayBuffer)&&typeof r.payload.event=="string")return s(this._binaryEncodeUserBroadcastPush(r));let a=[r.join_ref,r.ref,r.topic,r.event,r.payload];return s(JSON.stringify(a))}_binaryEncodeUserBroadcastPush(r){var s;return this._isArrayBuffer((s=r.payload)===null||s===void 0?void 0:s.payload)?this._encodeBinaryUserBroadcastPush(r):this._encodeJsonUserBroadcastPush(r)}_encodeBinaryUserBroadcastPush(r){var s,a;const l=(a=(s=r.payload)===null||s===void 0?void 0:s.payload)!==null&&a!==void 0?a:new ArrayBuffer(0);return this._encodeUserBroadcastPush(r,this.BINARY_ENCODING,l)}_encodeJsonUserBroadcastPush(r){var s,a;const l=(a=(s=r.payload)===null||s===void 0?void 0:s.payload)!==null&&a!==void 0?a:{},d=new TextEncoder().encode(JSON.stringify(l)).buffer;return this._encodeUserBroadcastPush(r,this.JSON_ENCODING,d)}_encodeUserBroadcastPush(r,s,a){var l,u;const d=r.topic,f=(l=r.ref)!==null&&l!==void 0?l:"",g=(u=r.join_ref)!==null&&u!==void 0?u:"",m=r.payload.event,y=this.allowedMetadataKeys?this._pick(r.payload,this.allowedMetadataKeys):{},w=Object.keys(y).length===0?"":JSON.stringify(y);if(g.length>255)throw new Error(`joinRef length ${g.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`ref length ${f.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`topic length ${d.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`userEvent length ${m.length} exceeds maximum of 255`);if(w.length>255)throw new Error(`metadata length ${w.length} exceeds maximum of 255`);const E=this.USER_BROADCAST_PUSH_META_LENGTH+g.length+f.length+d.length+m.length+w.length,x=new ArrayBuffer(this.HEADER_LENGTH+E);let C=new DataView(x),R=0;C.setUint8(R++,this.KINDS.userBroadcastPush),C.setUint8(R++,g.length),C.setUint8(R++,f.length),C.setUint8(R++,d.length),C.setUint8(R++,m.length),C.setUint8(R++,w.length),C.setUint8(R++,s),Array.from(g,U=>C.setUint8(R++,U.charCodeAt(0))),Array.from(f,U=>C.setUint8(R++,U.charCodeAt(0))),Array.from(d,U=>C.setUint8(R++,U.charCodeAt(0))),Array.from(m,U=>C.setUint8(R++,U.charCodeAt(0))),Array.from(w,U=>C.setUint8(R++,U.charCodeAt(0)));var j=new Uint8Array(x.byteLength+a.byteLength);return j.set(new Uint8Array(x),0),j.set(new Uint8Array(a),x.byteLength),j.buffer}decode(r,s){if(this._isArrayBuffer(r)){let a=this._binaryDecode(r);return s(a)}if(typeof r=="string"){const a=JSON.parse(r),[l,u,d,f,g]=a;return s({join_ref:l,ref:u,topic:d,event:f,payload:g})}return s({})}_binaryDecode(r){const s=new DataView(r),a=s.getUint8(0),l=new TextDecoder;switch(a){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(r,s,l)}}_decodeUserBroadcast(r,s,a){const l=s.getUint8(1),u=s.getUint8(2),d=s.getUint8(3),f=s.getUint8(4);let g=this.HEADER_LENGTH+4;const m=a.decode(r.slice(g,g+l));g=g+l;const y=a.decode(r.slice(g,g+u));g=g+u;const w=a.decode(r.slice(g,g+d));g=g+d;const E=r.slice(g,r.byteLength),x=f===this.JSON_ENCODING?JSON.parse(a.decode(E)):E,C={type:this.BROADCAST_EVENT,event:y,payload:x};return d>0&&(C.meta=JSON.parse(w)),{join_ref:null,ref:null,topic:m,event:this.BROADCAST_EVENT,payload:C}}_isArrayBuffer(r){var s;return r instanceof ArrayBuffer||((s=r?.constructor)===null||s===void 0?void 0:s.name)==="ArrayBuffer"}_pick(r,s){return!r||typeof r!="object"?{}:Object.fromEntries(Object.entries(r).filter(([a])=>s.includes(a)))}}class af{constructor(r,s){this.callback=r,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=r,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var me;(function(o){o.abstime="abstime",o.bool="bool",o.date="date",o.daterange="daterange",o.float4="float4",o.float8="float8",o.int2="int2",o.int4="int4",o.int4range="int4range",o.int8="int8",o.int8range="int8range",o.json="json",o.jsonb="jsonb",o.money="money",o.numeric="numeric",o.oid="oid",o.reltime="reltime",o.text="text",o.time="time",o.timestamp="timestamp",o.timestamptz="timestamptz",o.timetz="timetz",o.tsrange="tsrange",o.tstzrange="tstzrange"})(me||(me={}));const Zd=(o,r,s={})=>{var a;const l=(a=s.skipTypes)!==null&&a!==void 0?a:[];return r?Object.keys(r).reduce((u,d)=>(u[d]=Am(d,o,r,l),u),{}):{}},Am=(o,r,s,a)=>{const l=r.find(f=>f.name===o),u=l?.type,d=s[o];return u&&!a.includes(u)?lf(u,d):gl(d)},lf=(o,r)=>{if(o.charAt(0)==="_"){const s=o.slice(1,o.length);return Lm(r,s)}switch(o){case me.bool:return Nm(r);case me.float4:case me.float8:case me.int2:case me.int4:case me.int8:case me.numeric:case me.oid:return Im(r);case me.json:case me.jsonb:return $m(r);case me.timestamp:return Um(r);case me.abstime:case me.date:case me.daterange:case me.int4range:case me.int8range:case me.money:case me.reltime:case me.text:case me.time:case me.timestamptz:case me.timetz:case me.tsrange:case me.tstzrange:return gl(r);default:return gl(r)}},gl=o=>o,Nm=o=>{switch(o){case"t":return!0;case"f":return!1;default:return o}},Im=o=>{if(typeof o=="string"){const r=parseFloat(o);if(!Number.isNaN(r))return r}return o},$m=o=>{if(typeof o=="string")try{return JSON.parse(o)}catch(r){return console.log(`JSON parse error: ${r}`),o}return o},Lm=(o,r)=>{if(typeof o!="string")return o;const s=o.length-1,a=o[s];if(o[0]==="{"&&a==="}"){let u;const d=o.slice(1,s);try{u=JSON.parse("["+d+"]")}catch{u=d?d.split(","):[]}return u.map(f=>lf(r,f))}return o},Um=o=>typeof o=="string"?o.replace(" ","T"):o,uf=o=>{const r=new URL(o);return r.protocol=r.protocol.replace(/^ws/i,"http"),r.pathname=r.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),r.pathname===""||r.pathname==="/"?r.pathname="/api/broadcast":r.pathname=r.pathname+"/api/broadcast",r.href};class el{constructor(r,s,a={},l=fl){this.channel=r,this.event=s,this.payload=a,this.timeout=l,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(r){this.timeout=r,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(r){this.payload=Object.assign(Object.assign({},this.payload),r)}receive(r,s){var a;return this._hasReceived(r)&&s((a=this.receivedResp)===null||a===void 0?void 0:a.response),this.recHooks.push({status:r,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const r=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},r),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(r,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:r,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:r,response:s}){this.recHooks.filter(a=>a.status===r).forEach(a=>a.callback(s))}_hasReceived(r){return this.receivedResp&&this.receivedResp.status===r}}var ml;(function(o){o.SYNC="sync",o.JOIN="join",o.LEAVE="leave"})(ml||(ml={}));let cf=class Di{constructor(r,s){this.channel=r,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const a=s?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(a.state,{},l=>{const{onJoin:u,onLeave:d,onSync:f}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Di.syncState(this.state,l,u,d),this.pendingDiffs.forEach(g=>{this.state=Di.syncDiff(this.state,g,u,d)}),this.pendingDiffs=[],f()}),this.channel._on(a.diff,{},l=>{const{onJoin:u,onLeave:d,onSync:f}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(l):(this.state=Di.syncDiff(this.state,l,u,d),f())}),this.onJoin((l,u,d)=>{this.channel._trigger("presence",{event:"join",key:l,currentPresences:u,newPresences:d})}),this.onLeave((l,u,d)=>{this.channel._trigger("presence",{event:"leave",key:l,currentPresences:u,leftPresences:d})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(r,s,a,l){const u=this.cloneDeep(r),d=this.transformState(s),f={},g={};return this.map(u,(m,y)=>{d[m]||(g[m]=y)}),this.map(d,(m,y)=>{const w=u[m];if(w){const E=y.map(j=>j.presence_ref),x=w.map(j=>j.presence_ref),C=y.filter(j=>x.indexOf(j.presence_ref)<0),R=w.filter(j=>E.indexOf(j.presence_ref)<0);C.length>0&&(f[m]=C),R.length>0&&(g[m]=R)}else f[m]=y}),this.syncDiff(u,{joins:f,leaves:g},a,l)}static syncDiff(r,s,a,l){const{joins:u,leaves:d}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return a||(a=()=>{}),l||(l=()=>{}),this.map(u,(f,g)=>{var m;const y=(m=r[f])!==null&&m!==void 0?m:[];if(r[f]=this.cloneDeep(g),y.length>0){const w=r[f].map(x=>x.presence_ref),E=y.filter(x=>w.indexOf(x.presence_ref)<0);r[f].unshift(...E)}a(f,y,g)}),this.map(d,(f,g)=>{let m=r[f];if(!m)return;const y=g.map(w=>w.presence_ref);m=m.filter(w=>y.indexOf(w.presence_ref)<0),r[f]=m,l(f,m,g),m.length===0&&delete r[f]}),r}static map(r,s){return Object.getOwnPropertyNames(r).map(a=>s(a,r[a]))}static transformState(r){return r=this.cloneDeep(r),Object.getOwnPropertyNames(r).reduce((s,a)=>{const l=r[a];return"metas"in l?s[a]=l.metas.map(u=>(u.presence_ref=u.phx_ref,delete u.phx_ref,delete u.phx_ref_prev,u)):s[a]=l,s},{})}static cloneDeep(r){return JSON.parse(JSON.stringify(r))}onJoin(r){this.caller.onJoin=r}onLeave(r){this.caller.onLeave=r}onSync(r){this.caller.onSync=r}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var vl;(function(o){o.ALL="*",o.INSERT="INSERT",o.UPDATE="UPDATE",o.DELETE="DELETE"})(vl||(vl={}));var mn;(function(o){o.BROADCAST="broadcast",o.PRESENCE="presence",o.POSTGRES_CHANGES="postgres_changes",o.SYSTEM="system"})(mn||(mn={}));var Lt;(function(o){o.SUBSCRIBED="SUBSCRIBED",o.TIMED_OUT="TIMED_OUT",o.CLOSED="CLOSED",o.CHANNEL_ERROR="CHANNEL_ERROR"})(Lt||(Lt={}));const Dm=Re;let df=class hf{constructor(r,s={config:{}},a){var l,u;if(this.topic=r,this.params=s,this.socket=a,this.bindings={},this.state=Re.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=r.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new el(this,Ct.join,this.params,this.timeout),this.rejoinTimer=new af(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Re.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(d=>d.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Re.closed,this.socket._remove(this)}),this._onError(d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=Re.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Re.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=Re.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ct.reply,{},(d,f)=>{this._trigger(this._replyEventName(f),d)}),this.presence=new cf(this),this.broadcastEndpointURL=uf(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((u=(l=this.params.config)===null||l===void 0?void 0:l.broadcast)===null||u===void 0)&&u.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(r,s=this.timeout){var a,l,u;if(this.socket.isConnected()||this.socket.connect(),this.state==Re.closed){const{config:{broadcast:d,presence:f,private:g}}=this.params,m=(l=(a=this.bindings.postgres_changes)===null||a===void 0?void 0:a.map(x=>x.filter))!==null&&l!==void 0?l:[],y=!!this.bindings[mn.PRESENCE]&&this.bindings[mn.PRESENCE].length>0||((u=this.params.config.presence)===null||u===void 0?void 0:u.enabled)===!0,w={},E={broadcast:d,presence:Object.assign(Object.assign({},f),{enabled:y}),postgres_changes:m,private:g};this.socket.accessTokenValue&&(w.access_token=this.socket.accessTokenValue),this._onError(x=>r?.(Lt.CHANNEL_ERROR,x)),this._onClose(()=>r?.(Lt.CLOSED)),this.updateJoinPayload(Object.assign({config:E},w)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:x})=>{var C;if(this.socket.setAuth(),x===void 0){r?.(Lt.SUBSCRIBED);return}else{const R=this.bindings.postgres_changes,j=(C=R?.length)!==null&&C!==void 0?C:0,U=[];for(let B=0;B<j;B++){const $=R[B],{filter:{event:F,schema:ne,table:re,filter:Q}}=$,ae=x&&x[B];if(ae&&ae.event===F&&ae.schema===ne&&ae.table===re&&ae.filter===Q)U.push(Object.assign(Object.assign({},$),{id:ae.id}));else{this.unsubscribe(),this.state=Re.errored,r?.(Lt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=U,r&&r(Lt.SUBSCRIBED);return}}).receive("error",x=>{this.state=Re.errored,r?.(Lt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(x).join(", ")||"error")))}).receive("timeout",()=>{r?.(Lt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(r,s={}){return await this.send({type:"presence",event:"track",payload:r},s.timeout||this.timeout)}async untrack(r={}){return await this.send({type:"presence",event:"untrack"},r)}on(r,s,a){return this.state===Re.joined&&r===mn.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(r,s,a)}async httpSend(r,s,a={}){var l;const u=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(s==null)return Promise.reject("Payload is required for httpSend()");const d={method:"POST",headers:{Authorization:u,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:r,payload:s,private:this.private}]})},f=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(l=a.timeout)!==null&&l!==void 0?l:this.timeout);if(f.status===202)return{success:!0};let g=f.statusText;try{const m=await f.json();g=m.error||m.message||g}catch{}return Promise.reject(new Error(g))}async send(r,s={}){var a,l;if(!this._canPush()&&r.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:u,payload:d}=r,g={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:u,payload:d,private:this.private}]})};try{const m=await this._fetchWithTimeout(this.broadcastEndpointURL,g,(a=s.timeout)!==null&&a!==void 0?a:this.timeout);return await((l=m.body)===null||l===void 0?void 0:l.cancel()),m.ok?"ok":"error"}catch(m){return m.name==="AbortError"?"timed out":"error"}}else return new Promise(u=>{var d,f,g;const m=this._push(r.type,r,s.timeout||this.timeout);r.type==="broadcast"&&!(!((g=(f=(d=this.params)===null||d===void 0?void 0:d.config)===null||f===void 0?void 0:f.broadcast)===null||g===void 0)&&g.ack)&&u("ok"),m.receive("ok",()=>u("ok")),m.receive("error",()=>u("error")),m.receive("timeout",()=>u("timed out"))})}updateJoinPayload(r){this.joinPush.updatePayload(r)}unsubscribe(r=this.timeout){this.state=Re.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ct.close,"leave",this._joinRef())};this.joinPush.destroy();let a=null;return new Promise(l=>{a=new el(this,Ct.leave,{},r),a.receive("ok",()=>{s(),l("ok")}).receive("timeout",()=>{s(),l("timed out")}).receive("error",()=>{l("error")}),a.send(),this._canPush()||a.trigger("ok",{})}).finally(()=>{a?.destroy()})}teardown(){this.pushBuffer.forEach(r=>r.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Re.closed,this.bindings={}}async _fetchWithTimeout(r,s,a){const l=new AbortController,u=setTimeout(()=>l.abort(),a),d=await this.socket.fetch(r,Object.assign(Object.assign({},s),{signal:l.signal}));return clearTimeout(u),d}_push(r,s,a=this.timeout){if(!this.joinedOnce)throw`tried to push '${r}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let l=new el(this,r,s,a);return this._canPush()?l.send():this._addToPushBuffer(l),l}_addToPushBuffer(r){if(r.startTimeout(),this.pushBuffer.push(r),this.pushBuffer.length>Pm){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(r,s,a){return s}_isMember(r){return this.topic===r}_joinRef(){return this.joinPush.ref}_trigger(r,s,a){var l,u;const d=r.toLocaleLowerCase(),{close:f,error:g,leave:m,join:y}=Ct;if(a&&[f,g,m,y].indexOf(d)>=0&&a!==this._joinRef())return;let E=this._onMessage(d,s,a);if(s&&!E)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(d)?(l=this.bindings.postgres_changes)===null||l===void 0||l.filter(x=>{var C,R,j;return((C=x.filter)===null||C===void 0?void 0:C.event)==="*"||((j=(R=x.filter)===null||R===void 0?void 0:R.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===d}).map(x=>x.callback(E,a)):(u=this.bindings[d])===null||u===void 0||u.filter(x=>{var C,R,j,U,B,$;if(["broadcast","presence","postgres_changes"].includes(d))if("id"in x){const F=x.id,ne=(C=x.filter)===null||C===void 0?void 0:C.event;return F&&((R=s.ids)===null||R===void 0?void 0:R.includes(F))&&(ne==="*"||ne?.toLocaleLowerCase()===((j=s.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))}else{const F=(B=(U=x?.filter)===null||U===void 0?void 0:U.event)===null||B===void 0?void 0:B.toLocaleLowerCase();return F==="*"||F===(($=s?.event)===null||$===void 0?void 0:$.toLocaleLowerCase())}else return x.type.toLocaleLowerCase()===d}).map(x=>{if(typeof E=="object"&&"ids"in E){const C=E.data,{schema:R,table:j,commit_timestamp:U,type:B,errors:$}=C;E=Object.assign(Object.assign({},{schema:R,table:j,commit_timestamp:U,eventType:B,new:{},old:{},errors:$}),this._getPayloadRecords(C))}x.callback(E,a)})}_isClosed(){return this.state===Re.closed}_isJoined(){return this.state===Re.joined}_isJoining(){return this.state===Re.joining}_isLeaving(){return this.state===Re.leaving}_replyEventName(r){return`chan_reply_${r}`}_on(r,s,a){const l=r.toLocaleLowerCase(),u={type:l,filter:s,callback:a};return this.bindings[l]?this.bindings[l].push(u):this.bindings[l]=[u],this}_off(r,s){const a=r.toLocaleLowerCase();return this.bindings[a]&&(this.bindings[a]=this.bindings[a].filter(l=>{var u;return!(((u=l.type)===null||u===void 0?void 0:u.toLocaleLowerCase())===a&&hf.isEqual(l.filter,s))})),this}static isEqual(r,s){if(Object.keys(r).length!==Object.keys(s).length)return!1;for(const a in r)if(r[a]!==s[a])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(r){this._on(Ct.close,{},r)}_onError(r){this._on(Ct.error,{},s=>r(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(r=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Re.joining,this.joinPush.resend(r))}_getPayloadRecords(r){const s={new:{},old:{}};return(r.type==="INSERT"||r.type==="UPDATE")&&(s.new=Zd(r.columns,r.record)),(r.type==="UPDATE"||r.type==="DELETE")&&(s.old=Zd(r.columns,r.old_record)),s}};const tl=()=>{},Li={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},Bm=[1e3,2e3,5e3,1e4],Mm=1e4,zm=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;let Fm=class{constructor(r,s){var a;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=fl,this.transport=null,this.heartbeatIntervalMs=Li.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=tl,this.ref=0,this.reconnectTimer=null,this.vsn=Xd,this.logger=tl,this.conn=null,this.sendBuffer=[],this.serializer=new Rm,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=l=>l?(...u)=>l(...u):(...u)=>fetch(...u),!(!((a=s?.params)===null||a===void 0)&&a.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${r}/${pl.websocket}`,this.httpEndpoint=uf(r),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=sf.createWebSocket(this.endpointURL())}catch(r){this._setConnectionState("disconnected");const s=r.message;throw s.includes("Node.js")?new Error(`${s}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${s}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(r,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const a=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(a),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(r?this.conn.close(r,s??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(r){const s=await r.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const r=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),r}log(r,s,a){this.logger(r,s,a)}connectionState(){switch(this.conn&&this.conn.readyState){case $r.connecting:return Lr.Connecting;case $r.open:return Lr.Open;case $r.closing:return Lr.Closing;default:return Lr.Closed}}isConnected(){return this.connectionState()===Lr.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(r,s={config:{}}){const a=`realtime:${r}`,l=this.getChannels().find(u=>u.topic===a);if(l)return l;{const u=new df(`realtime:${r}`,s,this);return this.channels.push(u),u}}push(r){const{topic:s,event:a,payload:l,ref:u}=r,d=()=>{this.encode(r,f=>{var g;(g=this.conn)===null||g===void 0||g.send(f)})};this.log("push",`${s} ${a} (${u})`,l),this.isConnected()?d():this.sendBuffer.push(d)}async setAuth(r=null){this._authPromise=this._performAuth(r);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var r;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(s){this.log("error","error in heartbeat callback",s)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(s){this.log("error","error in heartbeat callback",s)}this._wasManualDisconnect=!1,(r=this.conn)===null||r===void 0||r.close(jm,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},Li.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(s){this.log("error","error in heartbeat callback",s)}this._setAuthSafely("heartbeat")}onHeartbeat(r){this.heartbeatCallback=r}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(r=>r()),this.sendBuffer=[])}_makeRef(){let r=this.ref+1;return r===this.ref?this.ref=0:this.ref=r,this.ref.toString()}_leaveOpenTopic(r){let s=this.channels.find(a=>a.topic===r&&(a._isJoined()||a._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${r}"`),s.unsubscribe())}_remove(r){this.channels=this.channels.filter(s=>s.topic!==r.topic)}_onConnMessage(r){this.decode(r.data,s=>{if(s.topic==="phoenix"&&s.event==="phx_reply")try{this.heartbeatCallback(s.payload.status==="ok"?"ok":"error")}catch(m){this.log("error","error in heartbeat callback",m)}s.ref&&s.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:a,event:l,payload:u,ref:d}=s,f=d?`(${d})`:"",g=u.status||"";this.log("receive",`${g} ${a} ${l} ${f}`.trim(),u),this.channels.filter(m=>m._isMember(a)).forEach(m=>m._trigger(l,u,d)),this._triggerStateCallbacks("message",s)})}_clearTimer(r){var s;r==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):r==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=r=>this._onConnError(r),this.conn.onmessage=r=>this._onConnMessage(r),this.conn.onclose=r=>this._onConnClose(r))}_teardownConnection(){if(this.conn){if(this.conn.readyState===$r.open||this.conn.readyState===$r.connecting)try{this.conn.close()}catch(r){this.log("error","Error closing connection",r)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(r=>r.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(s=>{this.log("error","error waiting for auth on connect",s),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const r=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(r),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this.workerRef.terminate()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(r){var s;this._setConnectionState("disconnected"),this.log("transport","close",r),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",r)}_onConnError(r){this._setConnectionState("disconnected"),this.log("transport",`${r}`),this._triggerChanError(),this._triggerStateCallbacks("error",r)}_triggerChanError(){this.channels.forEach(r=>r._trigger(Ct.error))}_appendParams(r,s){if(Object.keys(s).length===0)return r;const a=r.match(/\?/)?"&":"?",l=new URLSearchParams(s);return`${r}${a}${l}`}_workerObjectUrl(r){let s;if(r)s=r;else{const a=new Blob([zm],{type:"application/javascript"});s=URL.createObjectURL(a)}return s}_setConnectionState(r,s=!1){this._connectionState=r,r==="connecting"?this._wasManualDisconnect=!1:r==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(r=null){let s;r?s=r:this.accessToken?s=await this.accessToken():s=this.accessTokenValue,this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(a=>{const l={access_token:s,version:Om};s&&a.updateJoinPayload(l),a.joinedOnce&&a._isJoined()&&a._push(Ct.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(r="general"){this.setAuth().catch(s=>{this.log("error",`error setting auth in ${r}`,s)})}_triggerStateCallbacks(r,s){try{this.stateChangeCallbacks[r].forEach(a=>{try{a(s)}catch(l){this.log("error",`error in ${r} callback`,l)}})}catch(a){this.log("error",`error triggering ${r} callbacks`,a)}}_setupReconnectionTimer(){this.reconnectTimer=new af(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Li.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(r){var s,a,l,u,d,f,g,m,y,w,E,x;switch(this.transport=(s=r?.transport)!==null&&s!==void 0?s:null,this.timeout=(a=r?.timeout)!==null&&a!==void 0?a:fl,this.heartbeatIntervalMs=(l=r?.heartbeatIntervalMs)!==null&&l!==void 0?l:Li.HEARTBEAT_INTERVAL,this.worker=(u=r?.worker)!==null&&u!==void 0?u:!1,this.accessToken=(d=r?.accessToken)!==null&&d!==void 0?d:null,this.heartbeatCallback=(f=r?.heartbeatCallback)!==null&&f!==void 0?f:tl,this.vsn=(g=r?.vsn)!==null&&g!==void 0?g:Xd,r?.params&&(this.params=r.params),r?.logger&&(this.logger=r.logger),(r?.logLevel||r?.log_level)&&(this.logLevel=r.logLevel||r.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(m=r?.reconnectAfterMs)!==null&&m!==void 0?m:(C=>Bm[C-1]||Mm),this.vsn){case of:this.encode=(y=r?.encode)!==null&&y!==void 0?y:((C,R)=>R(JSON.stringify(C))),this.decode=(w=r?.decode)!==null&&w!==void 0?w:((C,R)=>R(JSON.parse(C)));break;case Cm:this.encode=(E=r?.encode)!==null&&E!==void 0?E:this.serializer.encode.bind(this.serializer),this.decode=(x=r?.decode)!==null&&x!==void 0?x:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=r?.workerUrl}}};const Vm=Object.freeze(Object.defineProperty({__proto__:null,REALTIME_CHANNEL_STATES:Dm,get REALTIME_LISTEN_TYPES(){return mn},get REALTIME_POSTGRES_CHANGES_LISTEN_EVENT(){return vl},get REALTIME_PRESENCE_LISTEN_EVENTS(){return ml},get REALTIME_SUBSCRIBE_STATES(){return Lt},RealtimeChannel:df,RealtimeClient:Fm,RealtimePresence:cf,WebSocketFactory:sf},Symbol.toStringTag,{value:"Module"})),ff=gs(Vm);class ms extends Error{constructor(r){super(r),this.__isStorageError=!0,this.name="StorageError"}}function Se(o){return typeof o=="object"&&o!==null&&"__isStorageError"in o}class pf extends ms{constructor(r,s,a){super(r),this.name="StorageApiError",this.status=s,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class qi extends ms{constructor(r,s){super(r),this.name="StorageUnknownError",this.originalError=s}}const jl=o=>o?(...r)=>o(...r):(...r)=>fetch(...r),Wm=()=>Response,yl=o=>{if(Array.isArray(o))return o.map(s=>yl(s));if(typeof o=="function"||o!==Object(o))return o;const r={};return Object.entries(o).forEach(([s,a])=>{const l=s.replace(/([-_][a-z])/gi,u=>u.toUpperCase().replace(/[-_]/g,""));r[l]=yl(a)}),r},qm=o=>{if(typeof o!="object"||o===null)return!1;const r=Object.getPrototypeOf(o);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in o)&&!(Symbol.iterator in o)},Hm=o=>!o||typeof o!="string"||o.length===0||o.length>100||o.trim()!==o||o.includes("/")||o.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(o),rl=o=>{var r;return o.msg||o.message||o.error_description||(typeof o.error=="string"?o.error:(r=o.error)===null||r===void 0?void 0:r.message)||JSON.stringify(o)},Km=(o,r,s)=>q(void 0,void 0,void 0,function*(){const a=yield Wm();o instanceof a&&!s?.noResolveJson?o.json().then(l=>{const u=o.status||500,d=l?.statusCode||u+"";r(new pf(rl(l),u,d))}).catch(l=>{r(new qi(rl(l),l))}):r(new qi(rl(o),o))}),Gm=(o,r,s,a)=>{const l={method:o,headers:r?.headers||{}};return o==="GET"||!a?l:(qm(a)?(l.headers=Object.assign({"Content-Type":"application/json"},r?.headers),l.body=JSON.stringify(a)):l.body=a,r?.duplex&&(l.duplex=r.duplex),Object.assign(Object.assign({},l),s))};function vs(o,r,s,a,l,u){return q(this,void 0,void 0,function*(){return new Promise((d,f)=>{o(s,Gm(r,a,l,u)).then(g=>{if(!g.ok)throw g;return a?.noResolveJson?g:g.json()}).then(g=>d(g)).catch(g=>Km(g,f,a))})})}function fs(o,r,s,a){return q(this,void 0,void 0,function*(){return vs(o,"GET",r,s,a)})}function Ot(o,r,s,a,l){return q(this,void 0,void 0,function*(){return vs(o,"POST",r,a,l,s)})}function wl(o,r,s,a,l){return q(this,void 0,void 0,function*(){return vs(o,"PUT",r,a,l,s)})}function Jm(o,r,s,a){return q(this,void 0,void 0,function*(){return vs(o,"HEAD",r,Object.assign(Object.assign({},s),{noResolveJson:!0}),a)})}function Pl(o,r,s,a,l){return q(this,void 0,void 0,function*(){return vs(o,"DELETE",r,a,l,s)})}class Qm{constructor(r,s){this.downloadFn=r,this.shouldThrowOnError=s}then(r,s){return this.execute().then(r,s)}execute(){return q(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Se(r))return{data:null,error:r};throw r}})}}var gf;class Ym{constructor(r,s){this.downloadFn=r,this.shouldThrowOnError=s,this[gf]="BlobDownloadBuilder",this.promise=null}asStream(){return new Qm(this.downloadFn,this.shouldThrowOnError)}then(r,s){return this.getPromise().then(r,s)}catch(r){return this.getPromise().catch(r)}finally(r){return this.getPromise().finally(r)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return q(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Se(r))return{data:null,error:r};throw r}})}}gf=Symbol.toStringTag;const Xm={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},eh={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Zm{constructor(r,s={},a,l){this.shouldThrowOnError=!1,this.url=r,this.headers=s,this.bucketId=a,this.fetch=jl(l)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(r,s,a,l){return q(this,void 0,void 0,function*(){try{let u;const d=Object.assign(Object.assign({},eh),l);let f=Object.assign(Object.assign({},this.headers),r==="POST"&&{"x-upsert":String(d.upsert)});const g=d.metadata;typeof Blob<"u"&&a instanceof Blob?(u=new FormData,u.append("cacheControl",d.cacheControl),g&&u.append("metadata",this.encodeMetadata(g)),u.append("",a)):typeof FormData<"u"&&a instanceof FormData?(u=a,u.has("cacheControl")||u.append("cacheControl",d.cacheControl),g&&!u.has("metadata")&&u.append("metadata",this.encodeMetadata(g))):(u=a,f["cache-control"]=`max-age=${d.cacheControl}`,f["content-type"]=d.contentType,g&&(f["x-metadata"]=this.toBase64(this.encodeMetadata(g))),(typeof ReadableStream<"u"&&u instanceof ReadableStream||u&&typeof u=="object"&&"pipe"in u&&typeof u.pipe=="function")&&!d.duplex&&(d.duplex="half")),l?.headers&&(f=Object.assign(Object.assign({},f),l.headers));const m=this._removeEmptyFolders(s),y=this._getFinalPath(m),w=yield(r=="PUT"?wl:Ot)(this.fetch,`${this.url}/object/${y}`,u,Object.assign({headers:f},d?.duplex?{duplex:d.duplex}:{}));return{data:{path:m,id:w.Id,fullPath:w.Key},error:null}}catch(u){if(this.shouldThrowOnError)throw u;if(Se(u))return{data:null,error:u};throw u}})}upload(r,s,a){return q(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",r,s,a)})}uploadToSignedUrl(r,s,a,l){return q(this,void 0,void 0,function*(){const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=new URL(this.url+`/object/upload/sign/${d}`);f.searchParams.set("token",s);try{let g;const m=Object.assign({upsert:eh.upsert},l),y=Object.assign(Object.assign({},this.headers),{"x-upsert":String(m.upsert)});typeof Blob<"u"&&a instanceof Blob?(g=new FormData,g.append("cacheControl",m.cacheControl),g.append("",a)):typeof FormData<"u"&&a instanceof FormData?(g=a,g.append("cacheControl",m.cacheControl)):(g=a,y["cache-control"]=`max-age=${m.cacheControl}`,y["content-type"]=m.contentType);const w=yield wl(this.fetch,f.toString(),g,{headers:y});return{data:{path:u,fullPath:w.Key},error:null}}catch(g){if(this.shouldThrowOnError)throw g;if(Se(g))return{data:null,error:g};throw g}})}createSignedUploadUrl(r,s){return q(this,void 0,void 0,function*(){try{let a=this._getFinalPath(r);const l=Object.assign({},this.headers);s?.upsert&&(l["x-upsert"]="true");const u=yield Ot(this.fetch,`${this.url}/object/upload/sign/${a}`,{},{headers:l}),d=new URL(this.url+u.url),f=d.searchParams.get("token");if(!f)throw new ms("No token returned by API");return{data:{signedUrl:d.toString(),path:r,token:f},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Se(a))return{data:null,error:a};throw a}})}update(r,s,a){return q(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",r,s,a)})}move(r,s,a){return q(this,void 0,void 0,function*(){try{return{data:yield Ot(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:r,destinationKey:s,destinationBucket:a?.destinationBucket},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Se(l))return{data:null,error:l};throw l}})}copy(r,s,a){return q(this,void 0,void 0,function*(){try{return{data:{path:(yield Ot(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:r,destinationKey:s,destinationBucket:a?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Se(l))return{data:null,error:l};throw l}})}createSignedUrl(r,s,a){return q(this,void 0,void 0,function*(){try{let l=this._getFinalPath(r),u=yield Ot(this.fetch,`${this.url}/object/sign/${l}`,Object.assign({expiresIn:s},a?.transform?{transform:a.transform}:{}),{headers:this.headers});const d=a?.download?`&download=${a.download===!0?"":a.download}`:"";return u={signedUrl:encodeURI(`${this.url}${u.signedURL}${d}`)},{data:u,error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Se(l))return{data:null,error:l};throw l}})}createSignedUrls(r,s,a){return q(this,void 0,void 0,function*(){try{const l=yield Ot(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:r},{headers:this.headers}),u=a?.download?`&download=${a.download===!0?"":a.download}`:"";return{data:l.map(d=>Object.assign(Object.assign({},d),{signedUrl:d.signedURL?encodeURI(`${this.url}${d.signedURL}${u}`):null})),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Se(l))return{data:null,error:l};throw l}})}download(r,s){const l=typeof s?.transform<"u"?"render/image/authenticated":"object",u=this.transformOptsToQueryString(s?.transform||{}),d=u?`?${u}`:"",f=this._getFinalPath(r),g=()=>fs(this.fetch,`${this.url}/${l}/${f}${d}`,{headers:this.headers,noResolveJson:!0});return new Ym(g,this.shouldThrowOnError)}info(r){return q(this,void 0,void 0,function*(){const s=this._getFinalPath(r);try{const a=yield fs(this.fetch,`${this.url}/object/info/${s}`,{headers:this.headers});return{data:yl(a),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Se(a))return{data:null,error:a};throw a}})}exists(r){return q(this,void 0,void 0,function*(){const s=this._getFinalPath(r);try{return yield Jm(this.fetch,`${this.url}/object/${s}`,{headers:this.headers}),{data:!0,error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Se(a)&&a instanceof qi){const l=a.originalError;if([400,404].includes(l?.status))return{data:!1,error:a}}throw a}})}getPublicUrl(r,s){const a=this._getFinalPath(r),l=[],u=s?.download?`download=${s.download===!0?"":s.download}`:"";u!==""&&l.push(u);const f=typeof s?.transform<"u"?"render/image":"object",g=this.transformOptsToQueryString(s?.transform||{});g!==""&&l.push(g);let m=l.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${f}/public/${a}${m}`)}}}remove(r){return q(this,void 0,void 0,function*(){try{return{data:yield Pl(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:r},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Se(s))return{data:null,error:s};throw s}})}list(r,s,a){return q(this,void 0,void 0,function*(){try{const l=Object.assign(Object.assign(Object.assign({},Xm),s),{prefix:r||""});return{data:yield Ot(this.fetch,`${this.url}/object/list/${this.bucketId}`,l,{headers:this.headers},a),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Se(l))return{data:null,error:l};throw l}})}listV2(r,s){return q(this,void 0,void 0,function*(){try{const a=Object.assign({},r);return{data:yield Ot(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,a,{headers:this.headers},s),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Se(a))return{data:null,error:a};throw a}})}encodeMetadata(r){return JSON.stringify(r)}toBase64(r){return typeof Buffer<"u"?Buffer.from(r).toString("base64"):btoa(r)}_getFinalPath(r){return`${this.bucketId}/${r.replace(/^\/+/,"")}`}_removeEmptyFolders(r){return r.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(r){const s=[];return r.width&&s.push(`width=${r.width}`),r.height&&s.push(`height=${r.height}`),r.resize&&s.push(`resize=${r.resize}`),r.format&&s.push(`format=${r.format}`),r.quality&&s.push(`quality=${r.quality}`),s.join("&")}}const mf="2.86.2",vf={"X-Client-Info":`storage-js/${mf}`};class ev{constructor(r,s={},a,l){this.shouldThrowOnError=!1;const u=new URL(r);l?.useNewHostname&&/supabase\.(co|in|red)$/.test(u.hostname)&&!u.hostname.includes("storage.supabase.")&&(u.hostname=u.hostname.replace("supabase.","storage.supabase.")),this.url=u.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},vf),s),this.fetch=jl(a)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(r){return q(this,void 0,void 0,function*(){try{const s=this.listBucketOptionsToQueryString(r);return{data:yield fs(this.fetch,`${this.url}/bucket${s}`,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Se(s))return{data:null,error:s};throw s}})}getBucket(r){return q(this,void 0,void 0,function*(){try{return{data:yield fs(this.fetch,`${this.url}/bucket/${r}`,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Se(s))return{data:null,error:s};throw s}})}createBucket(r){return q(this,arguments,void 0,function*(s,a={public:!1}){try{return{data:yield Ot(this.fetch,`${this.url}/bucket`,{id:s,name:s,type:a.type,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:this.headers}),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(Se(l))return{data:null,error:l};throw l}})}updateBucket(r,s){return q(this,void 0,void 0,function*(){try{return{data:yield wl(this.fetch,`${this.url}/bucket/${r}`,{id:r,name:r,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(Se(a))return{data:null,error:a};throw a}})}emptyBucket(r){return q(this,void 0,void 0,function*(){try{return{data:yield Ot(this.fetch,`${this.url}/bucket/${r}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Se(s))return{data:null,error:s};throw s}})}deleteBucket(r){return q(this,void 0,void 0,function*(){try{return{data:yield Pl(this.fetch,`${this.url}/bucket/${r}`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Se(s))return{data:null,error:s};throw s}})}listBucketOptionsToQueryString(r){const s={};return r&&("limit"in r&&(s.limit=String(r.limit)),"offset"in r&&(s.offset=String(r.offset)),r.search&&(s.search=r.search),r.sortColumn&&(s.sortColumn=r.sortColumn),r.sortOrder&&(s.sortOrder=r.sortOrder)),Object.keys(s).length>0?"?"+new URLSearchParams(s).toString():""}}var ps=class extends Error{constructor(o,r){super(o),this.name="IcebergError",this.status=r.status,this.icebergType=r.icebergType,this.icebergCode=r.icebergCode,this.details=r.details,this.isCommitStateUnknown=r.icebergType==="CommitStateUnknownException"||[500,502,504].includes(r.status)&&r.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function tv(o,r,s){const a=new URL(r,o);if(s)for(const[l,u]of Object.entries(s))u!==void 0&&a.searchParams.set(l,u);return a.toString()}async function rv(o){return!o||o.type==="none"?{}:o.type==="bearer"?{Authorization:`Bearer ${o.token}`}:o.type==="header"?{[o.name]:o.value}:o.type==="custom"?await o.getHeaders():{}}function nv(o){const r=o.fetchImpl??globalThis.fetch;return{async request({method:s,path:a,query:l,body:u,headers:d}){const f=tv(o.baseUrl,a,l),g=await rv(o.auth),m=await r(f,{method:s,headers:{...u?{"Content-Type":"application/json"}:{},...g,...d},body:u?JSON.stringify(u):void 0}),y=await m.text(),w=(m.headers.get("content-type")||"").includes("application/json"),E=w&&y?JSON.parse(y):y;if(!m.ok){const x=w?E:void 0,C=x?.error;throw new ps(C?.message??`Request failed with status ${m.status}`,{status:m.status,icebergType:C?.type,icebergCode:C?.code,details:x})}return{status:m.status,headers:m.headers,data:E}}}}function Ui(o){return o.join("")}var sv=class{constructor(o,r=""){this.client=o,this.prefix=r}async listNamespaces(o){const r=o?{parent:Ui(o.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:r})).data.namespaces.map(a=>({namespace:a}))}async createNamespace(o,r){const s={namespace:o.namespace,properties:r?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:s})).data}async dropNamespace(o){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ui(o.namespace)}`})}async loadNamespaceMetadata(o){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ui(o.namespace)}`})).data.properties}}async namespaceExists(o){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ui(o.namespace)}`}),!0}catch(r){if(r instanceof ps&&r.status===404)return!1;throw r}}async createNamespaceIfNotExists(o,r){try{return await this.createNamespace(o,r)}catch(s){if(s instanceof ps&&s.status===409)return;throw s}}};function cn(o){return o.join("")}var iv=class{constructor(o,r="",s){this.client=o,this.prefix=r,this.accessDelegation=s}async listTables(o){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${cn(o.namespace)}/tables`})).data.identifiers}async createTable(o,r){const s={};return this.accessDelegation&&(s["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${cn(o.namespace)}/tables`,body:r,headers:s})).data.metadata}async updateTable(o,r){const s=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${cn(o.namespace)}/tables/${o.name}`,body:r});return{"metadata-location":s.data["metadata-location"],metadata:s.data.metadata}}async dropTable(o,r){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${cn(o.namespace)}/tables/${o.name}`,query:{purgeRequested:String(r?.purge??!1)}})}async loadTable(o){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${cn(o.namespace)}/tables/${o.name}`,headers:r})).data.metadata}async tableExists(o){const r={};this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${cn(o.namespace)}/tables/${o.name}`,headers:r}),!0}catch(s){if(s instanceof ps&&s.status===404)return!1;throw s}}async createTableIfNotExists(o,r){try{return await this.createTable(o,r)}catch(s){if(s instanceof ps&&s.status===409)return await this.loadTable({namespace:o.namespace,name:r.name});throw s}}},ov=class{constructor(o){let r="v1";o.catalogName&&(r+=`/${o.catalogName}`);const s=o.baseUrl.endsWith("/")?o.baseUrl:`${o.baseUrl}/`;this.client=nv({baseUrl:s,auth:o.auth,fetchImpl:o.fetch}),this.accessDelegation=o.accessDelegation?.join(","),this.namespaceOps=new sv(this.client,r),this.tableOps=new iv(this.client,r,this.accessDelegation)}async listNamespaces(o){return this.namespaceOps.listNamespaces(o)}async createNamespace(o,r){return this.namespaceOps.createNamespace(o,r)}async dropNamespace(o){await this.namespaceOps.dropNamespace(o)}async loadNamespaceMetadata(o){return this.namespaceOps.loadNamespaceMetadata(o)}async listTables(o){return this.tableOps.listTables(o)}async createTable(o,r){return this.tableOps.createTable(o,r)}async updateTable(o,r){return this.tableOps.updateTable(o,r)}async dropTable(o,r){await this.tableOps.dropTable(o,r)}async loadTable(o){return this.tableOps.loadTable(o)}async namespaceExists(o){return this.namespaceOps.namespaceExists(o)}async tableExists(o){return this.tableOps.tableExists(o)}async createNamespaceIfNotExists(o,r){return this.namespaceOps.createNamespaceIfNotExists(o,r)}async createTableIfNotExists(o,r){return this.tableOps.createTableIfNotExists(o,r)}};class yf{constructor(r,s={},a){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},vf),s),this.fetch=jl(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(r){return q(this,void 0,void 0,function*(){try{return{data:yield Ot(this.fetch,`${this.url}/bucket`,{name:r},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Se(s))return{data:null,error:s};throw s}})}listBuckets(r){return q(this,void 0,void 0,function*(){try{const s=new URLSearchParams;r?.limit!==void 0&&s.set("limit",r.limit.toString()),r?.offset!==void 0&&s.set("offset",r.offset.toString()),r?.sortColumn&&s.set("sortColumn",r.sortColumn),r?.sortOrder&&s.set("sortOrder",r.sortOrder),r?.search&&s.set("search",r.search);const a=s.toString(),l=a?`${this.url}/bucket?${a}`:`${this.url}/bucket`;return{data:yield fs(this.fetch,l,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Se(s))return{data:null,error:s};throw s}})}deleteBucket(r){return q(this,void 0,void 0,function*(){try{return{data:yield Pl(this.fetch,`${this.url}/bucket/${r}`,{},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(Se(s))return{data:null,error:s};throw s}})}from(r){if(!Hm(r))throw new ms("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");return new ov({baseUrl:this.url,catalogName:r,auth:{type:"custom",getHeaders:()=>q(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch})}}const Rl={"X-Client-Info":`storage-js/${mf}`,"Content-Type":"application/json"};class Al extends Error{constructor(r){super(r),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function nt(o){return typeof o=="object"&&o!==null&&"__isStorageVectorsError"in o}class Bi extends Al{constructor(r,s,a){super(r),this.name="StorageVectorsApiError",this.status=s,this.statusCode=a}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class wf extends Al{constructor(r,s){super(r),this.name="StorageVectorsUnknownError",this.originalError=s}}var _l;(function(o){o.InternalError="InternalError",o.S3VectorConflictException="S3VectorConflictException",o.S3VectorNotFoundException="S3VectorNotFoundException",o.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",o.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",o.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(_l||(_l={}));const Zi=o=>o?(...r)=>o(...r):(...r)=>fetch(...r),av=()=>Response,_f=o=>{if(typeof o!="object"||o===null)return!1;const r=Object.getPrototypeOf(o);return(r===null||r===Object.prototype||Object.getPrototypeOf(r)===null)&&!(Symbol.toStringTag in o)&&!(Symbol.iterator in o)},lv=o=>Array.from(new Float32Array(o)),uv=(o,r)=>{if(r!==void 0&&o.float32.length!==r)throw new Error(`Vector dimension mismatch: expected ${r}, got ${o.float32.length}`)},th=o=>o.msg||o.message||o.error_description||o.error||JSON.stringify(o),cv=(o,r,s)=>q(void 0,void 0,void 0,function*(){if(o&&typeof o=="object"&&"status"in o&&"ok"in o&&typeof o.status=="number"&&!s?.noResolveJson){const l=o.status||500,u=o;if(typeof u.json=="function")u.json().then(d=>{const f=d?.statusCode||d?.code||l+"";r(new Bi(th(d),l,f))}).catch(()=>{const d=l+"",f=u.statusText||`HTTP ${l} error`;r(new Bi(f,l,d))});else{const d=l+"",f=u.statusText||`HTTP ${l} error`;r(new Bi(f,l,d))}}else r(new wf(th(o),o))}),dv=(o,r,s,a)=>{const l={method:o,headers:r?.headers||{}};return a?(_f(a)?(l.headers=Object.assign({"Content-Type":"application/json"},r?.headers),l.body=JSON.stringify(a)):l.body=a,Object.assign(Object.assign({},l),s)):l};function hv(o,r,s,a,l,u){return q(this,void 0,void 0,function*(){return new Promise((d,f)=>{o(s,dv(r,a,l,u)).then(g=>{if(!g.ok)throw g;if(a?.noResolveJson)return g;const m=g.headers.get("content-type");return!m||!m.includes("application/json")?{}:g.json()}).then(g=>d(g)).catch(g=>cv(g,f,a))})})}function ct(o,r,s,a,l){return q(this,void 0,void 0,function*(){return hv(o,"POST",r,a,l,s)})}class Sf{constructor(r,s={},a){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Rl),s),this.fetch=Zi(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(r){return q(this,void 0,void 0,function*(){try{return{data:(yield ct(this.fetch,`${this.url}/CreateIndex`,r,{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(nt(s))return{data:null,error:s};throw s}})}getIndex(r,s){return q(this,void 0,void 0,function*(){try{return{data:yield ct(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:r,indexName:s},{headers:this.headers}),error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(nt(a))return{data:null,error:a};throw a}})}listIndexes(r){return q(this,void 0,void 0,function*(){try{return{data:yield ct(this.fetch,`${this.url}/ListIndexes`,r,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(nt(s))return{data:null,error:s};throw s}})}deleteIndex(r,s){return q(this,void 0,void 0,function*(){try{return{data:(yield ct(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:r,indexName:s},{headers:this.headers}))||{},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if(nt(a))return{data:null,error:a};throw a}})}}class Ef{constructor(r,s={},a){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Rl),s),this.fetch=Zi(a)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(r){return q(this,void 0,void 0,function*(){try{if(r.vectors.length<1||r.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield ct(this.fetch,`${this.url}/PutVectors`,r,{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(nt(s))return{data:null,error:s};throw s}})}getVectors(r){return q(this,void 0,void 0,function*(){try{return{data:yield ct(this.fetch,`${this.url}/GetVectors`,r,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(nt(s))return{data:null,error:s};throw s}})}listVectors(r){return q(this,void 0,void 0,function*(){try{if(r.segmentCount!==void 0){if(r.segmentCount<1||r.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(r.segmentIndex!==void 0&&(r.segmentIndex<0||r.segmentIndex>=r.segmentCount))throw new Error(`segmentIndex must be between 0 and ${r.segmentCount-1}`)}return{data:yield ct(this.fetch,`${this.url}/ListVectors`,r,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(nt(s))return{data:null,error:s};throw s}})}queryVectors(r){return q(this,void 0,void 0,function*(){try{return{data:yield ct(this.fetch,`${this.url}/QueryVectors`,r,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(nt(s))return{data:null,error:s};throw s}})}deleteVectors(r){return q(this,void 0,void 0,function*(){try{if(r.keys.length<1||r.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield ct(this.fetch,`${this.url}/DeleteVectors`,r,{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(nt(s))return{data:null,error:s};throw s}})}}class kf{constructor(r,s={},a){this.shouldThrowOnError=!1,this.url=r.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Rl),s),this.fetch=Zi(a)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(r){return q(this,void 0,void 0,function*(){try{return{data:(yield ct(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:r},{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(nt(s))return{data:null,error:s};throw s}})}getBucket(r){return q(this,void 0,void 0,function*(){try{return{data:yield ct(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:r},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(nt(s))return{data:null,error:s};throw s}})}listBuckets(){return q(this,arguments,void 0,function*(r={}){try{return{data:yield ct(this.fetch,`${this.url}/ListVectorBuckets`,r,{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(nt(s))return{data:null,error:s};throw s}})}deleteBucket(r){return q(this,void 0,void 0,function*(){try{return{data:(yield ct(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:r},{headers:this.headers}))||{},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(nt(s))return{data:null,error:s};throw s}})}}class xf extends kf{constructor(r,s={}){super(r,s.headers||{},s.fetch)}from(r){return new bf(this.url,this.headers,r,this.fetch)}createBucket(r){const s=Object.create(null,{createBucket:{get:()=>super.createBucket}});return q(this,void 0,void 0,function*(){return s.createBucket.call(this,r)})}getBucket(r){const s=Object.create(null,{getBucket:{get:()=>super.getBucket}});return q(this,void 0,void 0,function*(){return s.getBucket.call(this,r)})}listBuckets(){const r=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return q(this,arguments,void 0,function*(s={}){return r.listBuckets.call(this,s)})}deleteBucket(r){const s=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return q(this,void 0,void 0,function*(){return s.deleteBucket.call(this,r)})}}class bf extends Sf{constructor(r,s,a,l){super(r,s,l),this.vectorBucketName=a}createIndex(r){const s=Object.create(null,{createIndex:{get:()=>super.createIndex}});return q(this,void 0,void 0,function*(){return s.createIndex.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const r=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return q(this,arguments,void 0,function*(s={}){return r.listIndexes.call(this,Object.assign(Object.assign({},s),{vectorBucketName:this.vectorBucketName}))})}getIndex(r){const s=Object.create(null,{getIndex:{get:()=>super.getIndex}});return q(this,void 0,void 0,function*(){return s.getIndex.call(this,this.vectorBucketName,r)})}deleteIndex(r){const s=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return q(this,void 0,void 0,function*(){return s.deleteIndex.call(this,this.vectorBucketName,r)})}index(r){return new Tf(this.url,this.headers,this.vectorBucketName,r,this.fetch)}}class Tf extends Ef{constructor(r,s,a,l,u){super(r,s,u),this.vectorBucketName=a,this.indexName=l}putVectors(r){const s=Object.create(null,{putVectors:{get:()=>super.putVectors}});return q(this,void 0,void 0,function*(){return s.putVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(r){const s=Object.create(null,{getVectors:{get:()=>super.getVectors}});return q(this,void 0,void 0,function*(){return s.getVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const r=Object.create(null,{listVectors:{get:()=>super.listVectors}});return q(this,arguments,void 0,function*(s={}){return r.listVectors.call(this,Object.assign(Object.assign({},s),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(r){const s=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return q(this,void 0,void 0,function*(){return s.queryVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(r){const s=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return q(this,void 0,void 0,function*(){return s.deleteVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class fv extends ev{constructor(r,s={},a,l){super(r,s,a,l)}from(r){return new Zm(this.url,this.headers,r,this.fetch)}get vectors(){return new xf(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new yf(this.url+"/iceberg",this.headers,this.fetch)}}const pv=Object.freeze(Object.defineProperty({__proto__:null,StorageAnalyticsClient:yf,StorageApiError:pf,StorageClient:fv,StorageError:ms,StorageUnknownError:qi,StorageVectorsApiError:Bi,StorageVectorsClient:xf,StorageVectorsError:Al,get StorageVectorsErrorCode(){return _l},StorageVectorsUnknownError:wf,VectorBucketApi:kf,VectorBucketScope:bf,VectorDataApi:Ef,VectorIndexApi:Sf,VectorIndexScope:Tf,isPlainObject:_f,isStorageError:Se,isStorageVectorsError:nt,normalizeToFloat32:lv,resolveFetch:Zi,resolveResponse:av,validateVectorDimension:uv},Symbol.toStringTag,{value:"Module"})),gv=gs(pv);var nl={},us={},rh;function mv(){return rh||(rh=1,Object.defineProperty(us,"__esModule",{value:!0}),us.version=void 0,us.version="2.86.2"),us}var nh;function vv(){return nh||(nh=1,(function(o){Object.defineProperty(o,"__esModule",{value:!0}),o.DEFAULT_REALTIME_OPTIONS=o.DEFAULT_AUTH_OPTIONS=o.DEFAULT_DB_OPTIONS=o.DEFAULT_GLOBAL_OPTIONS=o.DEFAULT_HEADERS=void 0;const r=mv();let s="";typeof Deno<"u"?s="deno":typeof document<"u"?s="web":typeof navigator<"u"&&navigator.product==="ReactNative"?s="react-native":s="node",o.DEFAULT_HEADERS={"X-Client-Info":`supabase-js-${s}/${r.version}`},o.DEFAULT_GLOBAL_OPTIONS={headers:o.DEFAULT_HEADERS},o.DEFAULT_DB_OPTIONS={schema:"public"},o.DEFAULT_AUTH_OPTIONS={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},o.DEFAULT_REALTIME_OPTIONS={}})(nl)),nl}var sl={},sh;function yv(){return sh||(sh=1,(function(o){Object.defineProperty(o,"__esModule",{value:!0}),o.fetchWithAuth=o.resolveHeadersConstructor=o.resolveFetch=void 0;const r=l=>l?(...u)=>l(...u):(...u)=>fetch(...u);o.resolveFetch=r;const s=()=>Headers;o.resolveHeadersConstructor=s;const a=(l,u,d)=>{const f=(0,o.resolveFetch)(d),g=(0,o.resolveHeadersConstructor)();return async(m,y)=>{var w;const E=(w=await u())!==null&&w!==void 0?w:l;let x=new g(y?.headers);return x.has("apikey")||x.set("apikey",l),x.has("Authorization")||x.set("Authorization",`Bearer ${E}`),f(m,Object.assign(Object.assign({},y),{headers:x}))}};o.fetchWithAuth=a})(sl)),sl}var Kt={},ih;function wv(){if(ih)return Kt;ih=1,Object.defineProperty(Kt,"__esModule",{value:!0}),Kt.isBrowser=void 0,Kt.uuid=o,Kt.ensureTrailingSlash=r,Kt.applySettingDefaults=a,Kt.validateSupabaseUrl=l;function o(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(u){var d=Math.random()*16|0,f=u=="x"?d:d&3|8;return f.toString(16)})}function r(u){return u.endsWith("/")?u:u+"/"}const s=()=>typeof window<"u";Kt.isBrowser=s;function a(u,d){var f,g;const{db:m,auth:y,realtime:w,global:E}=u,{db:x,auth:C,realtime:R,global:j}=d,U={db:Object.assign(Object.assign({},x),m),auth:Object.assign(Object.assign({},C),y),realtime:Object.assign(Object.assign({},R),w),storage:{},global:Object.assign(Object.assign(Object.assign({},j),E),{headers:Object.assign(Object.assign({},(f=j?.headers)!==null&&f!==void 0?f:{}),(g=E?.headers)!==null&&g!==void 0?g:{})}),accessToken:async()=>""};return u.accessToken?U.accessToken=u.accessToken:delete U.accessToken,U}function l(u){const d=u?.trim();if(!d)throw new Error("supabaseUrl is required.");if(!d.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(r(d))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}return Kt}var cs={};const Of="2.86.2",pn=30*1e3,Sl=3,il=Sl*pn,_v="http://localhost:9999",Sv="supabase.auth.token",Ev={"X-Client-Info":`gotrue-js/${Of}`},El="X-Supabase-Api-Version",Cf={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},kv=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,xv=600*1e3;let _n=class extends Error{constructor(r,s,a){super(r),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=a}};function J(o){return typeof o=="object"&&o!==null&&"__isAuthError"in o}let jf=class extends _n{constructor(r,s,a){super(r,s,a),this.name="AuthApiError",this.status=s,this.code=a}};function Pf(o){return J(o)&&o.name==="AuthApiError"}let pr=class extends _n{constructor(r,s){super(r),this.name="AuthUnknownError",this.originalError=s}},Gt=class extends _n{constructor(r,s,a,l){super(r,a,l),this.name=s,this.status=a}},rt=class extends Gt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function Rf(o){return J(o)&&o.name==="AuthSessionMissingError"}let Ar=class extends Gt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},ds=class extends Gt{constructor(r){super(r,"AuthInvalidCredentialsError",400,void 0)}},hs=class extends Gt{constructor(r,s=null){super(r,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function Af(o){return J(o)&&o.name==="AuthImplicitGrantRedirectError"}let kl=class extends Gt{constructor(r,s=null){super(r,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},Hi=class extends Gt{constructor(r,s){super(r,"AuthRetryableFetchError",s,void 0)}};function Mi(o){return J(o)&&o.name==="AuthRetryableFetchError"}let xl=class extends Gt{constructor(r,s,a){super(r,"AuthWeakPasswordError",s,"weak_password"),this.reasons=a}};function bv(o){return J(o)&&o.name==="AuthWeakPasswordError"}let Ki=class extends Gt{constructor(r){super(r,"AuthInvalidJwtError",400,"invalid_jwt")}};const Gi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),oh=` 	
\r=`.split(""),Tv=(()=>{const o=new Array(128);for(let r=0;r<o.length;r+=1)o[r]=-1;for(let r=0;r<oh.length;r+=1)o[oh[r].charCodeAt(0)]=-2;for(let r=0;r<Gi.length;r+=1)o[Gi[r].charCodeAt(0)]=r;return o})();function ah(o,r,s){if(o!==null)for(r.queue=r.queue<<8|o,r.queuedBits+=8;r.queuedBits>=6;){const a=r.queue>>r.queuedBits-6&63;s(Gi[a]),r.queuedBits-=6}else if(r.queuedBits>0)for(r.queue=r.queue<<6-r.queuedBits,r.queuedBits=6;r.queuedBits>=6;){const a=r.queue>>r.queuedBits-6&63;s(Gi[a]),r.queuedBits-=6}}function Nf(o,r,s){const a=Tv[o];if(a>-1)for(r.queue=r.queue<<6|a,r.queuedBits+=6;r.queuedBits>=8;)s(r.queue>>r.queuedBits-8&255),r.queuedBits-=8;else{if(a===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(o)}"`)}}function lh(o){const r=[],s=d=>{r.push(String.fromCodePoint(d))},a={utf8seq:0,codepoint:0},l={queue:0,queuedBits:0},u=d=>{jv(d,a,s)};for(let d=0;d<o.length;d+=1)Nf(o.charCodeAt(d),l,u);return r.join("")}function Ov(o,r){if(o<=127){r(o);return}else if(o<=2047){r(192|o>>6),r(128|o&63);return}else if(o<=65535){r(224|o>>12),r(128|o>>6&63),r(128|o&63);return}else if(o<=1114111){r(240|o>>18),r(128|o>>12&63),r(128|o>>6&63),r(128|o&63);return}throw new Error(`Unrecognized Unicode codepoint: ${o.toString(16)}`)}function Cv(o,r){for(let s=0;s<o.length;s+=1){let a=o.charCodeAt(s);if(a>55295&&a<=56319){const l=(a-55296)*1024&65535;a=(o.charCodeAt(s+1)-56320&65535|l)+65536,s+=1}Ov(a,r)}}function jv(o,r,s){if(r.utf8seq===0){if(o<=127){s(o);return}for(let a=1;a<6;a+=1)if((o>>7-a&1)===0){r.utf8seq=a;break}if(r.utf8seq===2)r.codepoint=o&31;else if(r.utf8seq===3)r.codepoint=o&15;else if(r.utf8seq===4)r.codepoint=o&7;else throw new Error("Invalid UTF-8 sequence");r.utf8seq-=1}else if(r.utf8seq>0){if(o<=127)throw new Error("Invalid UTF-8 sequence");r.codepoint=r.codepoint<<6|o&63,r.utf8seq-=1,r.utf8seq===0&&s(r.codepoint)}}function vn(o){const r=[],s={queue:0,queuedBits:0},a=l=>{r.push(l)};for(let l=0;l<o.length;l+=1)Nf(o.charCodeAt(l),s,a);return new Uint8Array(r)}function Pv(o){const r=[];return Cv(o,s=>r.push(s)),new Uint8Array(r)}function Ur(o){const r=[],s={queue:0,queuedBits:0},a=l=>{r.push(l)};return o.forEach(l=>ah(l,s,a)),ah(null,s,a),r.join("")}function Rv(o){return Math.round(Date.now()/1e3)+o}function Av(){return Symbol("auth-callback")}const ze=()=>typeof window<"u"&&typeof document<"u",Pr={tested:!1,writable:!1},If=()=>{if(!ze())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Pr.tested)return Pr.writable;const o=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(o,o),globalThis.localStorage.removeItem(o),Pr.tested=!0,Pr.writable=!0}catch{Pr.tested=!0,Pr.writable=!1}return Pr.writable};function Nv(o){const r={},s=new URL(o);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((l,u)=>{r[u]=l})}catch{}return s.searchParams.forEach((a,l)=>{r[l]=a}),r}const $f=o=>o?(...r)=>o(...r):(...r)=>fetch(...r),Iv=o=>typeof o=="object"&&o!==null&&"status"in o&&"ok"in o&&"json"in o&&typeof o.json=="function",gn=async(o,r,s)=>{await o.setItem(r,JSON.stringify(s))},Rr=async(o,r)=>{const s=await o.getItem(r);if(!s)return null;try{return JSON.parse(s)}catch{return s}},Me=async(o,r)=>{await o.removeItem(r)};class eo{constructor(){this.promise=new eo.promiseConstructor((r,s)=>{this.resolve=r,this.reject=s})}}eo.promiseConstructor=Promise;function ol(o){const r=o.split(".");if(r.length!==3)throw new Ki("Invalid JWT structure");for(let a=0;a<r.length;a++)if(!kv.test(r[a]))throw new Ki("JWT not in base64url format");return{header:JSON.parse(lh(r[0])),payload:JSON.parse(lh(r[1])),signature:vn(r[2]),raw:{header:r[0],payload:r[1]}}}async function $v(o){return await new Promise(r=>{setTimeout(()=>r(null),o)})}function Lv(o,r){return new Promise((a,l)=>{(async()=>{for(let u=0;u<1/0;u++)try{const d=await o(u);if(!r(u,null,d)){a(d);return}}catch(d){if(!r(u,d)){l(d);return}}})()})}function Uv(o){return("0"+o.toString(16)).substr(-2)}function Dv(){const r=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",a=s.length;let l="";for(let u=0;u<56;u++)l+=s.charAt(Math.floor(Math.random()*a));return l}return crypto.getRandomValues(r),Array.from(r,Uv).join("")}async function Bv(o){const s=new TextEncoder().encode(o),a=await crypto.subtle.digest("SHA-256",s),l=new Uint8Array(a);return Array.from(l).map(u=>String.fromCharCode(u)).join("")}async function Mv(o){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),o;const s=await Bv(o);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function dn(o,r,s=!1){const a=Dv();let l=a;s&&(l+="/PASSWORD_RECOVERY"),await gn(o,`${r}-code-verifier`,l);const u=await Mv(a);return[u,a===u?"plain":"s256"]}const zv=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Fv(o){const r=o.headers.get(El);if(!r||!r.match(zv))return null;try{return new Date(`${r}T00:00:00.0Z`)}catch{return null}}function Vv(o){if(!o)throw new Error("Missing exp claim");const r=Math.floor(Date.now()/1e3);if(o<=r)throw new Error("JWT has expired")}function Wv(o){switch(o){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const qv=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function hn(o){if(!qv.test(o))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function al(){const o={};return new Proxy(o,{get:(r,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const a=s.toString();if(a==="Symbol(Symbol.toPrimitive)"||a==="Symbol(Symbol.toStringTag)"||a==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(r,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(r,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Hv(o,r){return new Proxy(o,{get:(s,a,l)=>{if(a==="__isInsecureUserWarningProxy")return!0;if(typeof a=="symbol"){const u=a.toString();if(u==="Symbol(Symbol.toPrimitive)"||u==="Symbol(Symbol.toStringTag)"||u==="Symbol(util.inspect.custom)"||u==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(s,a,l)}return!r.value&&typeof a=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),r.value=!0),Reflect.get(s,a,l)}})}function uh(o){return JSON.parse(JSON.stringify(o))}const Nr=o=>o.msg||o.message||o.error_description||o.error||JSON.stringify(o),Kv=[502,503,504];async function ch(o){var r;if(!Iv(o))throw new Hi(Nr(o),0);if(Kv.includes(o.status))throw new Hi(Nr(o),o.status);let s;try{s=await o.json()}catch(u){throw new pr(Nr(u),u)}let a;const l=Fv(o);if(l&&l.getTime()>=Cf["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?a=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(a=s.error_code),a){if(a==="weak_password")throw new xl(Nr(s),o.status,((r=s.weak_password)===null||r===void 0?void 0:r.reasons)||[]);if(a==="session_not_found")throw new rt}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((u,d)=>u&&typeof d=="string",!0))throw new xl(Nr(s),o.status,s.weak_password.reasons);throw new jf(Nr(s),o.status||500,a)}const Gv=(o,r,s,a)=>{const l={method:o,headers:r?.headers||{}};return o==="GET"?l:(l.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},r?.headers),l.body=JSON.stringify(a),Object.assign(Object.assign({},l),s))};async function Z(o,r,s,a){var l;const u=Object.assign({},a?.headers);u[El]||(u[El]=Cf["2024-01-01"].name),a?.jwt&&(u.Authorization=`Bearer ${a.jwt}`);const d=(l=a?.query)!==null&&l!==void 0?l:{};a?.redirectTo&&(d.redirect_to=a.redirectTo);const f=Object.keys(d).length?"?"+new URLSearchParams(d).toString():"",g=await Jv(o,r,s+f,{headers:u,noResolveJson:a?.noResolveJson},{},a?.body);return a?.xform?a?.xform(g):{data:Object.assign({},g),error:null}}async function Jv(o,r,s,a,l,u){const d=Gv(r,a,l,u);let f;try{f=await o(s,Object.assign({},d))}catch(g){throw console.error(g),new Hi(Nr(g),0)}if(f.ok||await ch(f),a?.noResolveJson)return f;try{return await f.json()}catch(g){await ch(g)}}function Tt(o){var r;let s=null;Xv(o)&&(s=Object.assign({},o),o.expires_at||(s.expires_at=Rv(o.expires_in)));const a=(r=o.user)!==null&&r!==void 0?r:o;return{data:{session:s,user:a},error:null}}function dh(o){const r=Tt(o);return!r.error&&o.weak_password&&typeof o.weak_password=="object"&&Array.isArray(o.weak_password.reasons)&&o.weak_password.reasons.length&&o.weak_password.message&&typeof o.weak_password.message=="string"&&o.weak_password.reasons.reduce((s,a)=>s&&typeof a=="string",!0)&&(r.data.weak_password=o.weak_password),r}function gr(o){var r;return{data:{user:(r=o.user)!==null&&r!==void 0?r:o},error:null}}function Qv(o){return{data:o,error:null}}function Yv(o){const{action_link:r,email_otp:s,hashed_token:a,redirect_to:l,verification_type:u}=o,d=Sn(o,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),f={action_link:r,email_otp:s,hashed_token:a,redirect_to:l,verification_type:u},g=Object.assign({},d);return{data:{properties:f,user:g},error:null}}function hh(o){return o}function Xv(o){return o.access_token&&o.refresh_token&&o.expires_in}const zi=["global","local","others"];let Nl=class{constructor({url:r="",headers:s={},fetch:a}){this.url=r,this.headers=s,this.fetch=$f(a),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(r,s=zi[0]){if(zi.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${zi.join(", ")}`);try{return await Z(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:r,noResolveJson:!0}),{data:null,error:null}}catch(a){if(J(a))return{data:null,error:a};throw a}}async inviteUserByEmail(r,s={}){try{return await Z(this.fetch,"POST",`${this.url}/invite`,{body:{email:r,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:gr})}catch(a){if(J(a))return{data:{user:null},error:a};throw a}}async generateLink(r){try{const{options:s}=r,a=Sn(r,["options"]),l=Object.assign(Object.assign({},a),s);return"newEmail"in a&&(l.new_email=a?.newEmail,delete l.newEmail),await Z(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:l,headers:this.headers,xform:Yv,redirectTo:s?.redirectTo})}catch(s){if(J(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(r){try{return await Z(this.fetch,"POST",`${this.url}/admin/users`,{body:r,headers:this.headers,xform:gr})}catch(s){if(J(s))return{data:{user:null},error:s};throw s}}async listUsers(r){var s,a,l,u,d,f,g;try{const m={nextPage:null,lastPage:0,total:0},y=await Z(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(s=r?.page)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:"",per_page:(u=(l=r?.perPage)===null||l===void 0?void 0:l.toString())!==null&&u!==void 0?u:""},xform:hh});if(y.error)throw y.error;const w=await y.json(),E=(d=y.headers.get("x-total-count"))!==null&&d!==void 0?d:0,x=(g=(f=y.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&g!==void 0?g:[];return x.length>0&&(x.forEach(C=>{const R=parseInt(C.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(C.split(";")[1].split("=")[1]);m[`${j}Page`]=R}),m.total=parseInt(E)),{data:Object.assign(Object.assign({},w),m),error:null}}catch(m){if(J(m))return{data:{users:[]},error:m};throw m}}async getUserById(r){hn(r);try{return await Z(this.fetch,"GET",`${this.url}/admin/users/${r}`,{headers:this.headers,xform:gr})}catch(s){if(J(s))return{data:{user:null},error:s};throw s}}async updateUserById(r,s){hn(r);try{return await Z(this.fetch,"PUT",`${this.url}/admin/users/${r}`,{body:s,headers:this.headers,xform:gr})}catch(a){if(J(a))return{data:{user:null},error:a};throw a}}async deleteUser(r,s=!1){hn(r);try{return await Z(this.fetch,"DELETE",`${this.url}/admin/users/${r}`,{headers:this.headers,body:{should_soft_delete:s},xform:gr})}catch(a){if(J(a))return{data:{user:null},error:a};throw a}}async _listFactors(r){hn(r.userId);try{const{data:s,error:a}=await Z(this.fetch,"GET",`${this.url}/admin/users/${r.userId}/factors`,{headers:this.headers,xform:l=>({data:{factors:l},error:null})});return{data:s,error:a}}catch(s){if(J(s))return{data:null,error:s};throw s}}async _deleteFactor(r){hn(r.userId),hn(r.id);try{return{data:await Z(this.fetch,"DELETE",`${this.url}/admin/users/${r.userId}/factors/${r.id}`,{headers:this.headers}),error:null}}catch(s){if(J(s))return{data:null,error:s};throw s}}async _listOAuthClients(r){var s,a,l,u,d,f,g;try{const m={nextPage:null,lastPage:0,total:0},y=await Z(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(a=(s=r?.page)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:"",per_page:(u=(l=r?.perPage)===null||l===void 0?void 0:l.toString())!==null&&u!==void 0?u:""},xform:hh});if(y.error)throw y.error;const w=await y.json(),E=(d=y.headers.get("x-total-count"))!==null&&d!==void 0?d:0,x=(g=(f=y.headers.get("link"))===null||f===void 0?void 0:f.split(","))!==null&&g!==void 0?g:[];return x.length>0&&(x.forEach(C=>{const R=parseInt(C.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(C.split(";")[1].split("=")[1]);m[`${j}Page`]=R}),m.total=parseInt(E)),{data:Object.assign(Object.assign({},w),m),error:null}}catch(m){if(J(m))return{data:{clients:[]},error:m};throw m}}async _createOAuthClient(r){try{return await Z(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:r,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(J(s))return{data:null,error:s};throw s}}async _getOAuthClient(r){try{return await Z(this.fetch,"GET",`${this.url}/admin/oauth/clients/${r}`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(J(s))return{data:null,error:s};throw s}}async _updateOAuthClient(r,s){try{return await Z(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${r}`,{body:s,headers:this.headers,xform:a=>({data:a,error:null})})}catch(a){if(J(a))return{data:null,error:a};throw a}}async _deleteOAuthClient(r){try{return await Z(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${r}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(s){if(J(s))return{data:null,error:s};throw s}}async _regenerateOAuthClientSecret(r){try{return await Z(this.fetch,"POST",`${this.url}/admin/oauth/clients/${r}/regenerate_secret`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(J(s))return{data:null,error:s};throw s}}};function fh(o={}){return{getItem:r=>o[r]||null,setItem:(r,s)=>{o[r]=s},removeItem:r=>{delete o[r]}}}const Ir={debug:!!(globalThis&&If()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Il extends Error{constructor(r){super(r),this.isAcquireTimeout=!0}}let Lf=class extends Il{};class Zv extends Il{}async function Uf(o,r,s){Ir.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",o,r);const a=new globalThis.AbortController;return r>0&&setTimeout(()=>{a.abort(),Ir.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",o)},r),await Promise.resolve().then(()=>globalThis.navigator.locks.request(o,r===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:a.signal},async l=>{if(l){Ir.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",o,l.name);try{return await s()}finally{Ir.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",o,l.name)}}else{if(r===0)throw Ir.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",o),new Lf(`Acquiring an exclusive Navigator LockManager lock "${o}" immediately failed`);if(Ir.debug)try{const u=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(u,null,"  "))}catch(u){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",u)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}}))}const ph={};async function ey(o,r,s){var a;const l=(a=ph[o])!==null&&a!==void 0?a:Promise.resolve(),u=Promise.race([l.catch(()=>null),r>=0?new Promise((d,f)=>{setTimeout(()=>{f(new Zv(`Acquring process lock with name "${o}" timed out`))},r)}):null].filter(d=>d)).catch(d=>{if(d&&d.isAcquireTimeout)throw d;return null}).then(async()=>await s());return ph[o]=u.catch(async d=>{if(d&&d.isAcquireTimeout)return await l,null;throw d}),await u}function ty(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Df(o){if(!/^0x[a-fA-F0-9]{40}$/.test(o))throw new Error(`@supabase/auth-js: Address "${o}" is invalid.`);return o.toLowerCase()}function ry(o){return parseInt(o,16)}function ny(o){const r=new TextEncoder().encode(o);return"0x"+Array.from(r,a=>a.toString(16).padStart(2,"0")).join("")}function sy(o){var r;const{chainId:s,domain:a,expirationTime:l,issuedAt:u=new Date,nonce:d,notBefore:f,requestId:g,resources:m,scheme:y,uri:w,version:E}=o;{if(!Number.isInteger(s))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${s}`);if(!a)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(d&&d.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${d}`);if(!w)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(E!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${E}`);if(!((r=o.statement)===null||r===void 0)&&r.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${o.statement}`)}const x=Df(o.address),C=y?`${y}://${a}`:a,R=o.statement?`${o.statement}
`:"",j=`${C} wants you to sign in with your Ethereum account:
${x}

${R}`;let U=`URI: ${w}
Version: ${E}
Chain ID: ${s}${d?`
Nonce: ${d}`:""}
Issued At: ${u.toISOString()}`;if(l&&(U+=`
Expiration Time: ${l.toISOString()}`),f&&(U+=`
Not Before: ${f.toISOString()}`),g&&(U+=`
Request ID: ${g}`),m){let B=`
Resources:`;for(const $ of m){if(!$||typeof $!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${$}`);B+=`
- ${$}`}U+=B}return`${j}
${U}`}class Ae extends Error{constructor({message:r,code:s,cause:a,name:l}){var u;super(r,{cause:a}),this.__isWebAuthnError=!0,this.name=(u=l??(a instanceof Error?a.name:void 0))!==null&&u!==void 0?u:"Unknown Error",this.code=s}}class Ji extends Ae{constructor(r,s){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s,message:r}),this.name="WebAuthnUnknownError",this.originalError=s}}function iy({error:o,options:r}){var s,a,l;const{publicKey:u}=r;if(!u)throw Error("options was missing required publicKey property");if(o.name==="AbortError"){if(r.signal instanceof AbortSignal)return new Ae({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:o})}else if(o.name==="ConstraintError"){if(((s=u.authenticatorSelection)===null||s===void 0?void 0:s.requireResidentKey)===!0)return new Ae({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:o});if(r.mediation==="conditional"&&((a=u.authenticatorSelection)===null||a===void 0?void 0:a.userVerification)==="required")return new Ae({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:o});if(((l=u.authenticatorSelection)===null||l===void 0?void 0:l.userVerification)==="required")return new Ae({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:o})}else{if(o.name==="InvalidStateError")return new Ae({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:o});if(o.name==="NotAllowedError")return new Ae({message:o.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:o});if(o.name==="NotSupportedError")return u.pubKeyCredParams.filter(f=>f.type==="public-key").length===0?new Ae({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:o}):new Ae({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:o});if(o.name==="SecurityError"){const d=window.location.hostname;if(Bf(d)){if(u.rp.id!==d)return new Ae({message:`The RP ID "${u.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:o})}else return new Ae({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:o})}else if(o.name==="TypeError"){if(u.user.id.byteLength<1||u.user.id.byteLength>64)return new Ae({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:o})}else if(o.name==="UnknownError")return new Ae({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:o})}return new Ae({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:o})}function oy({error:o,options:r}){const{publicKey:s}=r;if(!s)throw Error("options was missing required publicKey property");if(o.name==="AbortError"){if(r.signal instanceof AbortSignal)return new Ae({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:o})}else{if(o.name==="NotAllowedError")return new Ae({message:o.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:o});if(o.name==="SecurityError"){const a=window.location.hostname;if(Bf(a)){if(s.rpId!==a)return new Ae({message:`The RP ID "${s.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:o})}else return new Ae({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:o})}else if(o.name==="UnknownError")return new Ae({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:o})}return new Ae({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:o})}class ay{createNewAbortSignal(){if(this.controller){const s=new Error("Cancelling existing WebAuthn API call for new one");s.name="AbortError",this.controller.abort(s)}const r=new AbortController;return this.controller=r,r.signal}cancelCeremony(){if(this.controller){const r=new Error("Manually cancelling existing WebAuthn API call");r.name="AbortError",this.controller.abort(r),this.controller=void 0}}}const ly=new ay;function uy(o){if(!o)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(o);const{challenge:r,user:s,excludeCredentials:a}=o,l=Sn(o,["challenge","user","excludeCredentials"]),u=vn(r).buffer,d=Object.assign(Object.assign({},s),{id:vn(s.id).buffer}),f=Object.assign(Object.assign({},l),{challenge:u,user:d});if(a&&a.length>0){f.excludeCredentials=new Array(a.length);for(let g=0;g<a.length;g++){const m=a[g];f.excludeCredentials[g]=Object.assign(Object.assign({},m),{id:vn(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return f}function cy(o){if(!o)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(o);const{challenge:r,allowCredentials:s}=o,a=Sn(o,["challenge","allowCredentials"]),l=vn(r).buffer,u=Object.assign(Object.assign({},a),{challenge:l});if(s&&s.length>0){u.allowCredentials=new Array(s.length);for(let d=0;d<s.length;d++){const f=s[d];u.allowCredentials[d]=Object.assign(Object.assign({},f),{id:vn(f.id).buffer,type:f.type||"public-key",transports:f.transports})}}return u}function dy(o){var r;if("toJSON"in o&&typeof o.toJSON=="function")return o.toJSON();const s=o;return{id:o.id,rawId:o.id,response:{attestationObject:Ur(new Uint8Array(o.response.attestationObject)),clientDataJSON:Ur(new Uint8Array(o.response.clientDataJSON))},type:"public-key",clientExtensionResults:o.getClientExtensionResults(),authenticatorAttachment:(r=s.authenticatorAttachment)!==null&&r!==void 0?r:void 0}}function hy(o){var r;if("toJSON"in o&&typeof o.toJSON=="function")return o.toJSON();const s=o,a=o.getClientExtensionResults(),l=o.response;return{id:o.id,rawId:o.id,response:{authenticatorData:Ur(new Uint8Array(l.authenticatorData)),clientDataJSON:Ur(new Uint8Array(l.clientDataJSON)),signature:Ur(new Uint8Array(l.signature)),userHandle:l.userHandle?Ur(new Uint8Array(l.userHandle)):void 0},type:"public-key",clientExtensionResults:a,authenticatorAttachment:(r=s.authenticatorAttachment)!==null&&r!==void 0?r:void 0}}function Bf(o){return o==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(o)}function gh(){var o,r;return!!(ze()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((o=navigator?.credentials)===null||o===void 0?void 0:o.create)=="function"&&typeof((r=navigator?.credentials)===null||r===void 0?void 0:r.get)=="function")}async function fy(o){try{const r=await navigator.credentials.create(o);return r?r instanceof PublicKeyCredential?{data:r,error:null}:{data:null,error:new Ji("Browser returned unexpected credential type",r)}:{data:null,error:new Ji("Empty credential response",r)}}catch(r){return{data:null,error:iy({error:r,options:o})}}}async function py(o){try{const r=await navigator.credentials.get(o);return r?r instanceof PublicKeyCredential?{data:r,error:null}:{data:null,error:new Ji("Browser returned unexpected credential type",r)}:{data:null,error:new Ji("Empty credential response",r)}}catch(r){return{data:null,error:oy({error:r,options:o})}}}const gy={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},my={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Qi(...o){const r=l=>l!==null&&typeof l=="object"&&!Array.isArray(l),s=l=>l instanceof ArrayBuffer||ArrayBuffer.isView(l),a={};for(const l of o)if(l)for(const u in l){const d=l[u];if(d!==void 0)if(Array.isArray(d))a[u]=d;else if(s(d))a[u]=d;else if(r(d)){const f=a[u];r(f)?a[u]=Qi(f,d):a[u]=Qi(d)}else a[u]=d}return a}function vy(o,r){return Qi(gy,o,r||{})}function yy(o,r){return Qi(my,o,r||{})}class wy{constructor(r){this.client=r,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(r){return this.client.mfa.enroll(Object.assign(Object.assign({},r),{factorType:"webauthn"}))}async _challenge({factorId:r,webauthn:s,friendlyName:a,signal:l},u){try{const{data:d,error:f}=await this.client.mfa.challenge({factorId:r,webauthn:s});if(!d)return{data:null,error:f};const g=l??ly.createNewAbortSignal();if(d.webauthn.type==="create"){const{user:m}=d.webauthn.credential_options.publicKey;m.name||(m.name=`${m.id}:${a}`),m.displayName||(m.displayName=m.name)}switch(d.webauthn.type){case"create":{const m=vy(d.webauthn.credential_options.publicKey,u?.create),{data:y,error:w}=await fy({publicKey:m,signal:g});return y?{data:{factorId:r,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:y}},error:null}:{data:null,error:w}}case"request":{const m=yy(d.webauthn.credential_options.publicKey,u?.request),{data:y,error:w}=await py(Object.assign(Object.assign({},d.webauthn.credential_options),{publicKey:m,signal:g}));return y?{data:{factorId:r,challengeId:d.id,webauthn:{type:d.webauthn.type,credential_response:y}},error:null}:{data:null,error:w}}}}catch(d){return J(d)?{data:null,error:d}:{data:null,error:new pr("Unexpected error in challenge",d)}}}async _verify({challengeId:r,factorId:s,webauthn:a}){return this.client.mfa.verify({factorId:s,challengeId:r,webauthn:a})}async _authenticate({factorId:r,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:l}={}},u){if(!s)return{data:null,error:new _n("rpId is required for WebAuthn authentication")};try{if(!gh())return{data:null,error:new pr("Browser does not support WebAuthn",null)};const{data:d,error:f}=await this.challenge({factorId:r,webauthn:{rpId:s,rpOrigins:a},signal:l},{request:u});if(!d)return{data:null,error:f};const{webauthn:g}=d;return this._verify({factorId:r,challengeId:d.challengeId,webauthn:{type:g.type,rpId:s,rpOrigins:a,credential_response:g.credential_response}})}catch(d){return J(d)?{data:null,error:d}:{data:null,error:new pr("Unexpected error in authenticate",d)}}}async _register({friendlyName:r,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:a=typeof window<"u"?[window.location.origin]:void 0,signal:l}={}},u){if(!s)return{data:null,error:new _n("rpId is required for WebAuthn registration")};try{if(!gh())return{data:null,error:new pr("Browser does not support WebAuthn",null)};const{data:d,error:f}=await this._enroll({friendlyName:r});if(!d)return await this.client.mfa.listFactors().then(y=>{var w;return(w=y.data)===null||w===void 0?void 0:w.all.find(E=>E.factor_type==="webauthn"&&E.friendly_name===r&&E.status!=="unverified")}).then(y=>y?this.client.mfa.unenroll({factorId:y?.id}):void 0),{data:null,error:f};const{data:g,error:m}=await this._challenge({factorId:d.id,friendlyName:d.friendly_name,webauthn:{rpId:s,rpOrigins:a},signal:l},{create:u});return g?this._verify({factorId:d.id,challengeId:g.challengeId,webauthn:{rpId:s,rpOrigins:a,type:g.webauthn.type,credential_response:g.webauthn.credential_response}}):{data:null,error:m}}catch(d){return J(d)?{data:null,error:d}:{data:null,error:new pr("Unexpected error in register",d)}}}}ty();const _y={url:_v,storageKey:Sv,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Ev,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function mh(o,r,s){return await s()}const fn={};let $l=class bl{get jwks(){var r,s;return(s=(r=fn[this.storageKey])===null||r===void 0?void 0:r.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(r){fn[this.storageKey]=Object.assign(Object.assign({},fn[this.storageKey]),{jwks:r})}get jwks_cached_at(){var r,s;return(s=(r=fn[this.storageKey])===null||r===void 0?void 0:r.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(r){fn[this.storageKey]=Object.assign(Object.assign({},fn[this.storageKey]),{cachedAt:r})}constructor(r){var s,a,l;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const u=Object.assign(Object.assign({},_y),r);if(this.storageKey=u.storageKey,this.instanceID=(s=bl.nextInstanceID[this.storageKey])!==null&&s!==void 0?s:0,bl.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!u.debug,typeof u.debug=="function"&&(this.logger=u.debug),this.instanceID>0&&ze()){const d=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(d),this.logDebugMessages&&console.trace(d)}if(this.persistSession=u.persistSession,this.autoRefreshToken=u.autoRefreshToken,this.admin=new Nl({url:u.url,headers:u.headers,fetch:u.fetch}),this.url=u.url,this.headers=u.headers,this.fetch=$f(u.fetch),this.lock=u.lock||mh,this.detectSessionInUrl=u.detectSessionInUrl,this.flowType=u.flowType,this.hasCustomAuthorizationHeader=u.hasCustomAuthorizationHeader,this.throwOnError=u.throwOnError,u.lock?this.lock=u.lock:ze()&&(!((a=globalThis?.navigator)===null||a===void 0)&&a.locks)?this.lock=Uf:this.lock=mh,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new wy(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(u.storage?this.storage=u.storage:If()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=fh(this.memoryStorage)),u.userStorage&&(this.userStorage=u.userStorage)):(this.memoryStorage={},this.storage=fh(this.memoryStorage)),ze()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(d){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",d)}(l=this.broadcastChannel)===null||l===void 0||l.addEventListener("message",async d=>{this._debug("received broadcast notification from other tab or client",d),await this._notifyAllSubscribers(d.data.event,d.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(r){if(this.throwOnError&&r&&r.error)throw r.error;return r}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Of}) ${new Date().toISOString()}`}_debug(...r){return this.logDebugMessages&&this.logger(this._logPrefix(),...r),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var r;try{let s={},a="none";if(ze()&&(s=Nv(window.location.href),this._isImplicitGrantCallback(s)?a="implicit":await this._isPKCECallback(s)&&(a="pkce")),ze()&&this.detectSessionInUrl&&a!=="none"){const{data:l,error:u}=await this._getSessionFromURL(s,a);if(u){if(this._debug("#_initialize()","error detecting session from URL",u),Af(u)){const g=(r=u.details)===null||r===void 0?void 0:r.code;if(g==="identity_already_exists"||g==="identity_not_found"||g==="single_identity_not_deletable")return{error:u}}return await this._removeSession(),{error:u}}const{session:d,redirectType:f}=l;return this._debug("#_initialize()","detected session in URL",d,"redirect type",f),await this._saveSession(d),setTimeout(async()=>{f==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",d):await this._notifyAllSubscribers("SIGNED_IN",d)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return J(s)?this._returnResult({error:s}):this._returnResult({error:new pr("Unexpected error during initialization",s)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(r){var s,a,l;try{const u=await Z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(a=(s=r?.options)===null||s===void 0?void 0:s.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:(l=r?.options)===null||l===void 0?void 0:l.captchaToken}},xform:Tt}),{data:d,error:f}=u;if(f||!d)return this._returnResult({data:{user:null,session:null},error:f});const g=d.session,m=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",g)),this._returnResult({data:{user:m,session:g},error:null})}catch(u){if(J(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signUp(r){var s,a,l;try{let u;if("email"in r){const{email:y,password:w,options:E}=r;let x=null,C=null;this.flowType==="pkce"&&([x,C]=await dn(this.storage,this.storageKey)),u=await Z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:E?.emailRedirectTo,body:{email:y,password:w,data:(s=E?.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:E?.captchaToken},code_challenge:x,code_challenge_method:C},xform:Tt})}else if("phone"in r){const{phone:y,password:w,options:E}=r;u=await Z(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:y,password:w,data:(a=E?.data)!==null&&a!==void 0?a:{},channel:(l=E?.channel)!==null&&l!==void 0?l:"sms",gotrue_meta_security:{captcha_token:E?.captchaToken}},xform:Tt})}else throw new ds("You must provide either an email or phone number and a password");const{data:d,error:f}=u;if(f||!d)return await Me(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:f});const g=d.session,m=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",g)),this._returnResult({data:{user:m,session:g},error:null})}catch(u){if(await Me(this.storage,`${this.storageKey}-code-verifier`),J(u))return this._returnResult({data:{user:null,session:null},error:u});throw u}}async signInWithPassword(r){try{let s;if("email"in r){const{email:u,password:d,options:f}=r;s=await Z(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:u,password:d,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:dh})}else if("phone"in r){const{phone:u,password:d,options:f}=r;s=await Z(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:u,password:d,gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:dh})}else throw new ds("You must provide either an email or phone number and a password");const{data:a,error:l}=s;if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!a||!a.session||!a.user){const u=new Ar;return this._returnResult({data:{user:null,session:null},error:u})}return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),this._returnResult({data:Object.assign({user:a.user,session:a.session},a.weak_password?{weakPassword:a.weak_password}:null),error:l})}catch(s){if(J(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOAuth(r){var s,a,l,u;return await this._handleProviderSignIn(r.provider,{redirectTo:(s=r.options)===null||s===void 0?void 0:s.redirectTo,scopes:(a=r.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=r.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:(u=r.options)===null||u===void 0?void 0:u.skipBrowserRedirect})}async exchangeCodeForSession(r){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(r))}async signInWithWeb3(r){const{chain:s}=r;switch(s){case"ethereum":return await this.signInWithEthereum(r);case"solana":return await this.signInWithSolana(r);default:throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}}async signInWithEthereum(r){var s,a,l,u,d,f,g,m,y,w,E;let x,C;if("message"in r)x=r.message,C=r.signature;else{const{chain:R,wallet:j,statement:U,options:B}=r;let $;if(ze())if(typeof j=="object")$=j;else{const Oe=window;if("ethereum"in Oe&&typeof Oe.ethereum=="object"&&"request"in Oe.ethereum&&typeof Oe.ethereum.request=="function")$=Oe.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof j!="object"||!B?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");$=j}const F=new URL((s=B?.url)!==null&&s!==void 0?s:window.location.href),ne=await $.request({method:"eth_requestAccounts"}).then(Oe=>Oe).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!ne||ne.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const re=Df(ne[0]);let Q=(a=B?.signInWithEthereum)===null||a===void 0?void 0:a.chainId;if(!Q){const Oe=await $.request({method:"eth_chainId"});Q=ry(Oe)}const ae={domain:F.host,address:re,statement:U,uri:F.href,version:"1",chainId:Q,nonce:(l=B?.signInWithEthereum)===null||l===void 0?void 0:l.nonce,issuedAt:(d=(u=B?.signInWithEthereum)===null||u===void 0?void 0:u.issuedAt)!==null&&d!==void 0?d:new Date,expirationTime:(f=B?.signInWithEthereum)===null||f===void 0?void 0:f.expirationTime,notBefore:(g=B?.signInWithEthereum)===null||g===void 0?void 0:g.notBefore,requestId:(m=B?.signInWithEthereum)===null||m===void 0?void 0:m.requestId,resources:(y=B?.signInWithEthereum)===null||y===void 0?void 0:y.resources};x=sy(ae),C=await $.request({method:"personal_sign",params:[ny(x),re]})}try{const{data:R,error:j}=await Z(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:x,signature:C},!((w=r.options)===null||w===void 0)&&w.captchaToken?{gotrue_meta_security:{captcha_token:(E=r.options)===null||E===void 0?void 0:E.captchaToken}}:null),xform:Tt});if(j)throw j;if(!R||!R.session||!R.user){const U=new Ar;return this._returnResult({data:{user:null,session:null},error:U})}return R.session&&(await this._saveSession(R.session),await this._notifyAllSubscribers("SIGNED_IN",R.session)),this._returnResult({data:Object.assign({},R),error:j})}catch(R){if(J(R))return this._returnResult({data:{user:null,session:null},error:R});throw R}}async signInWithSolana(r){var s,a,l,u,d,f,g,m,y,w,E,x;let C,R;if("message"in r)C=r.message,R=r.signature;else{const{chain:j,wallet:U,statement:B,options:$}=r;let F;if(ze())if(typeof U=="object")F=U;else{const re=window;if("solana"in re&&typeof re.solana=="object"&&("signIn"in re.solana&&typeof re.solana.signIn=="function"||"signMessage"in re.solana&&typeof re.solana.signMessage=="function"))F=re.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof U!="object"||!$?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");F=U}const ne=new URL((s=$?.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in F&&F.signIn){const re=await F.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},$?.signInWithSolana),{version:"1",domain:ne.host,uri:ne.href}),B?{statement:B}:null));let Q;if(Array.isArray(re)&&re[0]&&typeof re[0]=="object")Q=re[0];else if(re&&typeof re=="object"&&"signedMessage"in re&&"signature"in re)Q=re;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in Q&&"signature"in Q&&(typeof Q.signedMessage=="string"||Q.signedMessage instanceof Uint8Array)&&Q.signature instanceof Uint8Array)C=typeof Q.signedMessage=="string"?Q.signedMessage:new TextDecoder().decode(Q.signedMessage),R=Q.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in F)||typeof F.signMessage!="function"||!("publicKey"in F)||typeof F!="object"||!F.publicKey||!("toBase58"in F.publicKey)||typeof F.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");C=[`${ne.host} wants you to sign in with your Solana account:`,F.publicKey.toBase58(),...B?["",B,""]:[""],"Version: 1",`URI: ${ne.href}`,`Issued At: ${(l=(a=$?.signInWithSolana)===null||a===void 0?void 0:a.issuedAt)!==null&&l!==void 0?l:new Date().toISOString()}`,...!((u=$?.signInWithSolana)===null||u===void 0)&&u.notBefore?[`Not Before: ${$.signInWithSolana.notBefore}`]:[],...!((d=$?.signInWithSolana)===null||d===void 0)&&d.expirationTime?[`Expiration Time: ${$.signInWithSolana.expirationTime}`]:[],...!((f=$?.signInWithSolana)===null||f===void 0)&&f.chainId?[`Chain ID: ${$.signInWithSolana.chainId}`]:[],...!((g=$?.signInWithSolana)===null||g===void 0)&&g.nonce?[`Nonce: ${$.signInWithSolana.nonce}`]:[],...!((m=$?.signInWithSolana)===null||m===void 0)&&m.requestId?[`Request ID: ${$.signInWithSolana.requestId}`]:[],...!((w=(y=$?.signInWithSolana)===null||y===void 0?void 0:y.resources)===null||w===void 0)&&w.length?["Resources",...$.signInWithSolana.resources.map(Q=>`- ${Q}`)]:[]].join(`
`);const re=await F.signMessage(new TextEncoder().encode(C),"utf8");if(!re||!(re instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");R=re}}try{const{data:j,error:U}=await Z(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:C,signature:Ur(R)},!((E=r.options)===null||E===void 0)&&E.captchaToken?{gotrue_meta_security:{captcha_token:(x=r.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:Tt});if(U)throw U;if(!j||!j.session||!j.user){const B=new Ar;return this._returnResult({data:{user:null,session:null},error:B})}return j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),this._returnResult({data:Object.assign({},j),error:U})}catch(j){if(J(j))return this._returnResult({data:{user:null,session:null},error:j});throw j}}async _exchangeCodeForSession(r){const s=await Rr(this.storage,`${this.storageKey}-code-verifier`),[a,l]=(s??"").split("/");try{const{data:u,error:d}=await Z(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:r,code_verifier:a},xform:Tt});if(await Me(this.storage,`${this.storageKey}-code-verifier`),d)throw d;if(!u||!u.session||!u.user){const f=new Ar;return this._returnResult({data:{user:null,session:null,redirectType:null},error:f})}return u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),this._returnResult({data:Object.assign(Object.assign({},u),{redirectType:l??null}),error:d})}catch(u){if(await Me(this.storage,`${this.storageKey}-code-verifier`),J(u))return this._returnResult({data:{user:null,session:null,redirectType:null},error:u});throw u}}async signInWithIdToken(r){try{const{options:s,provider:a,token:l,access_token:u,nonce:d}=r,f=await Z(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:a,id_token:l,access_token:u,nonce:d,gotrue_meta_security:{captcha_token:s?.captchaToken}},xform:Tt}),{data:g,error:m}=f;if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!g||!g.session||!g.user){const y=new Ar;return this._returnResult({data:{user:null,session:null},error:y})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:g,error:m})}catch(s){if(J(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOtp(r){var s,a,l,u,d;try{if("email"in r){const{email:f,options:g}=r;let m=null,y=null;this.flowType==="pkce"&&([m,y]=await dn(this.storage,this.storageKey));const{error:w}=await Z(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:f,data:(s=g?.data)!==null&&s!==void 0?s:{},create_user:(a=g?.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:g?.captchaToken},code_challenge:m,code_challenge_method:y},redirectTo:g?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:w})}if("phone"in r){const{phone:f,options:g}=r,{data:m,error:y}=await Z(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:f,data:(l=g?.data)!==null&&l!==void 0?l:{},create_user:(u=g?.shouldCreateUser)!==null&&u!==void 0?u:!0,gotrue_meta_security:{captcha_token:g?.captchaToken},channel:(d=g?.channel)!==null&&d!==void 0?d:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:m?.message_id},error:y})}throw new ds("You must provide either an email or phone number.")}catch(f){if(await Me(this.storage,`${this.storageKey}-code-verifier`),J(f))return this._returnResult({data:{user:null,session:null},error:f});throw f}}async verifyOtp(r){var s,a;try{let l,u;"options"in r&&(l=(s=r.options)===null||s===void 0?void 0:s.redirectTo,u=(a=r.options)===null||a===void 0?void 0:a.captchaToken);const{data:d,error:f}=await Z(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},r),{gotrue_meta_security:{captcha_token:u}}),redirectTo:l,xform:Tt});if(f)throw f;if(!d)throw new Error("An error occurred on token verification.");const g=d.session,m=d.user;return g?.access_token&&(await this._saveSession(g),await this._notifyAllSubscribers(r.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",g)),this._returnResult({data:{user:m,session:g},error:null})}catch(l){if(J(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithSSO(r){var s,a,l,u,d;try{let f=null,g=null;this.flowType==="pkce"&&([f,g]=await dn(this.storage,this.storageKey));const m=await Z(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in r?{provider_id:r.providerId}:null),"domain"in r?{domain:r.domain}:null),{redirect_to:(a=(s=r.options)===null||s===void 0?void 0:s.redirectTo)!==null&&a!==void 0?a:void 0}),!((l=r?.options)===null||l===void 0)&&l.captchaToken?{gotrue_meta_security:{captcha_token:r.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:f,code_challenge_method:g}),headers:this.headers,xform:Qv});return!((u=m.data)===null||u===void 0)&&u.url&&ze()&&!(!((d=r.options)===null||d===void 0)&&d.skipBrowserRedirect)&&window.location.assign(m.data.url),this._returnResult(m)}catch(f){if(await Me(this.storage,`${this.storageKey}-code-verifier`),J(f))return this._returnResult({data:null,error:f});throw f}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async r=>{const{data:{session:s},error:a}=r;if(a)throw a;if(!s)throw new rt;const{error:l}=await Z(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return this._returnResult({data:{user:null,session:null},error:l})})}catch(r){if(J(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async resend(r){try{const s=`${this.url}/resend`;if("email"in r){const{email:a,type:l,options:u}=r,{error:d}=await Z(this.fetch,"POST",s,{headers:this.headers,body:{email:a,type:l,gotrue_meta_security:{captcha_token:u?.captchaToken}},redirectTo:u?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:d})}else if("phone"in r){const{phone:a,type:l,options:u}=r,{data:d,error:f}=await Z(this.fetch,"POST",s,{headers:this.headers,body:{phone:a,type:l,gotrue_meta_security:{captcha_token:u?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:d?.message_id},error:f})}throw new ds("You must provide either an email or phone number and a type")}catch(s){if(J(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async s=>s))}async _acquireLock(r,s){this._debug("#_acquireLock","begin",r);try{if(this.lockAcquired){const a=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),l=(async()=>(await a,await s()))();return this.pendingInLock.push((async()=>{try{await l}catch{}})()),l}return await this.lock(`lock:${this.storageKey}`,r,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const a=s();for(this.pendingInLock.push((async()=>{try{await a}catch{}})()),await a;this.pendingInLock.length;){const l=[...this.pendingInLock];await Promise.all(l),this.pendingInLock.splice(0,l.length)}return await a}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(r){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await r(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let r=null;const s=await Rr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?r=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!r)return{data:{session:null},error:null};const a=r.expires_at?r.expires_at*1e3-Date.now()<il:!1;if(this._debug("#__loadSession()",`session has${a?"":" not"} expired`,"expires_at",r.expires_at),!a){if(this.userStorage){const d=await Rr(this.userStorage,this.storageKey+"-user");d?.user?r.user=d.user:r.user=al()}if(this.storage.isServer&&r.user&&!r.user.__isUserNotAvailableProxy){const d={value:this.suppressGetSessionWarning};r.user=Hv(r.user,d),d.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:r},error:null}}const{data:l,error:u}=await this._callRefreshToken(r.refresh_token);return u?this._returnResult({data:{session:null},error:u}):this._returnResult({data:{session:l},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(r){if(r)return await this._getUser(r);await this.initializePromise;const s=await this._acquireLock(-1,async()=>await this._getUser());return s.data.user&&(this.suppressGetSessionWarning=!0),s}async _getUser(r){try{return r?await Z(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:r,xform:gr}):await this._useSession(async s=>{var a,l,u;const{data:d,error:f}=s;if(f)throw f;return!(!((a=d.session)===null||a===void 0)&&a.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new rt}:await Z(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(u=(l=d.session)===null||l===void 0?void 0:l.access_token)!==null&&u!==void 0?u:void 0,xform:gr})})}catch(s){if(J(s))return Rf(s)&&(await this._removeSession(),await Me(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:s});throw s}}async updateUser(r,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(r,s))}async _updateUser(r,s={}){try{return await this._useSession(async a=>{const{data:l,error:u}=a;if(u)throw u;if(!l.session)throw new rt;const d=l.session;let f=null,g=null;this.flowType==="pkce"&&r.email!=null&&([f,g]=await dn(this.storage,this.storageKey));const{data:m,error:y}=await Z(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s?.emailRedirectTo,body:Object.assign(Object.assign({},r),{code_challenge:f,code_challenge_method:g}),jwt:d.access_token,xform:gr});if(y)throw y;return d.user=m.user,await this._saveSession(d),await this._notifyAllSubscribers("USER_UPDATED",d),this._returnResult({data:{user:d.user},error:null})})}catch(a){if(await Me(this.storage,`${this.storageKey}-code-verifier`),J(a))return this._returnResult({data:{user:null},error:a});throw a}}async setSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(r))}async _setSession(r){try{if(!r.access_token||!r.refresh_token)throw new rt;const s=Date.now()/1e3;let a=s,l=!0,u=null;const{payload:d}=ol(r.access_token);if(d.exp&&(a=d.exp,l=a<=s),l){const{data:f,error:g}=await this._callRefreshToken(r.refresh_token);if(g)return this._returnResult({data:{user:null,session:null},error:g});if(!f)return{data:{user:null,session:null},error:null};u=f}else{const{data:f,error:g}=await this._getUser(r.access_token);if(g)throw g;u={access_token:r.access_token,refresh_token:r.refresh_token,user:f.user,token_type:"bearer",expires_in:a-s,expires_at:a},await this._saveSession(u),await this._notifyAllSubscribers("SIGNED_IN",u)}return this._returnResult({data:{user:u.user,session:u},error:null})}catch(s){if(J(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}}async refreshSession(r){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(r))}async _refreshSession(r){try{return await this._useSession(async s=>{var a;if(!r){const{data:d,error:f}=s;if(f)throw f;r=(a=d.session)!==null&&a!==void 0?a:void 0}if(!r?.refresh_token)throw new rt;const{data:l,error:u}=await this._callRefreshToken(r.refresh_token);return u?this._returnResult({data:{user:null,session:null},error:u}):l?this._returnResult({data:{user:l.user,session:l},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(s){if(J(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async _getSessionFromURL(r,s){try{if(!ze())throw new hs("No browser detected.");if(r.error||r.error_description||r.error_code)throw new hs(r.error_description||"Error in URL with unspecified error_description",{error:r.error||"unspecified_error",code:r.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new kl("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new hs("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!r.code)throw new kl("No code detected.");const{data:B,error:$}=await this._exchangeCodeForSession(r.code);if($)throw $;const F=new URL(window.location.href);return F.searchParams.delete("code"),window.history.replaceState(window.history.state,"",F.toString()),{data:{session:B.session,redirectType:null},error:null}}const{provider_token:a,provider_refresh_token:l,access_token:u,refresh_token:d,expires_in:f,expires_at:g,token_type:m}=r;if(!u||!f||!d||!m)throw new hs("No session defined in URL");const y=Math.round(Date.now()/1e3),w=parseInt(f);let E=y+w;g&&(E=parseInt(g));const x=E-y;x*1e3<=pn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${x}s, should have been closer to ${w}s`);const C=E-w;y-C>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",C,E,y):y-C<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",C,E,y);const{data:R,error:j}=await this._getUser(u);if(j)throw j;const U={provider_token:a,provider_refresh_token:l,access_token:u,expires_in:w,expires_at:E,refresh_token:d,token_type:m,user:R.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:U,redirectType:r.type},error:null})}catch(a){if(J(a))return this._returnResult({data:{session:null,redirectType:null},error:a});throw a}}_isImplicitGrantCallback(r){return!!(r.access_token||r.error_description)}async _isPKCECallback(r){const s=await Rr(this.storage,`${this.storageKey}-code-verifier`);return!!(r.code&&s)}async signOut(r={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(r))}async _signOut({scope:r}={scope:"global"}){return await this._useSession(async s=>{var a;const{data:l,error:u}=s;if(u)return this._returnResult({error:u});const d=(a=l.session)===null||a===void 0?void 0:a.access_token;if(d){const{error:f}=await this.admin.signOut(d,r);if(f&&!(Pf(f)&&(f.status===404||f.status===401||f.status===403)))return this._returnResult({error:f})}return r!=="others"&&(await this._removeSession(),await Me(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(r){const s=Av(),a={id:s,callback:r,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,a),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:a}}}async _emitInitialSession(r){return await this._useSession(async s=>{var a,l;try{const{data:{session:u},error:d}=s;if(d)throw d;await((a=this.stateChangeEmitters.get(r))===null||a===void 0?void 0:a.callback("INITIAL_SESSION",u)),this._debug("INITIAL_SESSION","callback id",r,"session",u)}catch(u){await((l=this.stateChangeEmitters.get(r))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",r,"error",u),console.error(u)}})}async resetPasswordForEmail(r,s={}){let a=null,l=null;this.flowType==="pkce"&&([a,l]=await dn(this.storage,this.storageKey,!0));try{return await Z(this.fetch,"POST",`${this.url}/recover`,{body:{email:r,code_challenge:a,code_challenge_method:l,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(u){if(await Me(this.storage,`${this.storageKey}-code-verifier`),J(u))return this._returnResult({data:null,error:u});throw u}}async getUserIdentities(){var r;try{const{data:s,error:a}=await this.getUser();if(a)throw a;return this._returnResult({data:{identities:(r=s.user.identities)!==null&&r!==void 0?r:[]},error:null})}catch(s){if(J(s))return this._returnResult({data:null,error:s});throw s}}async linkIdentity(r){return"token"in r?this.linkIdentityIdToken(r):this.linkIdentityOAuth(r)}async linkIdentityOAuth(r){var s;try{const{data:a,error:l}=await this._useSession(async u=>{var d,f,g,m,y;const{data:w,error:E}=u;if(E)throw E;const x=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,r.provider,{redirectTo:(d=r.options)===null||d===void 0?void 0:d.redirectTo,scopes:(f=r.options)===null||f===void 0?void 0:f.scopes,queryParams:(g=r.options)===null||g===void 0?void 0:g.queryParams,skipBrowserRedirect:!0});return await Z(this.fetch,"GET",x,{headers:this.headers,jwt:(y=(m=w.session)===null||m===void 0?void 0:m.access_token)!==null&&y!==void 0?y:void 0})});if(l)throw l;return ze()&&!(!((s=r.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(a?.url),this._returnResult({data:{provider:r.provider,url:a?.url},error:null})}catch(a){if(J(a))return this._returnResult({data:{provider:r.provider,url:null},error:a});throw a}}async linkIdentityIdToken(r){return await this._useSession(async s=>{var a;try{const{error:l,data:{session:u}}=s;if(l)throw l;const{options:d,provider:f,token:g,access_token:m,nonce:y}=r,w=await Z(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(a=u?.access_token)!==null&&a!==void 0?a:void 0,body:{provider:f,id_token:g,access_token:m,nonce:y,link_identity:!0,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:Tt}),{data:E,error:x}=w;return x?this._returnResult({data:{user:null,session:null},error:x}):!E||!E.session||!E.user?this._returnResult({data:{user:null,session:null},error:new Ar}):(E.session&&(await this._saveSession(E.session),await this._notifyAllSubscribers("USER_UPDATED",E.session)),this._returnResult({data:E,error:x}))}catch(l){if(await Me(this.storage,`${this.storageKey}-code-verifier`),J(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}})}async unlinkIdentity(r){try{return await this._useSession(async s=>{var a,l;const{data:u,error:d}=s;if(d)throw d;return await Z(this.fetch,"DELETE",`${this.url}/user/identities/${r.identity_id}`,{headers:this.headers,jwt:(l=(a=u.session)===null||a===void 0?void 0:a.access_token)!==null&&l!==void 0?l:void 0})})}catch(s){if(J(s))return this._returnResult({data:null,error:s});throw s}}async _refreshAccessToken(r){const s=`#_refreshAccessToken(${r.substring(0,5)}...)`;this._debug(s,"begin");try{const a=Date.now();return await Lv(async l=>(l>0&&await $v(200*Math.pow(2,l-1)),this._debug(s,"refreshing attempt",l),await Z(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:r},headers:this.headers,xform:Tt})),(l,u)=>{const d=200*Math.pow(2,l);return u&&Mi(u)&&Date.now()+d-a<pn})}catch(a){if(this._debug(s,"error",a),J(a))return this._returnResult({data:{session:null,user:null},error:a});throw a}finally{this._debug(s,"end")}}_isValidSession(r){return typeof r=="object"&&r!==null&&"access_token"in r&&"refresh_token"in r&&"expires_at"in r}async _handleProviderSignIn(r,s){const a=await this._getUrlForProvider(`${this.url}/authorize`,r,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",r,"options",s,"url",a),ze()&&!s.skipBrowserRedirect&&window.location.assign(a),{data:{provider:r,url:a},error:null}}async _recoverAndRefresh(){var r,s;const a="#_recoverAndRefresh()";this._debug(a,"begin");try{const l=await Rr(this.storage,this.storageKey);if(l&&this.userStorage){let d=await Rr(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!d&&(d={user:l.user},await gn(this.userStorage,this.storageKey+"-user",d)),l.user=(r=d?.user)!==null&&r!==void 0?r:al()}else if(l&&!l.user&&!l.user){const d=await Rr(this.storage,this.storageKey+"-user");d&&d?.user?(l.user=d.user,await Me(this.storage,this.storageKey+"-user"),await gn(this.storage,this.storageKey,l)):l.user=al()}if(this._debug(a,"session from storage",l),!this._isValidSession(l)){this._debug(a,"session is not valid"),l!==null&&await this._removeSession();return}const u=((s=l.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<il;if(this._debug(a,`session has${u?"":" not"} expired with margin of ${il}s`),u){if(this.autoRefreshToken&&l.refresh_token){const{error:d}=await this._callRefreshToken(l.refresh_token);d&&(console.error(d),Mi(d)||(this._debug(a,"refresh failed with a non-retryable error, removing the session",d),await this._removeSession()))}}else if(l.user&&l.user.__isUserNotAvailableProxy===!0)try{const{data:d,error:f}=await this._getUser(l.access_token);!f&&d?.user?(l.user=d.user,await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)):this._debug(a,"could not get user data, skipping SIGNED_IN notification")}catch(d){console.error("Error getting user data:",d),this._debug(a,"error getting user data, skipping SIGNED_IN notification",d)}else await this._notifyAllSubscribers("SIGNED_IN",l)}catch(l){this._debug(a,"error",l),console.error(l);return}finally{this._debug(a,"end")}}async _callRefreshToken(r){var s,a;if(!r)throw new rt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const l=`#_callRefreshToken(${r.substring(0,5)}...)`;this._debug(l,"begin");try{this.refreshingDeferred=new eo;const{data:u,error:d}=await this._refreshAccessToken(r);if(d)throw d;if(!u.session)throw new rt;await this._saveSession(u.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",u.session);const f={data:u.session,error:null};return this.refreshingDeferred.resolve(f),f}catch(u){if(this._debug(l,"error",u),J(u)){const d={data:null,error:u};return Mi(u)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(d),d}throw(a=this.refreshingDeferred)===null||a===void 0||a.reject(u),u}finally{this.refreshingDeferred=null,this._debug(l,"end")}}async _notifyAllSubscribers(r,s,a=!0){const l=`#_notifyAllSubscribers(${r})`;this._debug(l,"begin",s,`broadcast = ${a}`);try{this.broadcastChannel&&a&&this.broadcastChannel.postMessage({event:r,session:s});const u=[],d=Array.from(this.stateChangeEmitters.values()).map(async f=>{try{await f.callback(r,s)}catch(g){u.push(g)}});if(await Promise.all(d),u.length>0){for(let f=0;f<u.length;f+=1)console.error(u[f]);throw u[0]}}finally{this._debug(l,"end")}}async _saveSession(r){this._debug("#_saveSession()",r),this.suppressGetSessionWarning=!0,await Me(this.storage,`${this.storageKey}-code-verifier`);const s=Object.assign({},r),a=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!a&&s.user&&await gn(this.userStorage,this.storageKey+"-user",{user:s.user});const l=Object.assign({},s);delete l.user;const u=uh(l);await gn(this.storage,this.storageKey,u)}else{const l=uh(s);await gn(this.storage,this.storageKey,l)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Me(this.storage,this.storageKey),await Me(this.storage,this.storageKey+"-code-verifier"),await Me(this.storage,this.storageKey+"-user"),this.userStorage&&await Me(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const r=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{r&&ze()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",r)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const r=setInterval(()=>this._autoRefreshTokenTick(),pn);this.autoRefreshTicker=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const r=this.autoRefreshTicker;this.autoRefreshTicker=null,r&&clearInterval(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const r=Date.now();try{return await this._useSession(async s=>{const{data:{session:a}}=s;if(!a||!a.refresh_token||!a.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const l=Math.floor((a.expires_at*1e3-r)/pn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${l} ticks, a tick lasts ${pn}ms, refresh threshold is ${Sl} ticks`),l<=Sl&&await this._callRefreshToken(a.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(r){if(r.isAcquireTimeout||r instanceof Il)this._debug("auto refresh token tick lock not available");else throw r}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ze()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(r){console.error("_handleVisibilityChange",r)}}async _onVisibilityChanged(r){const s=`#_onVisibilityChanged(${r})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),r||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(r,s,a){const l=[`provider=${encodeURIComponent(s)}`];if(a?.redirectTo&&l.push(`redirect_to=${encodeURIComponent(a.redirectTo)}`),a?.scopes&&l.push(`scopes=${encodeURIComponent(a.scopes)}`),this.flowType==="pkce"){const[u,d]=await dn(this.storage,this.storageKey),f=new URLSearchParams({code_challenge:`${encodeURIComponent(u)}`,code_challenge_method:`${encodeURIComponent(d)}`});l.push(f.toString())}if(a?.queryParams){const u=new URLSearchParams(a.queryParams);l.push(u.toString())}return a?.skipBrowserRedirect&&l.push(`skip_http_redirect=${a.skipBrowserRedirect}`),`${r}?${l.join("&")}`}async _unenroll(r){try{return await this._useSession(async s=>{var a;const{data:l,error:u}=s;return u?this._returnResult({data:null,error:u}):await Z(this.fetch,"DELETE",`${this.url}/factors/${r.factorId}`,{headers:this.headers,jwt:(a=l?.session)===null||a===void 0?void 0:a.access_token})})}catch(s){if(J(s))return this._returnResult({data:null,error:s});throw s}}async _enroll(r){try{return await this._useSession(async s=>{var a,l;const{data:u,error:d}=s;if(d)return this._returnResult({data:null,error:d});const f=Object.assign({friendly_name:r.friendlyName,factor_type:r.factorType},r.factorType==="phone"?{phone:r.phone}:r.factorType==="totp"?{issuer:r.issuer}:{}),{data:g,error:m}=await Z(this.fetch,"POST",`${this.url}/factors`,{body:f,headers:this.headers,jwt:(a=u?.session)===null||a===void 0?void 0:a.access_token});return m?this._returnResult({data:null,error:m}):(r.factorType==="totp"&&g.type==="totp"&&(!((l=g?.totp)===null||l===void 0)&&l.qr_code)&&(g.totp.qr_code=`data:image/svg+xml;utf-8,${g.totp.qr_code}`),this._returnResult({data:g,error:null}))})}catch(s){if(J(s))return this._returnResult({data:null,error:s});throw s}}async _verify(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var a;const{data:l,error:u}=s;if(u)return this._returnResult({data:null,error:u});const d=Object.assign({challenge_id:r.challengeId},"webauthn"in r?{webauthn:Object.assign(Object.assign({},r.webauthn),{credential_response:r.webauthn.type==="create"?dy(r.webauthn.credential_response):hy(r.webauthn.credential_response)})}:{code:r.code}),{data:f,error:g}=await Z(this.fetch,"POST",`${this.url}/factors/${r.factorId}/verify`,{body:d,headers:this.headers,jwt:(a=l?.session)===null||a===void 0?void 0:a.access_token});return g?this._returnResult({data:null,error:g}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+f.expires_in},f)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",f),this._returnResult({data:f,error:g}))})}catch(s){if(J(s))return this._returnResult({data:null,error:s});throw s}})}async _challenge(r){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var a;const{data:l,error:u}=s;if(u)return this._returnResult({data:null,error:u});const d=await Z(this.fetch,"POST",`${this.url}/factors/${r.factorId}/challenge`,{body:r,headers:this.headers,jwt:(a=l?.session)===null||a===void 0?void 0:a.access_token});if(d.error)return d;const{data:f}=d;if(f.type!=="webauthn")return{data:f,error:null};switch(f.webauthn.type){case"create":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:uy(f.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},f),{webauthn:Object.assign(Object.assign({},f.webauthn),{credential_options:Object.assign(Object.assign({},f.webauthn.credential_options),{publicKey:cy(f.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(s){if(J(s))return this._returnResult({data:null,error:s});throw s}})}async _challengeAndVerify(r){const{data:s,error:a}=await this._challenge({factorId:r.factorId});return a?this._returnResult({data:null,error:a}):await this._verify({factorId:r.factorId,challengeId:s.id,code:r.code})}async _listFactors(){var r;const{data:{user:s},error:a}=await this.getUser();if(a)return{data:null,error:a};const l={all:[],phone:[],totp:[],webauthn:[]};for(const u of(r=s?.factors)!==null&&r!==void 0?r:[])l.all.push(u),u.status==="verified"&&l[u.factor_type].push(u);return{data:l,error:null}}async _getAuthenticatorAssuranceLevel(){var r,s;const{data:{session:a},error:l}=await this.getSession();if(l)return this._returnResult({data:null,error:l});if(!a)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:u}=ol(a.access_token);let d=null;u.aal&&(d=u.aal);let f=d;((s=(r=a.user.factors)===null||r===void 0?void 0:r.filter(y=>y.status==="verified"))!==null&&s!==void 0?s:[]).length>0&&(f="aal2");const m=u.amr||[];return{data:{currentLevel:d,nextLevel:f,currentAuthenticationMethods:m},error:null}}async _getAuthorizationDetails(r){try{return await this._useSession(async s=>{const{data:{session:a},error:l}=s;return l?this._returnResult({data:null,error:l}):a?await Z(this.fetch,"GET",`${this.url}/oauth/authorizations/${r}`,{headers:this.headers,jwt:a.access_token,xform:u=>({data:u,error:null})}):this._returnResult({data:null,error:new rt})})}catch(s){if(J(s))return this._returnResult({data:null,error:s});throw s}}async _approveAuthorization(r,s){try{return await this._useSession(async a=>{const{data:{session:l},error:u}=a;if(u)return this._returnResult({data:null,error:u});if(!l)return this._returnResult({data:null,error:new rt});const d=await Z(this.fetch,"POST",`${this.url}/oauth/authorizations/${r}/consent`,{headers:this.headers,jwt:l.access_token,body:{action:"approve"},xform:f=>({data:f,error:null})});return d.data&&d.data.redirect_url&&ze()&&!s?.skipBrowserRedirect&&window.location.assign(d.data.redirect_url),d})}catch(a){if(J(a))return this._returnResult({data:null,error:a});throw a}}async _denyAuthorization(r,s){try{return await this._useSession(async a=>{const{data:{session:l},error:u}=a;if(u)return this._returnResult({data:null,error:u});if(!l)return this._returnResult({data:null,error:new rt});const d=await Z(this.fetch,"POST",`${this.url}/oauth/authorizations/${r}/consent`,{headers:this.headers,jwt:l.access_token,body:{action:"deny"},xform:f=>({data:f,error:null})});return d.data&&d.data.redirect_url&&ze()&&!s?.skipBrowserRedirect&&window.location.assign(d.data.redirect_url),d})}catch(a){if(J(a))return this._returnResult({data:null,error:a});throw a}}async _listOAuthGrants(){try{return await this._useSession(async r=>{const{data:{session:s},error:a}=r;return a?this._returnResult({data:null,error:a}):s?await Z(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,xform:l=>({data:l,error:null})}):this._returnResult({data:null,error:new rt})})}catch(r){if(J(r))return this._returnResult({data:null,error:r});throw r}}async _revokeOAuthGrant(r){try{return await this._useSession(async s=>{const{data:{session:a},error:l}=s;return l?this._returnResult({data:null,error:l}):a?(await Z(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:a.access_token,query:{client_id:r.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new rt})})}catch(s){if(J(s))return this._returnResult({data:null,error:s});throw s}}async fetchJwk(r,s={keys:[]}){let a=s.keys.find(f=>f.kid===r);if(a)return a;const l=Date.now();if(a=this.jwks.keys.find(f=>f.kid===r),a&&this.jwks_cached_at+xv>l)return a;const{data:u,error:d}=await Z(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(d)throw d;return!u.keys||u.keys.length===0||(this.jwks=u,this.jwks_cached_at=l,a=u.keys.find(f=>f.kid===r),!a)?null:a}async getClaims(r,s={}){try{let a=r;if(!a){const{data:x,error:C}=await this.getSession();if(C||!x.session)return this._returnResult({data:null,error:C});a=x.session.access_token}const{header:l,payload:u,signature:d,raw:{header:f,payload:g}}=ol(a);s?.allowExpired||Vv(u.exp);const m=!l.alg||l.alg.startsWith("HS")||!l.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(l.kid,s?.keys?{keys:s.keys}:s?.jwks);if(!m){const{error:x}=await this.getUser(a);if(x)throw x;return{data:{claims:u,header:l,signature:d},error:null}}const y=Wv(l.alg),w=await crypto.subtle.importKey("jwk",m,y,!0,["verify"]);if(!await crypto.subtle.verify(y,w,d,Pv(`${f}.${g}`)))throw new Ki("Invalid JWT signature");return{data:{claims:u,header:l,signature:d},error:null}}catch(a){if(J(a))return this._returnResult({data:null,error:a});throw a}}};$l.nextInstanceID={};const Sy=Nl,Ey=$l,ky=Object.freeze(Object.defineProperty({__proto__:null,AuthAdminApi:Sy,AuthApiError:jf,AuthClient:Ey,AuthError:_n,AuthImplicitGrantRedirectError:hs,AuthInvalidCredentialsError:ds,AuthInvalidJwtError:Ki,AuthInvalidTokenResponseError:Ar,AuthPKCEGrantCodeExchangeError:kl,AuthRetryableFetchError:Hi,AuthSessionMissingError:rt,AuthUnknownError:pr,AuthWeakPasswordError:xl,CustomAuthError:Gt,GoTrueAdminApi:Nl,GoTrueClient:$l,NavigatorLockAcquireTimeoutError:Lf,SIGN_OUT_SCOPES:zi,isAuthApiError:Pf,isAuthError:J,isAuthImplicitGrantRedirectError:Af,isAuthRetryableFetchError:Mi,isAuthSessionMissingError:Rf,isAuthWeakPasswordError:bv,lockInternals:Ir,navigatorLock:Uf,processLock:ey},Symbol.toStringTag,{value:"Module"})),Mf=gs(ky);var vh;function xy(){if(vh)return cs;vh=1,Object.defineProperty(cs,"__esModule",{value:!0}),cs.SupabaseAuthClient=void 0;const o=Mf;let r=class extends o.AuthClient{constructor(a){super(a)}};return cs.SupabaseAuthClient=r,cs}var yh;function wh(){if(yh)return ji;yh=1,Object.defineProperty(ji,"__esModule",{value:!0});const o=Yh,r=nf(),s=ff,a=gv,l=vv(),u=yv(),d=wv(),f=xy();class g{constructor(y,w,E){var x,C,R;this.supabaseUrl=y,this.supabaseKey=w;const j=(0,d.validateSupabaseUrl)(y);if(!w)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",j),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",j),this.storageUrl=new URL("storage/v1",j),this.functionsUrl=new URL("functions/v1",j);const U=`sb-${j.hostname.split(".")[0]}-auth-token`,B={db:l.DEFAULT_DB_OPTIONS,realtime:l.DEFAULT_REALTIME_OPTIONS,auth:Object.assign(Object.assign({},l.DEFAULT_AUTH_OPTIONS),{storageKey:U}),global:l.DEFAULT_GLOBAL_OPTIONS},$=(0,d.applySettingDefaults)(E??{},B);this.storageKey=(x=$.auth.storageKey)!==null&&x!==void 0?x:"",this.headers=(C=$.global.headers)!==null&&C!==void 0?C:{},$.accessToken?(this.accessToken=$.accessToken,this.auth=new Proxy({},{get:(F,ne)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(ne)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((R=$.auth)!==null&&R!==void 0?R:{},this.headers,$.global.fetch),this.fetch=(0,u.fetchWithAuth)(w,this._getAccessToken.bind(this),$.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},$.realtime)),this.accessToken&&this.accessToken().then(F=>this.realtime.setAuth(F)).catch(F=>console.warn("Failed to set initial Realtime auth token:",F)),this.rest=new r.PostgrestClient(new URL("rest/v1",j).href,{headers:this.headers,schema:$.db.schema,fetch:this.fetch}),this.storage=new a.StorageClient(this.storageUrl.href,this.headers,this.fetch,E?.storage),$.accessToken||this._listenForAuthEvents()}get functions(){return new o.FunctionsClient(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(y){return this.rest.from(y)}schema(y){return this.rest.schema(y)}rpc(y,w={},E={head:!1,get:!1,count:void 0}){return this.rest.rpc(y,w,E)}channel(y,w={config:{}}){return this.realtime.channel(y,w)}getChannels(){return this.realtime.getChannels()}removeChannel(y){return this.realtime.removeChannel(y)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var y,w;if(this.accessToken)return await this.accessToken();const{data:E}=await this.auth.getSession();return(w=(y=E.session)===null||y===void 0?void 0:y.access_token)!==null&&w!==void 0?w:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:y,persistSession:w,detectSessionInUrl:E,storage:x,userStorage:C,storageKey:R,flowType:j,lock:U,debug:B,throwOnError:$},F,ne){const re={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new f.SupabaseAuthClient({url:this.authUrl.href,headers:Object.assign(Object.assign({},re),F),storageKey:R,autoRefreshToken:y,persistSession:w,detectSessionInUrl:E,storage:x,userStorage:C,flowType:j,lock:U,debug:B,throwOnError:$,fetch:ne,hasCustomAuthorizationHeader:Object.keys(this.headers).some(Q=>Q.toLowerCase()==="authorization")})}_initRealtimeClient(y){return new s.RealtimeClient(this.realtimeUrl.href,Object.assign(Object.assign({},y),{params:Object.assign({apikey:this.supabaseKey},y?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((w,E)=>{this._handleTokenChanged(w,"CLIENT",E?.access_token)})}_handleTokenChanged(y,w,E){(y==="TOKEN_REFRESHED"||y==="SIGNED_IN")&&this.changedAccessToken!==E?(this.changedAccessToken=E,this.realtime.setAuth(E)):y==="SIGNED_OUT"&&(this.realtime.setAuth(),w=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}return ji.default=g,ji}var _h;function by(){return _h||(_h=1,(function(o){var r=Ht&&Ht.__createBinding||(Object.create?(function(y,w,E,x){x===void 0&&(x=E);var C=Object.getOwnPropertyDescriptor(w,E);(!C||("get"in C?!w.__esModule:C.writable||C.configurable))&&(C={enumerable:!0,get:function(){return w[E]}}),Object.defineProperty(y,x,C)}):(function(y,w,E,x){x===void 0&&(x=E),y[x]=w[E]})),s=Ht&&Ht.__exportStar||function(y,w){for(var E in y)E!=="default"&&!Object.prototype.hasOwnProperty.call(w,E)&&r(w,y,E)},a=Ht&&Ht.__importDefault||function(y){return y&&y.__esModule?y:{default:y}};Object.defineProperty(o,"__esModule",{value:!0}),o.createClient=o.SupabaseClient=o.FunctionRegion=o.FunctionsError=o.FunctionsRelayError=o.FunctionsFetchError=o.FunctionsHttpError=o.PostgrestError=void 0;const l=a(wh());s(Mf,o);var u=nf();Object.defineProperty(o,"PostgrestError",{enumerable:!0,get:function(){return u.PostgrestError}});var d=Yh;Object.defineProperty(o,"FunctionsHttpError",{enumerable:!0,get:function(){return d.FunctionsHttpError}}),Object.defineProperty(o,"FunctionsFetchError",{enumerable:!0,get:function(){return d.FunctionsFetchError}}),Object.defineProperty(o,"FunctionsRelayError",{enumerable:!0,get:function(){return d.FunctionsRelayError}}),Object.defineProperty(o,"FunctionsError",{enumerable:!0,get:function(){return d.FunctionsError}}),Object.defineProperty(o,"FunctionRegion",{enumerable:!0,get:function(){return d.FunctionRegion}}),s(ff,o);var f=wh();Object.defineProperty(o,"SupabaseClient",{enumerable:!0,get:function(){return a(f).default}});const g=(y,w,E)=>new l.default(y,w,E);o.createClient=g;function m(){if(typeof window<"u"||typeof process>"u")return!1;const y=process.version;if(y==null)return!1;const w=y.match(/^v(\d+)\./);return w?parseInt(w[1],10)<=18:!1}m()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217")})(Ht)),Ht}var zf=by();const Ff=Mg(zf),Ty=Bg({__proto__:null,default:Ff},[zf]),{PostgrestError:a0,FunctionsHttpError:l0,FunctionsFetchError:u0,FunctionsRelayError:c0,FunctionsError:d0,FunctionRegion:h0,SupabaseClient:f0,createClient:Oy,GoTrueAdminApi:p0,GoTrueClient:g0,AuthAdminApi:m0,AuthClient:v0,navigatorLock:y0,NavigatorLockAcquireTimeoutError:w0,lockInternals:_0,processLock:S0,SIGN_OUT_SCOPES:E0,AuthError:k0,AuthApiError:x0,AuthUnknownError:b0,CustomAuthError:T0,AuthSessionMissingError:O0,AuthInvalidTokenResponseError:C0,AuthInvalidCredentialsError:j0,AuthImplicitGrantRedirectError:P0,AuthPKCEGrantCodeExchangeError:R0,AuthRetryableFetchError:A0,AuthWeakPasswordError:N0,AuthInvalidJwtError:I0,isAuthError:$0,isAuthApiError:L0,isAuthSessionMissingError:U0,isAuthImplicitGrantRedirectError:D0,isAuthRetryableFetchError:B0,isAuthWeakPasswordError:M0,RealtimePresence:z0,RealtimeChannel:F0,RealtimeClient:V0,REALTIME_LISTEN_TYPES:W0,REALTIME_POSTGRES_CHANGES_LISTEN_EVENT:q0,REALTIME_PRESENCE_LISTEN_EVENTS:H0,REALTIME_SUBSCRIBE_STATES:K0,REALTIME_CHANNEL_STATES:G0}=Ff||Ty,Cy="https://npregkljxovtmsysmmhu.supabase.co",jy="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im5wcmVna2xqeG92dG1zeXNtbWh1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjUwNzQ1MTgsImV4cCI6MjA4MDY1MDUxOH0.833xA_vQb1PJ4bAvTtPm1_vlr29y1h29KUpv8hw4vpc",yn=Oy(Cy,jy);function Py(){const[o,r]=xe.useState(!1),[s,a]=xe.useState(!0),[l,u]=xe.useState(!1),[d,f]=xe.useState(!1),[g,m]=xe.useState(null),[y,w]=xe.useState(null),[E,x]=xe.useState(""),[C,R]=xe.useState(""),[j,U]=xe.useState(""),[B,$]=xe.useState(""),F=async Q=>{if(Q.preventDefault(),f(!0),m(null),w(null),!E.trim()){m("Please enter your name"),f(!1);return}if(!C.trim()){m("Please enter your email"),f(!1);return}if(j.length<6){m("Password must be at least 6 characters"),f(!1);return}try{const{data:ae,error:Oe}=await yn.auth.signUp({email:C.trim(),password:j,options:{data:{name:E.trim(),phone:B.trim()||null}}});if(Oe)throw Oe;w("Account created successfully! You can now login."),x(""),R(""),U(""),$("")}catch(ae){ae.message?.includes("already registered")?m("This email is already registered. Please login instead."):ae.message?.includes("password")?m("Password must be at least 6 characters"):m(ae.message||"An error occurred during sign up")}finally{f(!1)}},ne=async Q=>{if(Q.preventDefault(),f(!0),m(null),w(null),!C.trim()){m("Please enter your email"),f(!1);return}if(!j){m("Please enter your password"),f(!1);return}try{const{error:ae}=await yn.auth.signInWithPassword({email:C.trim(),password:j});if(ae)throw ae}catch(ae){ae.message?.includes("Invalid login credentials")?m("Invalid email or password"):ae.message?.includes("Email not confirmed")?m("Please verify your email before logging in"):m(ae.message||"An error occurred during login")}finally{f(!1)}},re=async()=>{if(!C.trim()){m("Please enter your email address first");return}f(!0),m(null),w(null);try{const{error:Q}=await yn.auth.resetPasswordForEmail(C.trim(),{redirectTo:`${window.location.origin}/reset-password`});if(Q)throw Q;w("Password reset email sent! Check your inbox.")}catch(Q){m(Q.message||"Failed to send reset email")}finally{f(!1)}};return s?k.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center p-6",children:k.jsxs("div",{className:"max-w-sm w-full",children:[k.jsxs("div",{className:"text-center mb-8",children:[k.jsx("div",{className:"text-4xl mb-2",children:""}),k.jsx("h1",{className:"text-2xl",children:"BOGO FINDS"})]}),k.jsx("div",{className:"bg-gradient-to-br from-yellow-200 via-orange-100 to-yellow-200 rounded-3xl p-12 mb-8 h-64 flex items-center justify-center",children:k.jsxs("div",{className:"text-center text-gray-400",children:[k.jsx("p",{className:"text-sm",children:"Illustration Area"}),k.jsx("p",{className:"text-xs",children:"(Insert image here)"})]})}),k.jsxs("div",{className:"text-center mb-8",children:[k.jsx("h2",{className:"text-4xl mb-4",children:"WELCOME!"}),k.jsx("p",{className:"text-gray-500",children:"Find the best BOGO deals with easy, on-demand discovery"})]}),k.jsxs("div",{className:"space-y-4",children:[k.jsx("button",{onClick:()=>{a(!1),r(!0),m(null),w(null)},className:"w-full bg-coral-400 hover:bg-coral-500 text-white py-4 rounded-2xl transition-all",style:{backgroundColor:"#E07B7B"},children:"Login"}),k.jsx("button",{onClick:()=>{a(!1),r(!1),m(null),w(null)},className:"w-full bg-white text-coral-400 py-4 rounded-2xl border-2 transition-all hover:bg-gray-50",style:{borderColor:"#E07B7B",color:"#E07B7B"},children:"Sign Up"})]})]})}):o?k.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[k.jsxs("div",{className:"bg-gradient-to-br from-orange-200 via-pink-100 to-yellow-100 h-64 flex items-center justify-center relative",children:[k.jsx("button",{onClick:()=>{a(!0),m(null),w(null)},className:"absolute top-6 left-6 w-10 h-10 bg-white rounded-full flex items-center justify-center shadow-md hover:shadow-lg transition-all",children:k.jsx(Md,{className:"w-5 h-5"})}),k.jsxs("div",{className:"text-center text-gray-400",children:[k.jsx("p",{className:"text-sm",children:"Image Area"}),k.jsx("p",{className:"text-xs",children:"(Insert image here)"})]})]}),k.jsx("div",{className:"flex-1 flex items-center justify-center p-6",children:k.jsxs("div",{className:"max-w-sm w-full",children:[k.jsx("h2",{className:"text-4xl text-center mb-2",style:{color:"#E07B7B"},children:"Login Now"}),k.jsx("p",{className:"text-center text-gray-400 mb-8",children:"Sign in to your account"}),g&&k.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-4 text-sm",children:g}),y&&k.jsx("div",{className:"bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded-lg mb-4 text-sm",children:y}),k.jsxs("form",{onSubmit:ne,className:"space-y-4 mb-6",children:[k.jsxs("div",{children:[k.jsx("label",{className:"text-sm text-gray-600 mb-2 block",children:"Email"}),k.jsxs("div",{className:"relative",children:[k.jsx(Wd,{className:"w-5 h-5 text-gray-400 absolute left-4 top-1/2 -translate-y-1/2"}),k.jsx("input",{type:"email",value:C,onChange:Q=>R(Q.target.value),placeholder:"NikolajKim@gmail.com",className:"w-full pl-12 pr-4 py-4 border-2 border-gray-200 rounded-2xl outline-none focus:border-coral-400 transition-all",style:{"--tw-ring-color":"#E07B7B"},disabled:d,required:!0})]})]}),k.jsxs("div",{children:[k.jsx("label",{className:"text-sm text-gray-600 mb-2 block",children:"Password"}),k.jsxs("div",{className:"relative",children:[k.jsx(Vd,{className:"w-5 h-5 text-gray-400 absolute left-4 top-1/2 -translate-y-1/2"}),k.jsx("input",{type:l?"text":"password",value:j,onChange:Q=>U(Q.target.value),placeholder:"Enter your password",className:"w-full pl-12 pr-12 py-4 border-2 border-gray-200 rounded-2xl outline-none focus:border-coral-400 transition-all",disabled:d,required:!0}),k.jsx("button",{type:"button",onClick:()=>u(!l),className:"absolute right-4 top-1/2 -translate-y-1/2",disabled:d,children:l?k.jsx(zd,{className:"w-5 h-5 text-gray-400"}):k.jsx(Fd,{className:"w-5 h-5 text-gray-400"})})]}),k.jsx("div",{className:"text-right mt-2",children:k.jsx("button",{type:"button",className:"text-xs text-gray-400 hover:text-coral-400 transition-colors",onClick:re,disabled:d,style:{color:d?"#9CA3AF":void 0},children:"Forget Password?"})})]}),k.jsx("button",{type:"submit",disabled:d,className:`w-full text-white py-4 rounded-2xl transition-all mt-6 ${d?"opacity-50 cursor-not-allowed":"hover:opacity-90"}`,style:{backgroundColor:"#E07B7B"},children:d?"Loading...":"Login"})]}),k.jsxs("p",{className:"text-center text-gray-500 text-sm mb-6",children:["Don't have an account?"," ",k.jsx("button",{onClick:()=>{r(!1),m(null),w(null)},className:"text-coral-400 hover:underline",style:{color:"#E07B7B"},disabled:d,children:"Sign Up"})]})]})})]}):k.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[k.jsxs("div",{className:"bg-gradient-to-br from-orange-200 via-pink-100 to-yellow-100 h-64 flex items-center justify-center relative",children:[k.jsx("button",{onClick:()=>{a(!0),m(null),w(null)},className:"absolute top-6 left-6 w-10 h-10 bg-white rounded-full flex items-center justify-center shadow-md hover:shadow-lg transition-all",children:k.jsx(Md,{className:"w-5 h-5"})}),k.jsxs("div",{className:"text-center text-gray-400",children:[k.jsx("p",{className:"text-sm",children:"Image Area"}),k.jsx("p",{className:"text-xs",children:"(Insert image here)"})]})]}),k.jsx("div",{className:"flex-1 flex items-center justify-center p-6",children:k.jsxs("div",{className:"max-w-sm w-full",children:[k.jsx("h2",{className:"text-4xl text-center mb-2",style:{color:"#E07B7B"},children:"Sign up Now"}),k.jsx("p",{className:"text-center text-gray-400 mb-8",children:"Create account and choose favorite menu"}),g&&k.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg mb-4 text-sm",children:g}),y&&k.jsx("div",{className:"bg-green-50 border border-green-200 text-green-700 px-4 py-3 rounded-lg mb-4 text-sm",children:y}),k.jsxs("form",{onSubmit:F,className:"space-y-4 mb-6",children:[k.jsxs("div",{children:[k.jsx("label",{className:"text-sm text-gray-600 mb-2 block",children:"Name"}),k.jsxs("div",{className:"relative",children:[k.jsx(gm,{className:"w-5 h-5 text-gray-400 absolute left-4 top-1/2 -translate-y-1/2"}),k.jsx("input",{type:"text",value:E,onChange:Q=>x(Q.target.value),placeholder:"Nikolaj Kim",className:"w-full pl-12 pr-4 py-4 border-2 border-gray-200 rounded-2xl outline-none focus:border-coral-400 transition-all",disabled:d,required:!0})]})]}),k.jsxs("div",{children:[k.jsx("label",{className:"text-sm text-gray-600 mb-2 block",children:"Email"}),k.jsxs("div",{className:"relative",children:[k.jsx(Wd,{className:"w-5 h-5 text-gray-400 absolute left-4 top-1/2 -translate-y-1/2"}),k.jsx("input",{type:"email",value:C,onChange:Q=>R(Q.target.value),placeholder:"Enter your Email address",className:"w-full pl-12 pr-4 py-4 border-2 border-gray-200 rounded-2xl outline-none focus:border-coral-400 transition-all",disabled:d,required:!0})]})]}),k.jsxs("div",{children:[k.jsx("label",{className:"text-sm text-gray-600 mb-2 block",children:"Password"}),k.jsxs("div",{className:"relative",children:[k.jsx(Vd,{className:"w-5 h-5 text-gray-400 absolute left-4 top-1/2 -translate-y-1/2"}),k.jsx("input",{type:l?"text":"password",value:j,onChange:Q=>U(Q.target.value),placeholder:"Enter your password",className:"w-full pl-12 pr-12 py-4 border-2 border-gray-200 rounded-2xl outline-none focus:border-coral-400 transition-all",disabled:d,required:!0,minLength:6}),k.jsx("button",{type:"button",onClick:()=>u(!l),className:"absolute right-4 top-1/2 -translate-y-1/2",disabled:d,children:l?k.jsx(zd,{className:"w-5 h-5 text-gray-400"}):k.jsx(Fd,{className:"w-5 h-5 text-gray-400"})})]}),k.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Must be at least 6 characters"})]}),k.jsxs("div",{children:[k.jsx("label",{className:"text-sm text-gray-600 mb-2 block",children:"Phone Number (Optional)"}),k.jsxs("div",{className:"relative",children:[k.jsx(cm,{className:"w-5 h-5 text-gray-400 absolute left-4 top-1/2 -translate-y-1/2"}),k.jsx("input",{type:"tel",value:B,onChange:Q=>$(Q.target.value),placeholder:"Enter your phone number",className:"w-full pl-12 pr-4 py-4 border-2 border-gray-200 rounded-2xl outline-none focus:border-coral-400 transition-all",disabled:d})]})]}),k.jsx("button",{type:"submit",disabled:d,className:`w-full text-white py-4 rounded-2xl transition-all mt-6 ${d?"opacity-50 cursor-not-allowed":"hover:opacity-90"}`,style:{backgroundColor:"#E07B7B"},children:d?"Creating Account...":"Sign Up"})]}),k.jsxs("p",{className:"text-center text-gray-500 text-sm mb-6",children:["Already have an account?"," ",k.jsx("button",{onClick:()=>{r(!0),m(null),w(null)},className:"text-coral-400 hover:underline",style:{color:"#E07B7B"},disabled:d,children:"Login"})]})]})})]})}function Ry({deal:o,onClaim:r}){const s=a=>{switch(a){case"Fast Food":return"";case"Coffee":return"";case"Mexican":return"";case"Drinks":return"";case"Pizza":return"";case"Asian":return"";default:return""}};return k.jsx("div",{className:"min-w-[280px] w-[280px] snap-center",onClick:r,children:k.jsxs("div",{className:"bg-white rounded-3xl overflow-hidden shadow-lg hover:shadow-xl transition-all cursor-pointer",children:[k.jsxs("div",{className:`${o.color} p-12 relative flex items-center justify-center`,children:[k.jsxs("div",{className:"absolute top-3 right-3 bg-black text-white text-xs px-3 py-1 rounded-full",children:["Save ",o.savings]}),k.jsx("div",{className:"text-9xl transform hover:scale-110 transition-transform",style:{filter:"drop-shadow(0 20px 30px rgba(0,0,0,0.15)) drop-shadow(0 10px 20px rgba(0,0,0,0.1))",transform:"perspective(1000px) translateZ(50px)"},children:s(o.category)})]}),k.jsxs("div",{className:"p-5",children:[k.jsx("h3",{className:"text-xl mb-2",children:o.restaurant}),k.jsxs("div",{className:"flex items-center gap-3 text-sm text-gray-500 mb-4",children:[k.jsxs("div",{className:"flex items-center gap-1",children:[k.jsx(xh,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"}),k.jsx("span",{children:o.rating})]}),k.jsxs("div",{className:"flex items-center gap-1",children:[k.jsx(Eh,{className:"w-4 h-4 text-pink-400"}),k.jsx("span",{children:o.time})]})]}),k.jsx("div",{className:"flex items-center justify-between",children:k.jsxs("div",{children:[k.jsx("p",{className:"text-gray-500 text-xs mb-1",children:"You Save"}),k.jsx("p",{className:"text-2xl",children:o.savings})]})})]})]})})}function Ay({deal:o,onClose:r}){const s=u=>{switch(u){case"Fast Food":return"";case"Coffee":return"";case"Mexican":return"";case"Drinks":return"";case"Pizza":return"";case"Asian":return"";default:return""}},a=async()=>{const u={title:`${o.deal} at ${o.restaurant}`,text:`Check out this BOGO deal! Save ${o.savings} at ${o.restaurant}. ${o.description}`,url:window.location.href};try{navigator.share?await navigator.share(u):(await navigator.clipboard.writeText(`${u.text} ${u.url}`),alert("Deal link copied to clipboard!"))}catch(d){console.log("Error sharing:",d)}},l=`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(o.address||`${o.restaurant} Irvine CA`)}`;return k.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-6 animate-in fade-in",onClick:r,children:k.jsxs("div",{className:"bg-white rounded-3xl max-w-lg w-full max-h-[90vh] overflow-y-auto animate-in zoom-in slide-in-from-bottom-4",onClick:u=>u.stopPropagation(),children:[k.jsx("button",{onClick:r,className:"absolute top-8 right-8 w-10 h-10 bg-white rounded-full flex items-center justify-center shadow-lg hover:bg-gray-100 transition-all z-10",children:k.jsx(vm,{className:"w-5 h-5"})}),k.jsxs("div",{className:`${o.color} p-16 relative flex flex-col items-center justify-center`,children:[k.jsx("div",{className:"text-[12rem] mb-6",style:{filter:"drop-shadow(0 30px 50px rgba(0,0,0,0.2)) drop-shadow(0 20px 30px rgba(0,0,0,0.15))",transform:"perspective(1000px) translateZ(80px) rotateX(-5deg)"},children:s(o.category)}),k.jsxs("div",{className:"bg-black text-white px-6 py-2 rounded-full text-lg",children:["Save ",o.savings]})]}),k.jsxs("div",{className:"p-8",children:[k.jsx("h2",{className:"text-3xl mb-2",children:o.restaurant}),k.jsx("p",{className:"text-xl text-purple-500 mb-4",children:o.deal}),k.jsxs("div",{className:"flex items-center gap-4 mb-6 text-gray-600",children:[k.jsxs("div",{className:"flex items-center gap-2",children:[k.jsx(xh,{className:"w-5 h-5 fill-yellow-400 text-yellow-400"}),k.jsx("span",{children:o.rating})]}),k.jsxs("div",{className:"flex items-center gap-2",children:[k.jsx(Eh,{className:"w-5 h-5 text-pink-400"}),k.jsx("span",{children:o.time})]}),k.jsxs("a",{href:l,target:"_blank",rel:"noopener noreferrer",className:"flex items-center gap-2 hover:text-purple-600 transition-colors group cursor-pointer",title:"Get Directions",children:[k.jsx(kh,{className:"w-5 h-5 text-purple-400 group-hover:text-purple-600"}),o.restaurant," (",o.distance,")"]})]}),k.jsxs("div",{className:"bg-gray-100 rounded-2xl p-6 mb-6",children:[k.jsx("h3",{className:"mb-2",children:"About this deal"}),k.jsx("p",{className:"text-gray-600",children:o.description})]}),k.jsxs("div",{className:"bg-pink-100 rounded-2xl p-6 mb-6",children:[k.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Valid until"}),k.jsx("p",{className:"text-xl",children:o.validUntil})]}),k.jsxs("button",{className:"w-full bg-gradient-to-r from-purple-400 to-pink-400 text-white py-5 rounded-2xl text-lg hover:from-purple-500 hover:to-pink-500 transition-all flex items-center justify-center gap-2",onClick:a,children:[k.jsx(hm,{className:"w-5 h-5"}),"Share with Friends"]})]})]})})}const ll=[{id:1,restaurant:"In-N-Out Burger",deal:"BOGO Double-Double",description:"Buy one Double-Double, get one free. Valid for dine-in and takeout orders.",category:"Fast Food",distance:"0.5 mi",address:"4115 Campus Dr, Irvine, CA 92612",validUntil:"Nov 30",color:"bg-purple-200",savings:"$8.50",rating:4.8,time:"10 min"},{id:2,restaurant:"Starbucks UTC",deal:"BOGO Seasonal Drinks",description:"Buy one seasonal beverage, get one free. All sizes available.",category:"Coffee",distance:"0.3 mi",address:"4255 Campus Dr A150, Irvine, CA 92612",validUntil:"Nov 28",color:"bg-pink-200",savings:"$6.75",rating:4.6,time:"5 min"},{id:3,restaurant:"Chipotle",deal:"BOGO Bowls",description:"Buy one bowl or burrito, get one free with student ID.",category:"Mexican",distance:"1.2 mi",address:"4255 Campus Dr A150, Irvine, CA 92612",validUntil:"Dec 5",color:"bg-amber-200",savings:"$12.00",rating:4.5,time:"15 min"},{id:4,restaurant:"Milk Tea Lab",deal:"BOGO Boba Drinks",description:"Buy one boba drink, get one free. Choose from 20+ flavors.",category:"Drinks",distance:"0.8 mi",address:"4187 Campus Dr Suite M173, Irvine, CA 92612",validUntil:"Nov 29",color:"bg-purple-200",savings:"$7.50",rating:4.7,time:"8 min"},{id:5,restaurant:"Blaze Pizza",deal:"BOGO Personal Pizzas",description:"Build your own pizza, get a second one free with unlimited toppings.",category:"Pizza",distance:"1.5 mi",address:"4255 Campus Dr A120, Irvine, CA 92612",validUntil:"Dec 1",color:"bg-pink-200",savings:"$9.95",rating:4.4,time:"12 min"},{id:6,restaurant:"Panda Express",deal:"BOGO Bowls",description:"Buy one bowl, get one free. Mix and match your favorite entrees.",category:"Asian",distance:"0.4 mi",address:"A232 Student Center, Irvine, CA 92697",validUntil:"Nov 27",color:"bg-amber-200",savings:"$10.50",rating:4.3,time:"7 min"}];function Ny({userName:o}){const[r,s]=xe.useState("All"),[a,l]=xe.useState(null),[u,d]=xe.useState(!1),f=["All","Fast Food","Coffee","Mexican","Drinks","Pizza","Asian"],g=ll.filter(w=>r==="All"||w.category===r),m=ll.reduce((w,E)=>w+parseFloat(E.savings.replace("$","")),0),y=async()=>{try{const{error:w}=await yn.auth.signOut();w?console.error("Error signing out:",w):console.log("Successfully signed out")}catch(w){console.error("Error signing out:",w)}};return k.jsxs("div",{className:"min-h-screen bg-gray-100 pb-8",children:[k.jsxs("div",{className:"bg-white rounded-b-[2rem] p-6 pb-8 shadow-sm mb-6",children:[k.jsxs("div",{className:"flex items-center justify-between mb-6",children:[k.jsxs("div",{className:"flex items-center gap-3",children:[k.jsx(kh,{className:"w-5 h-5 text-purple-500"}),k.jsx("p",{className:"text-gray-600",children:"Irvine, CA"})]}),k.jsxs("div",{className:"relative",children:[k.jsx("button",{type:"button",onClick:w=>{w.stopPropagation(),console.log("Profile icon clicked, menu state:",u),d(!u)},className:"w-10 h-10 rounded-full bg-gradient-to-br from-purple-400 to-pink-400 flex items-center justify-center text-white hover:opacity-90 transition-opacity cursor-pointer",children:o[0]?.toUpperCase()||"A"}),u&&k.jsxs(k.Fragment,{children:[k.jsx("div",{className:"fixed inset-0 z-10",onClick:w=>{d(!1)}}),k.jsx("div",{className:"absolute mt-2 w-48 bg-white rounded-lg shadow-xl border border-gray-200 z-50",style:{right:"50%",transform:"translateX(50%)"},onClick:w=>w.stopPropagation(),children:k.jsxs("div",{className:"py-1",children:[k.jsx("div",{className:"px-4 py-2 border-b border-gray-100"}),k.jsxs("button",{type:"button",onClick:w=>{w.preventDefault(),w.stopPropagation(),d(!1),y()},onMouseDown:w=>{console.log("Logout button mouse down"),w.stopPropagation()},className:"w-full flex items-center gap-2 px-4 py-2 text-sm text-red-600 hover:bg-red-50 transition-colors text-left cursor-pointer",children:[k.jsx(om,{className:"w-4 h-4"}),"Logout"]})]})})]})]})]}),k.jsx("h1",{className:"text-3xl mb-2",children:"What BOGO deal are you claiming today?"}),k.jsx("div",{className:"bg-gradient-to-r from-pink-300 to-pink-200 rounded-3xl p-6 mt-6",children:k.jsxs("div",{className:"flex items-center justify-between",children:[k.jsxs("div",{children:[k.jsx("p",{className:"text-sm text-gray-700 mb-1",children:" Total Available Savings"}),k.jsxs("p",{className:"text-5xl mb-1",children:["$",m.toFixed(2)]}),k.jsxs("p",{className:"text-sm text-gray-600",children:["across ",ll.length," deals today!"]})]}),k.jsx("div",{className:"text-6xl",children:""})]})})]}),k.jsxs("div",{className:"px-6 mb-6",children:[k.jsxs("div",{className:"flex items-center justify-between mb-4",children:[k.jsx("h2",{className:"text-xl",children:"Categories"}),k.jsx("button",{className:"text-purple-500 text-sm",children:"See more"})]}),k.jsx("div",{className:"flex gap-3 overflow-x-auto pb-2 scrollbar-hide",children:f.map(w=>k.jsx("button",{onClick:()=>s(w),className:`px-5 py-2 rounded-full whitespace-nowrap transition-all ${r===w?"bg-black text-white":"bg-white text-gray-700"}`,children:w},w))})]}),k.jsxs("div",{className:"px-6",children:[k.jsx("h2",{className:"text-xl mb-4",children:"Available Deals"}),k.jsx("div",{className:"flex gap-5 overflow-x-auto pb-4 snap-x snap-mandatory scrollbar-hide",children:g.map(w=>k.jsx(Ry,{deal:w,onClaim:()=>l(w)},w.id))}),g.length===0&&k.jsxs("div",{className:"text-center py-12 text-gray-500",children:[k.jsx("p",{className:"text-4xl mb-2",children:""}),k.jsx("p",{children:"No deals found"})]})]}),a&&k.jsx(Ay,{deal:a,onClose:()=>l(null)})]})}function Iy(){const[o,r]=xe.useState(null),[s,a]=xe.useState(null),[l,u]=xe.useState(null),[d,f]=xe.useState(!0);return xe.useEffect(()=>{yn.auth.getSession().then(({data:{session:m}})=>{a(m),r(m?.user??null),m?.user&&u({id:m.user.id,name:m.user.user_metadata?.name||null,phone:m.user.phone||m.user.user_metadata?.phone||null}),f(!1)});const{data:{subscription:g}}=yn.auth.onAuthStateChange(async(m,y)=>{a(y),r(y?.user??null),y?.user?u({id:y.user.id,name:y.user.user_metadata?.name||null,phone:y.user.phone||y.user.user_metadata?.phone||null}):u(null),f(!1)});return()=>g.unsubscribe()},[]),{user:o,session:s,profile:l,loading:d}}function $y(){const{user:o,loading:r,profile:s}=Iy();if(r)return k.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:k.jsxs("div",{className:"text-center",children:[k.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-purple-500 mx-auto mb-4"}),k.jsx("p",{className:"text-gray-600",children:"Loading..."})]})});if(!o)return k.jsx(Py,{});const a=s?.name||o.email?.split("@")[0]||"User";return k.jsx(Ny,{userName:a})}function Ly(){return k.jsx($y,{})}Jg.createRoot(document.getElementById("root")).render(k.jsx(Ly,{}));
